{"version":3,"file":"@mysten_dapp-kit.js","names":["__classPrivateFieldGet","__classPrivateFieldSet","wallets","get","b64u","v.object","v.string","v.number","v.array","v.parse","v.variant","v.object","v.literal","v.string","v.optional","v.pipe","v.uuid","__typeError","__accessCheck","__privateGet","__privateAdd","__privateSet","__privateMethod","_id","__typeError","__accessCheck","__privateGet","__privateAdd","mitt","parse","wallets","listeners","x","useRef","useEffect","useMemo","useDebugValue","ReactExports","useSyncExternalStoreExports","React","toPrimitive","r","toPropertyKey","_defineProperty","ownKeys","_objectSpread2","u64.split","u64.rotrSH","u64.shrSH","u64.rotrSL","u64.shrSL","u64.rotrBH","u64.rotrBL","u64.add4L","u64.add4H","u64.add5L","u64.add5H","u64.add","u64.add3L","u64.add3H","sha512","_0n","_1n","title","bytesToHex_","hexToBytes_","isBytes_","object","_0n","_1n","_2n","_3n","_5n","_8n","x","number","r","Fp","_0n","_1n","window","wbits","Fp","Fn","_0n","_1n","_2n","_8n","Fp","x","Fn","uvRatio","title","p","adjustScalarBytes","r","eddsa","x","sha512","number","mod","r","bcs","bcs","sha512","bip39MnemonicToSeedSync","sha512n","parse","get","value","varName","merge","cssesc","string","r","markCompositionUsed","ownKeys","object","_defineProperty","dedent","__assign","r","lexicalAnalysis","consumeString","wouldStartIdentifier","consumeEscape","consumeNumeric","consumeNumber","consumeIdentUnsafe","consumeIdent","consumeUrl","consumeIdentLike","simplifyAST","simplifyMediaQuery","simplifyMediaCondition","createError","toAST","toUnflattenedAST","removeWhitespace","syntacticAnalysis","mediaQueryTokens","tokenizeMediaQuery","tokenizeMediaCondition","tokenizeMediaFeature","tokenizeRange","r","string","dedent","_loop","dependents","localClassNames","composedClassLists","content","identifier","rule","query","_loop2","key","v","#constructing","#starts","#ttls","#sizes","#keyMap","#keyList","#valList","#next","#prev","#head","#tail","#free","#isBackgroundFetch","#backgroundFetch","#moveToTail","#indexes","#rindexes","#isStale","#max","#maxSize","#calculatedSize","#size","#fetchMethod","#memoMethod","#dispose","#disposeAfter","#hasFetchMethod","#disposed","#hasDispose","#hasDisposeAfter","#initializeSizeTracking","#initializeTTLTracking","#setItemTTL","#delete","#updateItemAge","#statusTTL","#removeItemSize","#requireSize","#addItemSize","#evict","#isValidIndex","v","bf","#connect","#clear","isMergeableObject","deepmerge","object","array","mod","_7a468","Slot2","clsx","Slot3","clsx2","_7a4682","Slot4","clsx3","_7a4683","Slot5","clsx4","clsx5","wallets","Dialog.Root","Dialog.Trigger","Dialog.Portal","Dialog.Overlay","Dialog.Content","clsx6","Dialog.Title","Dialog.Close","isSuiClient","SuiClient","useMutation2","useMutation3","DropdownMenu.Root","DropdownMenu.Trigger","DropdownMenu.Portal","DropdownMenu.Content","DropdownMenu.Separator","DropdownMenu.Item","clsx7","useQuery2","_on","_connect","_signPersonalMessage","_signTransactionBlock","_signTransaction","_signAndExecuteTransaction","getWallets2","getWallets3","get","useMutation4","useMutation5","toBase642","toBase643","useMutation6","useMutation7","useMutation8","signTransaction2"],"sources":["../../.pnpm/clsx@2.1.1/node_modules/clsx/dist/clsx.mjs","../../.pnpm/@mysten+sui@1.45.2_typescript@5.9.3/node_modules/@mysten/sui/dist/esm/utils/format.js","../../.pnpm/@wallet-standard+app@1.1.0/node_modules/@wallet-standard/app/lib/esm/wallets.js","../../.pnpm/@wallet-standard+features@1.1.0/node_modules/@wallet-standard/features/lib/esm/connect.js","../../.pnpm/@wallet-standard+features@1.1.0/node_modules/@wallet-standard/features/lib/esm/events.js","../../.pnpm/@wallet-standard+wallet@1.1.0/node_modules/@wallet-standard/wallet/lib/esm/util.js","../../.pnpm/@mysten+wallet-standard@0.19.9_typescript@5.9.3/node_modules/@mysten/wallet-standard/dist/esm/wallet.js","../../.pnpm/@mysten+wallet-standard@0.19.9_typescript@5.9.3/node_modules/@mysten/wallet-standard/dist/esm/detect.js","../../.pnpm/@mysten+wallet-standard@0.19.9_typescript@5.9.3/node_modules/@mysten/wallet-standard/dist/esm/chains.js","../../.pnpm/mitt@3.0.1/node_modules/mitt/dist/mitt.mjs","../../.pnpm/jose@6.1.3/node_modules/jose/dist/webapi/lib/buffer_utils.js","../../.pnpm/jose@6.1.3/node_modules/jose/dist/webapi/lib/base64.js","../../.pnpm/jose@6.1.3/node_modules/jose/dist/webapi/util/base64url.js","../../.pnpm/jose@6.1.3/node_modules/jose/dist/webapi/util/errors.js","../../.pnpm/jose@6.1.3/node_modules/jose/dist/webapi/lib/is_object.js","../../.pnpm/jose@6.1.3/node_modules/jose/dist/webapi/util/decode_jwt.js","../../.pnpm/@mysten+window-wallet-core@0.1.1_typescript@5.9.3/node_modules/@mysten/window-wallet-core/dist/esm/jwt-session/index.js","../../.pnpm/@mysten+window-wallet-core@0.1.1_typescript@5.9.3/node_modules/@mysten/window-wallet-core/dist/esm/web-wallet-channel/responses.js","../../.pnpm/@mysten+window-wallet-core@0.1.1_typescript@5.9.3/node_modules/@mysten/window-wallet-core/dist/esm/web-wallet-channel/utils.js","../../.pnpm/@mysten+window-wallet-core@0.1.1_typescript@5.9.3/node_modules/@mysten/window-wallet-core/dist/esm/web-wallet-channel/dapp-post-message-channel.js","../../.pnpm/@mysten+slush-wallet@0.2.12_typescript@5.9.3/node_modules/@mysten/slush-wallet/dist/esm/wallet/index.js","../../.pnpm/zustand@4.5.7_@types+react@19.2.7_react@19.2.3/node_modules/zustand/esm/vanilla.mjs","../../.pnpm/use-sync-external-store@1.6.0_react@19.2.3/node_modules/use-sync-external-store/cjs/use-sync-external-store-shim/with-selector.development.js","../../.pnpm/use-sync-external-store@1.6.0_react@19.2.3/node_modules/use-sync-external-store/shim/with-selector.js","../../.pnpm/zustand@4.5.7_@types+react@19.2.7_react@19.2.3/node_modules/zustand/esm/index.mjs","../../.pnpm/@radix-ui+react-slot@1.2.4_@types+react@19.2.7_react@19.2.3/node_modules/@radix-ui/react-slot/dist/index.mjs","../../.pnpm/@vanilla-extract+recipes@0.5.7_@vanilla-extract+css@1.18.0/node_modules/@vanilla-extract/recipes/dist/createRuntimeFn-62c9670f.esm.js","../../.pnpm/@noble+hashes@1.8.0/node_modules/@noble/hashes/esm/sha2.js","../../.pnpm/@noble+curves@1.9.4/node_modules/@noble/curves/esm/utils.js","../../.pnpm/@noble+curves@1.9.4/node_modules/@noble/curves/esm/abstract/modular.js","../../.pnpm/@noble+curves@1.9.4/node_modules/@noble/curves/esm/abstract/curve.js","../../.pnpm/@noble+curves@1.9.4/node_modules/@noble/curves/esm/abstract/edwards.js","../../.pnpm/@noble+curves@1.9.4/node_modules/@noble/curves/esm/ed25519.js","../../.pnpm/@mysten+sui@1.45.2_typescript@5.9.3/node_modules/@mysten/sui/dist/esm/cryptography/intent.js","../../.pnpm/@mysten+sui@1.45.2_typescript@5.9.3/node_modules/@mysten/sui/dist/esm/cryptography/signature-scheme.js","../../.pnpm/@noble+hashes@1.8.0/node_modules/@noble/hashes/esm/hmac.js","../../.pnpm/@mysten+sui@1.45.2_typescript@5.9.3/node_modules/@mysten/sui/dist/esm/cryptography/publickey.js","../../.pnpm/@mysten+sui@1.45.2_typescript@5.9.3/node_modules/@mysten/sui/dist/esm/cryptography/signature.js","../../.pnpm/@mysten+sui@1.45.2_typescript@5.9.3/node_modules/@mysten/sui/dist/esm/cryptography/keypair.js","../../.pnpm/@noble+hashes@1.8.0/node_modules/@noble/hashes/esm/pbkdf2.js","../../.pnpm/@scure+bip39@1.6.0/node_modules/@scure/bip39/esm/index.js","../../.pnpm/@mysten+sui@1.45.2_typescript@5.9.3/node_modules/@mysten/sui/dist/esm/cryptography/mnemonics.js","../../.pnpm/@noble+hashes@1.8.0/node_modules/@noble/hashes/esm/sha512.js","../../.pnpm/@mysten+sui@1.45.2_typescript@5.9.3/node_modules/@mysten/sui/dist/esm/keypairs/ed25519/ed25519-hd-key.js","../../.pnpm/@mysten+sui@1.45.2_typescript@5.9.3/node_modules/@mysten/sui/dist/esm/keypairs/ed25519/publickey.js","../../.pnpm/@mysten+sui@1.45.2_typescript@5.9.3/node_modules/@mysten/sui/dist/esm/keypairs/ed25519/keypair.js","../../.pnpm/zustand@4.5.7_@types+react@19.2.7_react@19.2.3/node_modules/zustand/esm/middleware.mjs","../../.pnpm/@vanilla-extract+private@1.0.9/node_modules/@vanilla-extract/private/dist/vanilla-extract-private.esm.js","../../.pnpm/@vanilla-extract+dynamic@2.1.5/node_modules/@vanilla-extract/dynamic/dist/vanilla-extract-dynamic.esm.js","../../.pnpm/@vanilla-extract+css@1.18.0/node_modules/@vanilla-extract/css/injectStyles/dist/vanilla-extract-css-injectStyles.browser.esm.js","../../.pnpm/cssesc@3.0.0/node_modules/cssesc/cssesc.js","../../.pnpm/modern-ahocorasick@1.1.0/node_modules/modern-ahocorasick/dist/index.js","../../.pnpm/@vanilla-extract+css@1.18.0/node_modules/@vanilla-extract/css/adapter/dist/vanilla-extract-css-adapter.browser.esm.js","../../.pnpm/@vanilla-extract+css@1.18.0/node_modules/@vanilla-extract/css/dist/taggedTemplateLiteral-8e47dbd7.browser.esm.js","../../.pnpm/css-what@6.2.2/node_modules/css-what/lib/es/types.js","../../.pnpm/css-what@6.2.2/node_modules/css-what/lib/es/parse.js","../../.pnpm/dedent@1.7.1/node_modules/dedent/dist/dedent.mjs","../../.pnpm/media-query-parser@2.0.2/node_modules/media-query-parser/dist/media-query-parser.esm.js","../../.pnpm/@vanilla-extract+css@1.18.0/node_modules/@vanilla-extract/css/dist/transformCss-20240126.browser.esm.js","../../.pnpm/lru-cache@10.4.3/node_modules/lru-cache/dist/esm/index.js","../../.pnpm/picocolors@1.1.1/node_modules/picocolors/picocolors.browser.js","../../.pnpm/deepmerge@4.3.1/node_modules/deepmerge/dist/cjs.js","../../.pnpm/@vanilla-extract+css@1.18.0/node_modules/@vanilla-extract/css/dist/vanilla-extract-css.browser.esm.js","../../.pnpm/@mysten+dapp-kit@0.19.11_@tanstack+react-query@5.90.14_react@19.2.3__@types+react-dom@1_a463d101980818a1a0857326626a02ff/node_modules/@mysten/dapp-kit/dist/esm/index.js"],"sourcesContent":["function r(e){var t,f,n=\"\";if(\"string\"==typeof e||\"number\"==typeof e)n+=e;else if(\"object\"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=\" \"),n+=f)}else for(f in e)e[f]&&(n&&(n+=\" \"),n+=f);return n}export function clsx(){for(var e,t,f=0,n=\"\",o=arguments.length;f<o;f++)(e=arguments[f])&&(t=r(e))&&(n&&(n+=\" \"),n+=t);return n}export default clsx;","const ELLIPSIS = \"\\u2026\";\nfunction formatAddress(address) {\n  if (address.length <= 6) {\n    return address;\n  }\n  const offset = address.startsWith(\"0x\") ? 2 : 0;\n  return `0x${address.slice(offset, offset + 4)}${ELLIPSIS}${address.slice(-4)}`;\n}\nfunction formatDigest(digest) {\n  return `${digest.slice(0, 10)}${ELLIPSIS}`;\n}\nexport {\n  formatAddress,\n  formatDigest\n};\n//# sourceMappingURL=format.js.map\n","var __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar _AppReadyEvent_detail;\nlet wallets = undefined;\nconst registeredWalletsSet = new Set();\nfunction addRegisteredWallet(wallet) {\n    cachedWalletsArray = undefined;\n    registeredWalletsSet.add(wallet);\n}\nfunction removeRegisteredWallet(wallet) {\n    cachedWalletsArray = undefined;\n    registeredWalletsSet.delete(wallet);\n}\nconst listeners = {};\n/**\n * Get an API for {@link Wallets.get | getting}, {@link Wallets.on | listening for}, and\n * {@link Wallets.register | registering} {@link \"@wallet-standard/base\".Wallet | Wallets}.\n *\n * When called for the first time --\n *\n * This dispatches a {@link \"@wallet-standard/base\".WindowAppReadyEvent} to notify each Wallet that the app is ready\n * to register it.\n *\n * This also adds a listener for {@link \"@wallet-standard/base\".WindowRegisterWalletEvent} to listen for a notification\n * from each Wallet that the Wallet is ready to be registered by the app.\n *\n * This combination of event dispatch and listener guarantees that each Wallet will be registered synchronously as soon\n * as the app is ready whether the app loads before or after each Wallet.\n *\n * @return API for getting, listening for, and registering Wallets.\n *\n * @group App\n */\nexport function getWallets() {\n    if (wallets)\n        return wallets;\n    wallets = Object.freeze({ register, get, on });\n    if (typeof window === 'undefined')\n        return wallets;\n    const api = Object.freeze({ register });\n    try {\n        window.addEventListener('wallet-standard:register-wallet', ({ detail: callback }) => callback(api));\n    }\n    catch (error) {\n        console.error('wallet-standard:register-wallet event listener could not be added\\n', error);\n    }\n    try {\n        window.dispatchEvent(new AppReadyEvent(api));\n    }\n    catch (error) {\n        console.error('wallet-standard:app-ready event could not be dispatched\\n', error);\n    }\n    return wallets;\n}\nfunction register(...wallets) {\n    // Filter out wallets that have already been registered.\n    // This prevents the same wallet from being registered twice, but it also prevents wallets from being\n    // unregistered by reusing a reference to the wallet to obtain the unregister function for it.\n    wallets = wallets.filter((wallet) => !registeredWalletsSet.has(wallet));\n    // If there are no new wallets to register, just return a no-op unregister function.\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    if (!wallets.length)\n        return () => { };\n    wallets.forEach((wallet) => addRegisteredWallet(wallet));\n    listeners['register']?.forEach((listener) => guard(() => listener(...wallets)));\n    // Return a function that unregisters the registered wallets.\n    return function unregister() {\n        wallets.forEach((wallet) => removeRegisteredWallet(wallet));\n        listeners['unregister']?.forEach((listener) => guard(() => listener(...wallets)));\n    };\n}\nlet cachedWalletsArray;\nfunction get() {\n    if (!cachedWalletsArray) {\n        cachedWalletsArray = [...registeredWalletsSet];\n    }\n    return cachedWalletsArray;\n}\nfunction on(event, listener) {\n    listeners[event]?.push(listener) || (listeners[event] = [listener]);\n    // Return a function that removes the event listener.\n    return function off() {\n        listeners[event] = listeners[event]?.filter((existingListener) => listener !== existingListener);\n    };\n}\nfunction guard(callback) {\n    try {\n        callback();\n    }\n    catch (error) {\n        console.error(error);\n    }\n}\nclass AppReadyEvent extends Event {\n    get detail() {\n        return __classPrivateFieldGet(this, _AppReadyEvent_detail, \"f\");\n    }\n    get type() {\n        return 'wallet-standard:app-ready';\n    }\n    constructor(api) {\n        super('wallet-standard:app-ready', {\n            bubbles: false,\n            cancelable: false,\n            composed: false,\n        });\n        _AppReadyEvent_detail.set(this, void 0);\n        __classPrivateFieldSet(this, _AppReadyEvent_detail, api, \"f\");\n    }\n    /** @deprecated */\n    preventDefault() {\n        throw new Error('preventDefault cannot be called');\n    }\n    /** @deprecated */\n    stopImmediatePropagation() {\n        throw new Error('stopImmediatePropagation cannot be called');\n    }\n    /** @deprecated */\n    stopPropagation() {\n        throw new Error('stopPropagation cannot be called');\n    }\n}\n_AppReadyEvent_detail = new WeakMap();\n/**\n * @deprecated Use {@link getWallets} instead.\n *\n * @group Deprecated\n */\nexport function DEPRECATED_getWallets() {\n    if (wallets)\n        return wallets;\n    wallets = getWallets();\n    if (typeof window === 'undefined')\n        return wallets;\n    const callbacks = window.navigator.wallets || [];\n    if (!Array.isArray(callbacks)) {\n        console.error('window.navigator.wallets is not an array');\n        return wallets;\n    }\n    const { register } = wallets;\n    const push = (...callbacks) => callbacks.forEach((callback) => guard(() => callback({ register })));\n    try {\n        Object.defineProperty(window.navigator, 'wallets', {\n            value: Object.freeze({ push }),\n        });\n    }\n    catch (error) {\n        console.error('window.navigator.wallets could not be set');\n        return wallets;\n    }\n    push(...callbacks);\n    return wallets;\n}\n//# sourceMappingURL=wallets.js.map","/** Name of the feature. */\nexport const StandardConnect = 'standard:connect';\n/**\n * @deprecated Use {@link StandardConnect} instead.\n *\n * @group Deprecated\n */\nexport const Connect = StandardConnect;\n//# sourceMappingURL=connect.js.map","/** Name of the feature. */\nexport const StandardEvents = 'standard:events';\n/**\n * @deprecated Use {@link StandardEvents} instead.\n *\n * @group Deprecated\n */\nexport const Events = StandardEvents;\n//# sourceMappingURL=events.js.map","var __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar _ReadonlyWalletAccount_address, _ReadonlyWalletAccount_publicKey, _ReadonlyWalletAccount_chains, _ReadonlyWalletAccount_features, _ReadonlyWalletAccount_label, _ReadonlyWalletAccount_icon;\n/**\n * Base implementation of a {@link \"@wallet-standard/base\".WalletAccount} to be used or extended by a\n * {@link \"@wallet-standard/base\".Wallet}.\n *\n * `WalletAccount` properties must be read-only. This class enforces this by making all properties\n * [truly private](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes/Private_class_fields) and\n * read-only, using getters for access, returning copies instead of references, and calling\n * [Object.freeze](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/freeze)\n * on the instance.\n *\n * @group Account\n */\nexport class ReadonlyWalletAccount {\n    /** Implementation of {@link \"@wallet-standard/base\".WalletAccount.address | WalletAccount::address} */\n    get address() {\n        return __classPrivateFieldGet(this, _ReadonlyWalletAccount_address, \"f\");\n    }\n    /** Implementation of {@link \"@wallet-standard/base\".WalletAccount.publicKey | WalletAccount::publicKey} */\n    get publicKey() {\n        return __classPrivateFieldGet(this, _ReadonlyWalletAccount_publicKey, \"f\").slice();\n    }\n    /** Implementation of {@link \"@wallet-standard/base\".WalletAccount.chains | WalletAccount::chains} */\n    get chains() {\n        return __classPrivateFieldGet(this, _ReadonlyWalletAccount_chains, \"f\").slice();\n    }\n    /** Implementation of {@link \"@wallet-standard/base\".WalletAccount.features | WalletAccount::features} */\n    get features() {\n        return __classPrivateFieldGet(this, _ReadonlyWalletAccount_features, \"f\").slice();\n    }\n    /** Implementation of {@link \"@wallet-standard/base\".WalletAccount.label | WalletAccount::label} */\n    get label() {\n        return __classPrivateFieldGet(this, _ReadonlyWalletAccount_label, \"f\");\n    }\n    /** Implementation of {@link \"@wallet-standard/base\".WalletAccount.icon | WalletAccount::icon} */\n    get icon() {\n        return __classPrivateFieldGet(this, _ReadonlyWalletAccount_icon, \"f\");\n    }\n    /**\n     * Create and freeze a read-only account.\n     *\n     * @param account Account to copy properties from.\n     */\n    constructor(account) {\n        _ReadonlyWalletAccount_address.set(this, void 0);\n        _ReadonlyWalletAccount_publicKey.set(this, void 0);\n        _ReadonlyWalletAccount_chains.set(this, void 0);\n        _ReadonlyWalletAccount_features.set(this, void 0);\n        _ReadonlyWalletAccount_label.set(this, void 0);\n        _ReadonlyWalletAccount_icon.set(this, void 0);\n        if (new.target === ReadonlyWalletAccount) {\n            Object.freeze(this);\n        }\n        __classPrivateFieldSet(this, _ReadonlyWalletAccount_address, account.address, \"f\");\n        __classPrivateFieldSet(this, _ReadonlyWalletAccount_publicKey, account.publicKey.slice(), \"f\");\n        __classPrivateFieldSet(this, _ReadonlyWalletAccount_chains, account.chains.slice(), \"f\");\n        __classPrivateFieldSet(this, _ReadonlyWalletAccount_features, account.features.slice(), \"f\");\n        __classPrivateFieldSet(this, _ReadonlyWalletAccount_label, account.label, \"f\");\n        __classPrivateFieldSet(this, _ReadonlyWalletAccount_icon, account.icon, \"f\");\n    }\n}\n_ReadonlyWalletAccount_address = new WeakMap(), _ReadonlyWalletAccount_publicKey = new WeakMap(), _ReadonlyWalletAccount_chains = new WeakMap(), _ReadonlyWalletAccount_features = new WeakMap(), _ReadonlyWalletAccount_label = new WeakMap(), _ReadonlyWalletAccount_icon = new WeakMap();\n/**\n * Efficiently compare {@link Indexed} arrays (e.g. `Array` and `Uint8Array`).\n *\n * @param a An array.\n * @param b Another array.\n *\n * @return `true` if the arrays have the same length and elements, `false` otherwise.\n *\n * @group Util\n */\nexport function arraysEqual(a, b) {\n    if (a === b)\n        return true;\n    const length = a.length;\n    if (length !== b.length)\n        return false;\n    for (let i = 0; i < length; i++) {\n        if (a[i] !== b[i])\n            return false;\n    }\n    return true;\n}\n/**\n * Efficiently compare byte arrays, using {@link arraysEqual}.\n *\n * @param a A byte array.\n * @param b Another byte array.\n *\n * @return `true` if the byte arrays have the same length and bytes, `false` otherwise.\n *\n * @group Util\n */\nexport function bytesEqual(a, b) {\n    return arraysEqual(a, b);\n}\n/**\n * Efficiently concatenate byte arrays without modifying them.\n *\n * @param first  A byte array.\n * @param others Additional byte arrays.\n *\n * @return New byte array containing the concatenation of all the byte arrays.\n *\n * @group Util\n */\nexport function concatBytes(first, ...others) {\n    const length = others.reduce((length, bytes) => length + bytes.length, first.length);\n    const bytes = new Uint8Array(length);\n    bytes.set(first, 0);\n    for (const other of others) {\n        bytes.set(other, bytes.length);\n    }\n    return bytes;\n}\n/**\n * Create a new object with a subset of fields from a source object.\n *\n * @param source Object to pick fields from.\n * @param keys   Names of fields to pick.\n *\n * @return New object with only the picked fields.\n *\n * @group Util\n */\nexport function pick(source, ...keys) {\n    const picked = {};\n    for (const key of keys) {\n        picked[key] = source[key];\n    }\n    return picked;\n}\n/**\n * Call a callback function, catch an error if it throws, and log the error without rethrowing.\n *\n * @param callback Function to call.\n *\n * @group Util\n */\nexport function guard(callback) {\n    try {\n        callback();\n    }\n    catch (error) {\n        console.error(error);\n    }\n}\n//# sourceMappingURL=util.js.map","import { bcs } from \"@mysten/sui/bcs\";\nimport { Transaction } from \"@mysten/sui/transactions\";\nimport { fromBase64, toBase64 } from \"@mysten/sui/utils\";\nasync function signAndExecuteTransaction(wallet, input) {\n  if (wallet.features[\"sui:signAndExecuteTransaction\"]) {\n    return wallet.features[\"sui:signAndExecuteTransaction\"].signAndExecuteTransaction(input);\n  }\n  if (!wallet.features[\"sui:signAndExecuteTransactionBlock\"]) {\n    throw new Error(\n      `Provided wallet (${wallet.name}) does not support the signAndExecuteTransaction feature.`\n    );\n  }\n  const { signAndExecuteTransactionBlock } = wallet.features[\"sui:signAndExecuteTransactionBlock\"];\n  const transactionBlock = Transaction.from(await input.transaction.toJSON());\n  const { digest, rawEffects, rawTransaction } = await signAndExecuteTransactionBlock({\n    account: input.account,\n    chain: input.chain,\n    transactionBlock,\n    options: {\n      showRawEffects: true,\n      showRawInput: true\n    }\n  });\n  const [\n    {\n      txSignatures: [signature],\n      intentMessage: { value: bcsTransaction }\n    }\n  ] = bcs.SenderSignedData.parse(fromBase64(rawTransaction));\n  const bytes = bcs.TransactionData.serialize(bcsTransaction).toBase64();\n  return {\n    digest,\n    signature,\n    bytes,\n    effects: toBase64(new Uint8Array(rawEffects))\n  };\n}\nasync function signTransaction(wallet, input) {\n  if (wallet.features[\"sui:signTransaction\"]) {\n    return wallet.features[\"sui:signTransaction\"].signTransaction(input);\n  }\n  if (!wallet.features[\"sui:signTransactionBlock\"]) {\n    throw new Error(\n      `Provided wallet (${wallet.name}) does not support the signTransaction feature.`\n    );\n  }\n  const { signTransactionBlock } = wallet.features[\"sui:signTransactionBlock\"];\n  const transaction = Transaction.from(await input.transaction.toJSON());\n  const { transactionBlockBytes, signature } = await signTransactionBlock({\n    transactionBlock: transaction,\n    account: input.account,\n    chain: input.chain\n  });\n  return { bytes: transactionBlockBytes, signature };\n}\nexport {\n  signAndExecuteTransaction,\n  signTransaction\n};\n//# sourceMappingURL=wallet.js.map\n","import { StandardConnect, StandardEvents } from \"@wallet-standard/core\";\nconst REQUIRED_FEATURES = [StandardConnect, StandardEvents];\nfunction isWalletWithRequiredFeatureSet(wallet, additionalFeatures = []) {\n  return [...REQUIRED_FEATURES, ...additionalFeatures].every(\n    (feature) => feature in wallet.features\n  );\n}\nexport {\n  isWalletWithRequiredFeatureSet\n};\n//# sourceMappingURL=detect.js.map\n","const SUI_DEVNET_CHAIN = \"sui:devnet\";\nconst SUI_TESTNET_CHAIN = \"sui:testnet\";\nconst SUI_LOCALNET_CHAIN = \"sui:localnet\";\nconst SUI_MAINNET_CHAIN = \"sui:mainnet\";\nconst SUI_CHAINS = [\n  SUI_DEVNET_CHAIN,\n  SUI_TESTNET_CHAIN,\n  SUI_LOCALNET_CHAIN,\n  SUI_MAINNET_CHAIN\n];\nfunction isSuiChain(chain) {\n  return SUI_CHAINS.includes(chain);\n}\nexport {\n  SUI_CHAINS,\n  SUI_DEVNET_CHAIN,\n  SUI_LOCALNET_CHAIN,\n  SUI_MAINNET_CHAIN,\n  SUI_TESTNET_CHAIN,\n  isSuiChain\n};\n//# sourceMappingURL=chains.js.map\n","export default function(n){return{all:n=n||new Map,on:function(t,e){var i=n.get(t);i?i.push(e):n.set(t,[e])},off:function(t,e){var i=n.get(t);i&&(e?i.splice(i.indexOf(e)>>>0,1):n.set(t,[]))},emit:function(t,e){var i=n.get(t);i&&i.slice().map(function(n){n(e)}),(i=n.get(\"*\"))&&i.slice().map(function(n){n(t,e)})}}}\n//# sourceMappingURL=mitt.mjs.map\n","export const encoder = new TextEncoder();\nexport const decoder = new TextDecoder();\nconst MAX_INT32 = 2 ** 32;\nexport function concat(...buffers) {\n    const size = buffers.reduce((acc, { length }) => acc + length, 0);\n    const buf = new Uint8Array(size);\n    let i = 0;\n    for (const buffer of buffers) {\n        buf.set(buffer, i);\n        i += buffer.length;\n    }\n    return buf;\n}\nfunction writeUInt32BE(buf, value, offset) {\n    if (value < 0 || value >= MAX_INT32) {\n        throw new RangeError(`value must be >= 0 and <= ${MAX_INT32 - 1}. Received ${value}`);\n    }\n    buf.set([value >>> 24, value >>> 16, value >>> 8, value & 0xff], offset);\n}\nexport function uint64be(value) {\n    const high = Math.floor(value / MAX_INT32);\n    const low = value % MAX_INT32;\n    const buf = new Uint8Array(8);\n    writeUInt32BE(buf, high, 0);\n    writeUInt32BE(buf, low, 4);\n    return buf;\n}\nexport function uint32be(value) {\n    const buf = new Uint8Array(4);\n    writeUInt32BE(buf, value);\n    return buf;\n}\nexport function encode(string) {\n    const bytes = new Uint8Array(string.length);\n    for (let i = 0; i < string.length; i++) {\n        const code = string.charCodeAt(i);\n        if (code > 127) {\n            throw new TypeError('non-ASCII string encountered in encode()');\n        }\n        bytes[i] = code;\n    }\n    return bytes;\n}\n","export function encodeBase64(input) {\n    if (Uint8Array.prototype.toBase64) {\n        return input.toBase64();\n    }\n    const CHUNK_SIZE = 0x8000;\n    const arr = [];\n    for (let i = 0; i < input.length; i += CHUNK_SIZE) {\n        arr.push(String.fromCharCode.apply(null, input.subarray(i, i + CHUNK_SIZE)));\n    }\n    return btoa(arr.join(''));\n}\nexport function decodeBase64(encoded) {\n    if (Uint8Array.fromBase64) {\n        return Uint8Array.fromBase64(encoded);\n    }\n    const binary = atob(encoded);\n    const bytes = new Uint8Array(binary.length);\n    for (let i = 0; i < binary.length; i++) {\n        bytes[i] = binary.charCodeAt(i);\n    }\n    return bytes;\n}\n","import { encoder, decoder } from '../lib/buffer_utils.js';\nimport { encodeBase64, decodeBase64 } from '../lib/base64.js';\nexport function decode(input) {\n    if (Uint8Array.fromBase64) {\n        return Uint8Array.fromBase64(typeof input === 'string' ? input : decoder.decode(input), {\n            alphabet: 'base64url',\n        });\n    }\n    let encoded = input;\n    if (encoded instanceof Uint8Array) {\n        encoded = decoder.decode(encoded);\n    }\n    encoded = encoded.replace(/-/g, '+').replace(/_/g, '/');\n    try {\n        return decodeBase64(encoded);\n    }\n    catch {\n        throw new TypeError('The input to be decoded is not correctly encoded.');\n    }\n}\nexport function encode(input) {\n    let unencoded = input;\n    if (typeof unencoded === 'string') {\n        unencoded = encoder.encode(unencoded);\n    }\n    if (Uint8Array.prototype.toBase64) {\n        return unencoded.toBase64({ alphabet: 'base64url', omitPadding: true });\n    }\n    return encodeBase64(unencoded).replace(/=/g, '').replace(/\\+/g, '-').replace(/\\//g, '_');\n}\n","export class JOSEError extends Error {\n    static code = 'ERR_JOSE_GENERIC';\n    code = 'ERR_JOSE_GENERIC';\n    constructor(message, options) {\n        super(message, options);\n        this.name = this.constructor.name;\n        Error.captureStackTrace?.(this, this.constructor);\n    }\n}\nexport class JWTClaimValidationFailed extends JOSEError {\n    static code = 'ERR_JWT_CLAIM_VALIDATION_FAILED';\n    code = 'ERR_JWT_CLAIM_VALIDATION_FAILED';\n    claim;\n    reason;\n    payload;\n    constructor(message, payload, claim = 'unspecified', reason = 'unspecified') {\n        super(message, { cause: { claim, reason, payload } });\n        this.claim = claim;\n        this.reason = reason;\n        this.payload = payload;\n    }\n}\nexport class JWTExpired extends JOSEError {\n    static code = 'ERR_JWT_EXPIRED';\n    code = 'ERR_JWT_EXPIRED';\n    claim;\n    reason;\n    payload;\n    constructor(message, payload, claim = 'unspecified', reason = 'unspecified') {\n        super(message, { cause: { claim, reason, payload } });\n        this.claim = claim;\n        this.reason = reason;\n        this.payload = payload;\n    }\n}\nexport class JOSEAlgNotAllowed extends JOSEError {\n    static code = 'ERR_JOSE_ALG_NOT_ALLOWED';\n    code = 'ERR_JOSE_ALG_NOT_ALLOWED';\n}\nexport class JOSENotSupported extends JOSEError {\n    static code = 'ERR_JOSE_NOT_SUPPORTED';\n    code = 'ERR_JOSE_NOT_SUPPORTED';\n}\nexport class JWEDecryptionFailed extends JOSEError {\n    static code = 'ERR_JWE_DECRYPTION_FAILED';\n    code = 'ERR_JWE_DECRYPTION_FAILED';\n    constructor(message = 'decryption operation failed', options) {\n        super(message, options);\n    }\n}\nexport class JWEInvalid extends JOSEError {\n    static code = 'ERR_JWE_INVALID';\n    code = 'ERR_JWE_INVALID';\n}\nexport class JWSInvalid extends JOSEError {\n    static code = 'ERR_JWS_INVALID';\n    code = 'ERR_JWS_INVALID';\n}\nexport class JWTInvalid extends JOSEError {\n    static code = 'ERR_JWT_INVALID';\n    code = 'ERR_JWT_INVALID';\n}\nexport class JWKInvalid extends JOSEError {\n    static code = 'ERR_JWK_INVALID';\n    code = 'ERR_JWK_INVALID';\n}\nexport class JWKSInvalid extends JOSEError {\n    static code = 'ERR_JWKS_INVALID';\n    code = 'ERR_JWKS_INVALID';\n}\nexport class JWKSNoMatchingKey extends JOSEError {\n    static code = 'ERR_JWKS_NO_MATCHING_KEY';\n    code = 'ERR_JWKS_NO_MATCHING_KEY';\n    constructor(message = 'no applicable key found in the JSON Web Key Set', options) {\n        super(message, options);\n    }\n}\nexport class JWKSMultipleMatchingKeys extends JOSEError {\n    [Symbol.asyncIterator];\n    static code = 'ERR_JWKS_MULTIPLE_MATCHING_KEYS';\n    code = 'ERR_JWKS_MULTIPLE_MATCHING_KEYS';\n    constructor(message = 'multiple matching keys found in the JSON Web Key Set', options) {\n        super(message, options);\n    }\n}\nexport class JWKSTimeout extends JOSEError {\n    static code = 'ERR_JWKS_TIMEOUT';\n    code = 'ERR_JWKS_TIMEOUT';\n    constructor(message = 'request timed out', options) {\n        super(message, options);\n    }\n}\nexport class JWSSignatureVerificationFailed extends JOSEError {\n    static code = 'ERR_JWS_SIGNATURE_VERIFICATION_FAILED';\n    code = 'ERR_JWS_SIGNATURE_VERIFICATION_FAILED';\n    constructor(message = 'signature verification failed', options) {\n        super(message, options);\n    }\n}\n","const isObjectLike = (value) => typeof value === 'object' && value !== null;\nexport function isObject(input) {\n    if (!isObjectLike(input) || Object.prototype.toString.call(input) !== '[object Object]') {\n        return false;\n    }\n    if (Object.getPrototypeOf(input) === null) {\n        return true;\n    }\n    let proto = input;\n    while (Object.getPrototypeOf(proto) !== null) {\n        proto = Object.getPrototypeOf(proto);\n    }\n    return Object.getPrototypeOf(input) === proto;\n}\n","import { decode as b64u } from './base64url.js';\nimport { decoder } from '../lib/buffer_utils.js';\nimport { isObject } from '../lib/is_object.js';\nimport { JWTInvalid } from './errors.js';\nexport function decodeJwt(jwt) {\n    if (typeof jwt !== 'string')\n        throw new JWTInvalid('JWTs must use Compact JWS serialization, JWT must be a string');\n    const { 1: payload, length } = jwt.split('.');\n    if (length === 5)\n        throw new JWTInvalid('Only JWTs using Compact JWS serialization can be decoded');\n    if (length !== 3)\n        throw new JWTInvalid('Invalid JWT');\n    if (!payload)\n        throw new JWTInvalid('JWTs must contain a payload');\n    let decoded;\n    try {\n        decoded = b64u(payload);\n    }\n    catch {\n        throw new JWTInvalid('Failed to base64url decode the payload');\n    }\n    let result;\n    try {\n        result = JSON.parse(decoder.decode(decoded));\n    }\n    catch {\n        throw new JWTInvalid('Failed to parse the decoded payload as JSON');\n    }\n    if (!isObject(result))\n        throw new JWTInvalid('Invalid JWT Claims Set');\n    return result;\n}\n","import * as v from \"valibot\";\nimport { SignJWT, decodeJwt, jwtVerify } from \"jose\";\nconst AccountSchema = v.object({\n  address: v.string(),\n  publicKey: v.string()\n});\nconst JwtSessionSchema = v.object({\n  exp: v.number(),\n  // Expiration Time\n  iat: v.number(),\n  // Issued At\n  iss: v.string(),\n  // Issuer\n  aud: v.string(),\n  // Audience (the dapp origin)\n  payload: v.object({\n    accounts: v.array(AccountSchema)\n  })\n});\nasync function createJwtSession(payload, options) {\n  const token = await new SignJWT({ payload }).setProtectedHeader({ alg: \"HS256\" }).setExpirationTime(options.expirationTime).setIssuedAt().setIssuer(options.issuer).setAudience(options.audience).sign(options.secretKey);\n  return token;\n}\nfunction decodeJwtSession(jwt) {\n  const decodedJwt = decodeJwt(jwt);\n  return v.parse(JwtSessionSchema, decodedJwt);\n}\nasync function verifyJwtSession(jwt, secretKey) {\n  const verified = await jwtVerify(jwt, secretKey, { algorithms: [\"HS256\"] });\n  return v.parse(JwtSessionSchema, verified.payload);\n}\nexport {\n  createJwtSession,\n  decodeJwtSession,\n  verifyJwtSession\n};\n//# sourceMappingURL=index.js.map\n","import * as v from \"valibot\";\nconst ResponseData = v.variant(\"type\", [\n  v.object({\n    type: v.literal(\"connect\"),\n    session: v.string(\"`session` is required\")\n  }),\n  v.object({\n    type: v.literal(\"sign-transaction\"),\n    bytes: v.string(),\n    signature: v.string()\n  }),\n  v.object({\n    type: v.literal(\"sign-and-execute-transaction\"),\n    bytes: v.string(),\n    signature: v.string(),\n    digest: v.string(),\n    effects: v.string()\n  }),\n  v.object({\n    type: v.literal(\"sign-personal-message\"),\n    bytes: v.string(),\n    signature: v.string()\n  })\n]);\nconst ResponsePayload = v.variant(\"type\", [\n  v.object({\n    type: v.literal(\"reject\"),\n    reason: v.optional(v.string(\"`reason` must be a string\"))\n  }),\n  v.object({\n    type: v.literal(\"resolve\"),\n    data: ResponseData\n  })\n]);\nconst Response = v.object({\n  id: v.pipe(v.string(), v.uuid()),\n  source: v.literal(\"web-wallet-channel\"),\n  payload: ResponsePayload,\n  version: v.literal(\"1\")\n});\nexport {\n  Response,\n  ResponseData,\n  ResponsePayload\n};\n//# sourceMappingURL=responses.js.map\n","function getClientMetadata() {\n  return {\n    version: \"1\",\n    originUrl: window.location.href,\n    userAgent: navigator.userAgent,\n    screenResolution: `${window.screen.width}x${window.screen.height}`,\n    language: navigator.language,\n    platform: navigator.platform,\n    timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,\n    timestamp: Date.now()\n  };\n}\nexport {\n  getClientMetadata\n};\n//# sourceMappingURL=utils.js.map\n","var __typeError = (msg) => {\n  throw TypeError(msg);\n};\nvar __accessCheck = (obj, member, msg) => member.has(obj) || __typeError(\"Cannot \" + msg);\nvar __privateGet = (obj, member, getter) => (__accessCheck(obj, member, \"read from private field\"), getter ? getter.call(obj) : member.get(obj));\nvar __privateAdd = (obj, member, value) => member.has(obj) ? __typeError(\"Cannot add the same private member more than once\") : member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\nvar __privateSet = (obj, member, value, setter) => (__accessCheck(obj, member, \"write to private field\"), setter ? setter.call(obj, value) : member.set(obj, value), value);\nvar __privateMethod = (obj, member, method) => (__accessCheck(obj, member, \"access private method\"), method);\nvar _popup, _version, _id, _hostOrigin, _hostPathname, _appName, _extraRequestOptions, _promise, _resolve, _reject, _interval, _isSendCalled, _listener, _DappPostMessageChannel_instances, cleanup_fn;\nimport { safeParse } from \"valibot\";\nimport { Response } from \"./responses.js\";\nimport { promiseWithResolvers } from \"@mysten/utils\";\nimport { getClientMetadata } from \"./utils.js\";\nclass DappPostMessageChannel {\n  constructor({\n    appName,\n    hostOrigin,\n    hostPathname = \"dapp-request\",\n    extraRequestOptions,\n    popupWindow\n  }) {\n    __privateAdd(this, _DappPostMessageChannel_instances);\n    __privateAdd(this, _popup);\n    __privateAdd(this, _version, \"1\");\n    __privateAdd(this, _id);\n    __privateAdd(this, _hostOrigin);\n    __privateAdd(this, _hostPathname);\n    __privateAdd(this, _appName);\n    __privateAdd(this, _extraRequestOptions);\n    __privateAdd(this, _promise);\n    __privateAdd(this, _resolve);\n    __privateAdd(this, _reject);\n    __privateAdd(this, _interval, null);\n    __privateAdd(this, _isSendCalled, false);\n    __privateAdd(this, _listener, (event) => {\n      if (event.origin !== __privateGet(this, _hostOrigin)) {\n        return;\n      }\n      const { success, output } = safeParse(Response, event.data);\n      if (!success || output.id !== __privateGet(this, _id)) {\n        return;\n      }\n      __privateMethod(this, _DappPostMessageChannel_instances, cleanup_fn).call(this);\n      if (output.payload.type === \"reject\") {\n        __privateGet(this, _reject).call(this, new Error(\"User rejected the request\"));\n      } else if (output.payload.type === \"resolve\") {\n        __privateGet(this, _resolve).call(this, output.payload.data);\n      }\n    });\n    const popup = popupWindow ?? window.open(\"about:blank\", \"_blank\");\n    if (!popup) {\n      throw new Error(\"Failed to open new window\");\n    }\n    __privateSet(this, _id, crypto.randomUUID());\n    __privateSet(this, _popup, popup);\n    __privateSet(this, _hostOrigin, hostOrigin);\n    __privateSet(this, _hostPathname, hostPathname);\n    __privateSet(this, _appName, appName);\n    const { promise, resolve, reject } = promiseWithResolvers();\n    __privateSet(this, _promise, promise);\n    __privateSet(this, _resolve, resolve);\n    __privateSet(this, _reject, reject);\n    __privateSet(this, _extraRequestOptions, extraRequestOptions);\n    __privateSet(this, _interval, setInterval(() => {\n      try {\n        if (__privateGet(this, _popup).closed) {\n          __privateMethod(this, _DappPostMessageChannel_instances, cleanup_fn).call(this);\n          reject(new Error(\"User closed the wallet window\"));\n        }\n      } catch {\n      }\n    }, 1e3));\n  }\n  send({\n    type,\n    ...data\n  }) {\n    if (__privateGet(this, _popup).closed) {\n      throw new Error(\"User closed the wallet window\");\n    }\n    if (__privateGet(this, _isSendCalled)) {\n      throw new Error(\"send() can only be called once\");\n    }\n    __privateSet(this, _isSendCalled, true);\n    window.addEventListener(\"message\", __privateGet(this, _listener));\n    const requestData = {\n      version: __privateGet(this, _version),\n      requestId: __privateGet(this, _id),\n      appUrl: window.location.href.split(\"#\")[0],\n      appName: __privateGet(this, _appName),\n      payload: {\n        type,\n        ...data\n      },\n      metadata: getClientMetadata(),\n      extraRequestOptions: __privateGet(this, _extraRequestOptions)\n    };\n    const encodedRequestData = encodeURIComponent(btoa(JSON.stringify(requestData)));\n    __privateGet(this, _popup).location.assign(`${__privateGet(this, _hostOrigin)}/${__privateGet(this, _hostPathname)}#${encodedRequestData}`);\n    return __privateGet(this, _promise);\n  }\n  close() {\n    __privateMethod(this, _DappPostMessageChannel_instances, cleanup_fn).call(this);\n    __privateGet(this, _popup).close();\n  }\n}\n_popup = new WeakMap();\n_version = new WeakMap();\n_id = new WeakMap();\n_hostOrigin = new WeakMap();\n_hostPathname = new WeakMap();\n_appName = new WeakMap();\n_extraRequestOptions = new WeakMap();\n_promise = new WeakMap();\n_resolve = new WeakMap();\n_reject = new WeakMap();\n_interval = new WeakMap();\n_isSendCalled = new WeakMap();\n_listener = new WeakMap();\n_DappPostMessageChannel_instances = new WeakSet();\ncleanup_fn = function() {\n  if (__privateGet(this, _interval)) {\n    clearInterval(__privateGet(this, _interval));\n    __privateSet(this, _interval, null);\n  }\n  window.removeEventListener(\"message\", __privateGet(this, _listener));\n};\nexport {\n  DappPostMessageChannel\n};\n//# sourceMappingURL=dapp-post-message-channel.js.map\n","var __typeError = (msg) => {\n  throw TypeError(msg);\n};\nvar __accessCheck = (obj, member, msg) => member.has(obj) || __typeError(\"Cannot \" + msg);\nvar __privateGet = (obj, member, getter) => (__accessCheck(obj, member, \"read from private field\"), getter ? getter.call(obj) : member.get(obj));\nvar __privateAdd = (obj, member, value) => member.has(obj) ? __typeError(\"Cannot add the same private member more than once\") : member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\nvar __privateSet = (obj, member, value, setter) => (__accessCheck(obj, member, \"write to private field\"), setter ? setter.call(obj, value) : member.set(obj, value), value);\nvar __privateMethod = (obj, member, method) => (__accessCheck(obj, member, \"access private method\"), method);\nvar _id, _events, _accounts, _origin, _walletName, _icon, _name, _signTransactionBlock, _signTransaction, _signAndExecuteTransaction, _signPersonalMessage, _on, _SlushWallet_instances, setAccounts_fn, _connect, getPreviouslyAuthorizedAccounts_fn, _disconnect, getNewPopupChannel_fn;\nimport { fromBase64, toBase64 } from \"@mysten/sui/utils\";\nimport { getWallets, ReadonlyWalletAccount, SUI_CHAINS } from \"@mysten/wallet-standard\";\nimport mitt from \"mitt\";\nimport { boolean, object, parse, string } from \"valibot\";\nimport { DappPostMessageChannel, decodeJwtSession } from \"@mysten/window-wallet-core\";\nconst DEFAULT_SLUSH_ORIGIN = \"https://my.slush.app\";\nconst SLUSH_SESSION_KEY = \"slush:session\";\nconst SLUSH_WALLET_NAME = \"Slush\";\nconst SUI_WALLET_EXTENSION_ID = \"com.mystenlabs.suiwallet\";\nconst METADATA_API_URL = \"https://api.slush.app/api/wallet/metadata\";\nconst FALLBACK_METADATA = {\n  id: \"com.mystenlabs.suiwallet.web\",\n  walletName: \"Slush\",\n  description: \"Trade and earn on Sui.\",\n  icon: \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIHZpZXdCb3g9IjAgMCA1MCA1MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjUwIiBoZWlnaHQ9IjUwIiBmaWxsPSIjNENBMkZGIi8+CjxwYXRoIGQ9Ik0xMi4zNDczIDM0LjcyNTRDMTMuNTU1MyAzOS4yMzM2IDE4LjA2NzMgNDMuMzE0OCAyNy40MDI1IDQwLjgxMzRDMzYuMzA5NyAzOC40MjY3IDQxLjg5MjEgMzEuMDk5MyA0MC40NDQ2IDI1LjY5NzJDMzkuOTQ0NyAyMy44MzE3IDM4LjQzOTEgMjIuNTY4OSAzNi4xMTc4IDIyLjc3NDRMMTUuMzYxNSAyNC41MDM4QzE0LjA1NDQgMjQuNjA0MSAxMy40NTUgMjQuMzg5OCAxMy4xMDkyIDIzLjU2NjFDMTIuNzczOCAyMi43ODEyIDEyLjk2NDkgMjEuOTM4NSAxNC41NDM3IDIxLjE0MDZMMzAuMzM5NiAxMy4wMzQyQzMxLjU1MDMgMTIuNDE4MiAzMi4zNTY3IDEyLjE2MDUgMzMuMDkzNiAxMi40MjEzQzMzLjU1NTUgMTIuNTg5MSAzMy44NTk2IDEzLjI1NzQgMzMuNTgwMyAxNC4wODJMMzIuNTU2MSAxNy4xMDU2QzMxLjI5OTIgMjAuODE2NCAzMy45ODk5IDIxLjY3ODQgMzUuNTA2OCAyMS4yNzE5QzM3LjgwMTcgMjAuNjU3IDM4LjM0MTYgMTguNDcxMiAzNy42MDIzIDE1LjcxMTlDMzUuNzI3OCA4LjcxNjI5IDI4LjMwNTkgNy42MjI1NCAyMS41NzY4IDkuNDI1NTlDMTQuNzMxMSAxMS4yNTk5IDguNzk2ODEgMTYuODA3MiAxMC42MDg4IDIzLjU2OTZDMTEuMDM1OCAyNS4xNjMgMTIuNTAyNSAyNi40MzYyIDE0LjIwMTQgMjYuMzk3NUwxNi43OTUgMjYuMzkxMkMxNy4zMjg0IDI2LjM3ODggMTcuMTM2MyAyNi40MjI3IDE4LjE2NTMgMjYuMzM3NEMxOS4xOTQ0IDI2LjI1MjIgMjEuOTQyNSAyNS45MTQgMjEuOTQyNSAyNS45MTRMMzUuNDI3NSAyNC4zODhMMzUuNzc1IDI0LjMzNzVDMzYuNTYzNyAyNC4yMDMgMzcuMTU5NyAyNC40MDc5IDM3LjY2MzYgMjUuMjc2QzM4LjQxNzcgMjYuNTc1IDM3LjI2NzIgMjcuNTU0NiAzNS44ODk5IDI4LjcyNzJDMzUuODUzIDI4Ljc1ODYgMzUuODE2IDI4Ljc5MDEgMzUuNzc4OSAyOC44MjE4TDIzLjkyNSAzOS4wMzc3QzIxLjg5MzMgNDAuNzkwMSAyMC40NjYgNDAuMTMxMSAxOS45NjYyIDM4LjI2NTZMMTguMTk1OCAzMS42NTg3QzE3Ljc1ODUgMzAuMDI2NCAxNi4xNjQ2IDI4Ljc0NTYgMTQuMjk3NiAyOS4yNDU5QzExLjk2MzggMjkuODcxMiAxMS43NzQ2IDMyLjU4NzggMTIuMzQ3MyAzNC43MjU0WiIgZmlsbD0iIzA2MEQxNCIvPgo8L3N2Zz4K\",\n  enabled: true\n};\nconst WalletMetadataSchema = object({\n  id: string(\"Wallet ID is required\"),\n  walletName: string(\"Wallet name is required\"),\n  icon: string(\"Icon must be a valid wallet icon format\"),\n  enabled: boolean(\"Enabled is required\")\n});\nfunction setSessionToStorage(session) {\n  localStorage.setItem(SLUSH_SESSION_KEY, session);\n}\nfunction getSessionFromStorage() {\n  const session = localStorage.getItem(SLUSH_SESSION_KEY);\n  if (!session) {\n    throw new Error(\"No session found\");\n  }\n  return session;\n}\nconst walletAccountFeatures = [\n  \"sui:signTransaction\",\n  \"sui:signAndExecuteTransaction\",\n  \"sui:signPersonalMessage\",\n  \"sui:signTransactionBlock\",\n  \"sui:signAndExecuteTransactionBlock\"\n];\nfunction getAccountsFromSession(session) {\n  const { payload } = decodeJwtSession(session);\n  return payload.accounts.map((account) => {\n    return new ReadonlyWalletAccount({\n      address: account.address,\n      chains: SUI_CHAINS,\n      features: walletAccountFeatures,\n      publicKey: fromBase64(account.publicKey)\n    });\n  });\n}\nclass SlushWallet {\n  constructor({\n    name,\n    origin,\n    metadata\n  }) {\n    __privateAdd(this, _SlushWallet_instances);\n    __privateAdd(this, _id);\n    __privateAdd(this, _events);\n    __privateAdd(this, _accounts);\n    __privateAdd(this, _origin);\n    __privateAdd(this, _walletName);\n    __privateAdd(this, _icon);\n    __privateAdd(this, _name);\n    __privateAdd(this, _signTransactionBlock, async ({\n      transactionBlock,\n      account,\n      chain\n    }) => {\n      const data = await transactionBlock.toJSON();\n      const popup = __privateMethod(this, _SlushWallet_instances, getNewPopupChannel_fn).call(this);\n      const response = await popup.send({\n        type: \"sign-transaction\",\n        transaction: data,\n        address: account.address,\n        chain,\n        session: getSessionFromStorage()\n      });\n      return {\n        transactionBlockBytes: response.bytes,\n        signature: response.signature\n      };\n    });\n    __privateAdd(this, _signTransaction, async ({ transaction, account, chain }) => {\n      const popup = __privateMethod(this, _SlushWallet_instances, getNewPopupChannel_fn).call(this);\n      const tx = await transaction.toJSON();\n      const response = await popup.send({\n        type: \"sign-transaction\",\n        transaction: tx,\n        address: account.address,\n        chain,\n        session: getSessionFromStorage()\n      });\n      return {\n        bytes: response.bytes,\n        signature: response.signature\n      };\n    });\n    __privateAdd(this, _signAndExecuteTransaction, async ({\n      transaction,\n      account,\n      chain\n    }) => {\n      const popup = __privateMethod(this, _SlushWallet_instances, getNewPopupChannel_fn).call(this);\n      const data = await transaction.toJSON();\n      const response = await popup.send({\n        type: \"sign-and-execute-transaction\",\n        transaction: data,\n        address: account.address,\n        chain,\n        session: getSessionFromStorage()\n      });\n      return {\n        bytes: response.bytes,\n        signature: response.signature,\n        digest: response.digest,\n        effects: response.effects\n      };\n    });\n    __privateAdd(this, _signPersonalMessage, async ({ message, account, chain }) => {\n      const popup = __privateMethod(this, _SlushWallet_instances, getNewPopupChannel_fn).call(this);\n      const response = await popup.send({\n        type: \"sign-personal-message\",\n        message: toBase64(message),\n        address: account.address,\n        chain: chain ?? account.chains[0],\n        session: getSessionFromStorage()\n      });\n      return {\n        bytes: response.bytes,\n        signature: response.signature\n      };\n    });\n    __privateAdd(this, _on, (event, listener) => {\n      __privateGet(this, _events).on(event, listener);\n      return () => __privateGet(this, _events).off(event, listener);\n    });\n    __privateAdd(this, _connect, async (input) => {\n      if (input?.silent) {\n        return { accounts: this.accounts };\n      }\n      const popup = __privateMethod(this, _SlushWallet_instances, getNewPopupChannel_fn).call(this);\n      const response = await popup.send({\n        type: \"connect\"\n      });\n      setSessionToStorage(response.session);\n      __privateMethod(this, _SlushWallet_instances, setAccounts_fn).call(this, getAccountsFromSession(response.session));\n      return { accounts: this.accounts };\n    });\n    __privateAdd(this, _disconnect, async () => {\n      localStorage.removeItem(SLUSH_SESSION_KEY);\n      __privateMethod(this, _SlushWallet_instances, setAccounts_fn).call(this, []);\n    });\n    __privateSet(this, _id, metadata.id);\n    __privateSet(this, _accounts, __privateMethod(this, _SlushWallet_instances, getPreviouslyAuthorizedAccounts_fn).call(this));\n    __privateSet(this, _events, mitt());\n    __privateSet(this, _origin, origin || DEFAULT_SLUSH_ORIGIN);\n    __privateSet(this, _name, name);\n    __privateSet(this, _walletName, metadata.walletName);\n    __privateSet(this, _icon, metadata.icon);\n  }\n  get name() {\n    return __privateGet(this, _walletName);\n  }\n  get id() {\n    return __privateGet(this, _id);\n  }\n  get icon() {\n    return __privateGet(this, _icon);\n  }\n  get version() {\n    return \"1.0.0\";\n  }\n  get chains() {\n    return SUI_CHAINS;\n  }\n  get accounts() {\n    return __privateGet(this, _accounts);\n  }\n  get features() {\n    return {\n      \"standard:connect\": {\n        version: \"1.0.0\",\n        connect: __privateGet(this, _connect)\n      },\n      \"standard:disconnect\": {\n        version: \"1.0.0\",\n        disconnect: __privateGet(this, _disconnect)\n      },\n      \"standard:events\": {\n        version: \"1.0.0\",\n        on: __privateGet(this, _on)\n      },\n      \"sui:signTransactionBlock\": {\n        version: \"1.0.0\",\n        signTransactionBlock: __privateGet(this, _signTransactionBlock)\n      },\n      \"sui:signTransaction\": {\n        version: \"2.0.0\",\n        signTransaction: __privateGet(this, _signTransaction)\n      },\n      \"sui:signPersonalMessage\": {\n        version: \"1.1.0\",\n        signPersonalMessage: __privateGet(this, _signPersonalMessage)\n      },\n      \"sui:signAndExecuteTransaction\": {\n        version: \"2.0.0\",\n        signAndExecuteTransaction: __privateGet(this, _signAndExecuteTransaction)\n      }\n    };\n  }\n  updateMetadata(metadata) {\n    __privateSet(this, _id, metadata.id);\n    __privateSet(this, _walletName, metadata.walletName);\n    __privateSet(this, _icon, metadata.icon);\n  }\n}\n_id = new WeakMap();\n_events = new WeakMap();\n_accounts = new WeakMap();\n_origin = new WeakMap();\n_walletName = new WeakMap();\n_icon = new WeakMap();\n_name = new WeakMap();\n_signTransactionBlock = new WeakMap();\n_signTransaction = new WeakMap();\n_signAndExecuteTransaction = new WeakMap();\n_signPersonalMessage = new WeakMap();\n_on = new WeakMap();\n_SlushWallet_instances = new WeakSet();\nsetAccounts_fn = function(accounts) {\n  __privateSet(this, _accounts, accounts);\n  __privateGet(this, _events).emit(\"change\", { accounts: this.accounts });\n};\n_connect = new WeakMap();\ngetPreviouslyAuthorizedAccounts_fn = function() {\n  try {\n    return getAccountsFromSession(getSessionFromStorage());\n  } catch {\n    return [];\n  }\n};\n_disconnect = new WeakMap();\ngetNewPopupChannel_fn = function() {\n  return new DappPostMessageChannel({\n    appName: __privateGet(this, _name),\n    hostOrigin: __privateGet(this, _origin)\n  });\n};\nasync function fetchMetadata(metadataApiUrl) {\n  const response = await fetch(metadataApiUrl);\n  if (!response.ok) {\n    throw new Error(\"Failed to fetch wallet metadata\");\n  }\n  const data = await response.json();\n  return parse(WalletMetadataSchema, data);\n}\nfunction registerSlushWallet(name, {\n  origin,\n  metadataApiUrl = METADATA_API_URL\n} = {}) {\n  const wallets = getWallets();\n  let unregister = null;\n  wallets.on(\"register\", (wallet) => {\n    if (wallet.id === SUI_WALLET_EXTENSION_ID) {\n      unregister?.();\n    }\n  });\n  const extension = wallets.get().find((wallet) => wallet.id === SUI_WALLET_EXTENSION_ID);\n  if (extension) {\n    return;\n  }\n  const slushWalletInstance = new SlushWallet({\n    name,\n    origin,\n    metadata: FALLBACK_METADATA\n  });\n  unregister = wallets.register(slushWalletInstance);\n  fetchMetadata(metadataApiUrl).then((metadata) => {\n    if (!metadata.enabled) {\n      console.log(\"Slush wallet is not currently enabled.\");\n      unregister?.();\n      return;\n    }\n    slushWalletInstance.updateMetadata(metadata);\n  }).catch((error) => {\n    console.error(\"Error fetching metadata\", error);\n  });\n  return {\n    wallet: slushWalletInstance,\n    unregister\n  };\n}\nexport {\n  SLUSH_WALLET_NAME,\n  SlushWallet,\n  registerSlushWallet\n};\n//# sourceMappingURL=index.js.map\n","const createStoreImpl = (createState) => {\n  let state;\n  const listeners = /* @__PURE__ */ new Set();\n  const setState = (partial, replace) => {\n    const nextState = typeof partial === \"function\" ? partial(state) : partial;\n    if (!Object.is(nextState, state)) {\n      const previousState = state;\n      state = (replace != null ? replace : typeof nextState !== \"object\" || nextState === null) ? nextState : Object.assign({}, state, nextState);\n      listeners.forEach((listener) => listener(state, previousState));\n    }\n  };\n  const getState = () => state;\n  const getInitialState = () => initialState;\n  const subscribe = (listener) => {\n    listeners.add(listener);\n    return () => listeners.delete(listener);\n  };\n  const destroy = () => {\n    if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n      console.warn(\n        \"[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected.\"\n      );\n    }\n    listeners.clear();\n  };\n  const api = { setState, getState, getInitialState, subscribe, destroy };\n  const initialState = state = createState(setState, getState, api);\n  return api;\n};\nconst createStore = (createState) => createState ? createStoreImpl(createState) : createStoreImpl;\nvar vanilla = (createState) => {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n    console.warn(\n      \"[DEPRECATED] Default export is deprecated. Instead use import { createStore } from 'zustand/vanilla'.\"\n    );\n  }\n  return createStore(createState);\n};\n\nexport { createStore, vanilla as default };\n","/**\n * @license React\n * use-sync-external-store-shim/with-selector.development.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\n\"production\" !== process.env.NODE_ENV &&\n  (function () {\n    function is(x, y) {\n      return (x === y && (0 !== x || 1 / x === 1 / y)) || (x !== x && y !== y);\n    }\n    \"undefined\" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ &&\n      \"function\" ===\n        typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart &&\n      __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());\n    var React = require(\"react\"),\n      shim = require(\"use-sync-external-store/shim\"),\n      objectIs = \"function\" === typeof Object.is ? Object.is : is,\n      useSyncExternalStore = shim.useSyncExternalStore,\n      useRef = React.useRef,\n      useEffect = React.useEffect,\n      useMemo = React.useMemo,\n      useDebugValue = React.useDebugValue;\n    exports.useSyncExternalStoreWithSelector = function (\n      subscribe,\n      getSnapshot,\n      getServerSnapshot,\n      selector,\n      isEqual\n    ) {\n      var instRef = useRef(null);\n      if (null === instRef.current) {\n        var inst = { hasValue: !1, value: null };\n        instRef.current = inst;\n      } else inst = instRef.current;\n      instRef = useMemo(\n        function () {\n          function memoizedSelector(nextSnapshot) {\n            if (!hasMemo) {\n              hasMemo = !0;\n              memoizedSnapshot = nextSnapshot;\n              nextSnapshot = selector(nextSnapshot);\n              if (void 0 !== isEqual && inst.hasValue) {\n                var currentSelection = inst.value;\n                if (isEqual(currentSelection, nextSnapshot))\n                  return (memoizedSelection = currentSelection);\n              }\n              return (memoizedSelection = nextSnapshot);\n            }\n            currentSelection = memoizedSelection;\n            if (objectIs(memoizedSnapshot, nextSnapshot))\n              return currentSelection;\n            var nextSelection = selector(nextSnapshot);\n            if (void 0 !== isEqual && isEqual(currentSelection, nextSelection))\n              return (memoizedSnapshot = nextSnapshot), currentSelection;\n            memoizedSnapshot = nextSnapshot;\n            return (memoizedSelection = nextSelection);\n          }\n          var hasMemo = !1,\n            memoizedSnapshot,\n            memoizedSelection,\n            maybeGetServerSnapshot =\n              void 0 === getServerSnapshot ? null : getServerSnapshot;\n          return [\n            function () {\n              return memoizedSelector(getSnapshot());\n            },\n            null === maybeGetServerSnapshot\n              ? void 0\n              : function () {\n                  return memoizedSelector(maybeGetServerSnapshot());\n                }\n          ];\n        },\n        [getSnapshot, getServerSnapshot, selector, isEqual]\n      );\n      var value = useSyncExternalStore(subscribe, instRef[0], instRef[1]);\n      useEffect(\n        function () {\n          inst.hasValue = !0;\n          inst.value = value;\n        },\n        [value]\n      );\n      useDebugValue(value);\n      return value;\n    };\n    \"undefined\" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ &&\n      \"function\" ===\n        typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop &&\n      __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error());\n  })();\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim/with-selector.production.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim/with-selector.development.js');\n}\n","import { createStore } from 'zustand/vanilla';\nexport * from 'zustand/vanilla';\nimport ReactExports from 'react';\nimport useSyncExternalStoreExports from 'use-sync-external-store/shim/with-selector.js';\n\nconst { useDebugValue } = ReactExports;\nconst { useSyncExternalStoreWithSelector } = useSyncExternalStoreExports;\nlet didWarnAboutEqualityFn = false;\nconst identity = (arg) => arg;\nfunction useStore(api, selector = identity, equalityFn) {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && equalityFn && !didWarnAboutEqualityFn) {\n    console.warn(\n      \"[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937\"\n    );\n    didWarnAboutEqualityFn = true;\n  }\n  const slice = useSyncExternalStoreWithSelector(\n    api.subscribe,\n    api.getState,\n    api.getServerState || api.getInitialState,\n    selector,\n    equalityFn\n  );\n  useDebugValue(slice);\n  return slice;\n}\nconst createImpl = (createState) => {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && typeof createState !== \"function\") {\n    console.warn(\n      \"[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.\"\n    );\n  }\n  const api = typeof createState === \"function\" ? createStore(createState) : createState;\n  const useBoundStore = (selector, equalityFn) => useStore(api, selector, equalityFn);\n  Object.assign(useBoundStore, api);\n  return useBoundStore;\n};\nconst create = (createState) => createState ? createImpl(createState) : createImpl;\nvar react = (createState) => {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n    console.warn(\n      \"[DEPRECATED] Default export is deprecated. Instead use `import { create } from 'zustand'`.\"\n    );\n  }\n  return create(createState);\n};\n\nexport { create, react as default, useStore };\n","// src/slot.tsx\nimport * as React from \"react\";\nimport { composeRefs } from \"@radix-ui/react-compose-refs\";\nimport { Fragment as Fragment2, jsx } from \"react/jsx-runtime\";\nvar REACT_LAZY_TYPE = Symbol.for(\"react.lazy\");\nvar use = React[\" use \".trim().toString()];\nfunction isPromiseLike(value) {\n  return typeof value === \"object\" && value !== null && \"then\" in value;\n}\nfunction isLazyComponent(element) {\n  return element != null && typeof element === \"object\" && \"$$typeof\" in element && element.$$typeof === REACT_LAZY_TYPE && \"_payload\" in element && isPromiseLike(element._payload);\n}\n// @__NO_SIDE_EFFECTS__\nfunction createSlot(ownerName) {\n  const SlotClone = /* @__PURE__ */ createSlotClone(ownerName);\n  const Slot2 = React.forwardRef((props, forwardedRef) => {\n    let { children, ...slotProps } = props;\n    if (isLazyComponent(children) && typeof use === \"function\") {\n      children = use(children._payload);\n    }\n    const childrenArray = React.Children.toArray(children);\n    const slottable = childrenArray.find(isSlottable);\n    if (slottable) {\n      const newElement = slottable.props.children;\n      const newChildren = childrenArray.map((child) => {\n        if (child === slottable) {\n          if (React.Children.count(newElement) > 1) return React.Children.only(null);\n          return React.isValidElement(newElement) ? newElement.props.children : null;\n        } else {\n          return child;\n        }\n      });\n      return /* @__PURE__ */ jsx(SlotClone, { ...slotProps, ref: forwardedRef, children: React.isValidElement(newElement) ? React.cloneElement(newElement, void 0, newChildren) : null });\n    }\n    return /* @__PURE__ */ jsx(SlotClone, { ...slotProps, ref: forwardedRef, children });\n  });\n  Slot2.displayName = `${ownerName}.Slot`;\n  return Slot2;\n}\nvar Slot = /* @__PURE__ */ createSlot(\"Slot\");\n// @__NO_SIDE_EFFECTS__\nfunction createSlotClone(ownerName) {\n  const SlotClone = React.forwardRef((props, forwardedRef) => {\n    let { children, ...slotProps } = props;\n    if (isLazyComponent(children) && typeof use === \"function\") {\n      children = use(children._payload);\n    }\n    if (React.isValidElement(children)) {\n      const childrenRef = getElementRef(children);\n      const props2 = mergeProps(slotProps, children.props);\n      if (children.type !== React.Fragment) {\n        props2.ref = forwardedRef ? composeRefs(forwardedRef, childrenRef) : childrenRef;\n      }\n      return React.cloneElement(children, props2);\n    }\n    return React.Children.count(children) > 1 ? React.Children.only(null) : null;\n  });\n  SlotClone.displayName = `${ownerName}.SlotClone`;\n  return SlotClone;\n}\nvar SLOTTABLE_IDENTIFIER = Symbol(\"radix.slottable\");\n// @__NO_SIDE_EFFECTS__\nfunction createSlottable(ownerName) {\n  const Slottable2 = ({ children }) => {\n    return /* @__PURE__ */ jsx(Fragment2, { children });\n  };\n  Slottable2.displayName = `${ownerName}.Slottable`;\n  Slottable2.__radixId = SLOTTABLE_IDENTIFIER;\n  return Slottable2;\n}\nvar Slottable = /* @__PURE__ */ createSlottable(\"Slottable\");\nfunction isSlottable(child) {\n  return React.isValidElement(child) && typeof child.type === \"function\" && \"__radixId\" in child.type && child.type.__radixId === SLOTTABLE_IDENTIFIER;\n}\nfunction mergeProps(slotProps, childProps) {\n  const overrideProps = { ...childProps };\n  for (const propName in childProps) {\n    const slotPropValue = slotProps[propName];\n    const childPropValue = childProps[propName];\n    const isHandler = /^on[A-Z]/.test(propName);\n    if (isHandler) {\n      if (slotPropValue && childPropValue) {\n        overrideProps[propName] = (...args) => {\n          const result = childPropValue(...args);\n          slotPropValue(...args);\n          return result;\n        };\n      } else if (slotPropValue) {\n        overrideProps[propName] = slotPropValue;\n      }\n    } else if (propName === \"style\") {\n      overrideProps[propName] = { ...slotPropValue, ...childPropValue };\n    } else if (propName === \"className\") {\n      overrideProps[propName] = [slotPropValue, childPropValue].filter(Boolean).join(\" \");\n    }\n  }\n  return { ...slotProps, ...overrideProps };\n}\nfunction getElementRef(element) {\n  let getter = Object.getOwnPropertyDescriptor(element.props, \"ref\")?.get;\n  let mayWarn = getter && \"isReactWarning\" in getter && getter.isReactWarning;\n  if (mayWarn) {\n    return element.ref;\n  }\n  getter = Object.getOwnPropertyDescriptor(element, \"ref\")?.get;\n  mayWarn = getter && \"isReactWarning\" in getter && getter.isReactWarning;\n  if (mayWarn) {\n    return element.props.ref;\n  }\n  return element.props.ref || element.ref;\n}\nexport {\n  Slot as Root,\n  Slot,\n  Slottable,\n  createSlot,\n  createSlottable\n};\n//# sourceMappingURL=index.mjs.map\n","function toPrimitive(t, r) {\n  if (\"object\" != typeof t || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != typeof i) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\n\nfunction toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == typeof i ? i : String(i);\n}\n\nfunction _defineProperty(obj, key, value) {\n  key = toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\n\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread2(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\n\nfunction mapValues(input, fn) {\n  var result = {};\n  for (var _key in input) {\n    result[_key] = fn(input[_key], _key);\n  }\n  return result;\n}\n\nvar shouldApplyCompound = (compoundCheck, selections, defaultVariants) => {\n  for (var key of Object.keys(compoundCheck)) {\n    var _selections$key;\n    if (compoundCheck[key] !== ((_selections$key = selections[key]) !== null && _selections$key !== void 0 ? _selections$key : defaultVariants[key])) {\n      return false;\n    }\n  }\n  return true;\n};\nvar createRuntimeFn = config => {\n  var runtimeFn = options => {\n    var className = config.defaultClassName;\n    var selections = _objectSpread2(_objectSpread2({}, config.defaultVariants), options);\n    for (var variantName in selections) {\n      var _selections$variantNa;\n      var variantSelection = (_selections$variantNa = selections[variantName]) !== null && _selections$variantNa !== void 0 ? _selections$variantNa : config.defaultVariants[variantName];\n      if (variantSelection != null) {\n        var selection = variantSelection;\n        if (typeof selection === 'boolean') {\n          // @ts-expect-error\n          selection = selection === true ? 'true' : 'false';\n        }\n        var selectionClassName =\n        // @ts-expect-error\n        config.variantClassNames[variantName][selection];\n        if (selectionClassName) {\n          className += ' ' + selectionClassName;\n        }\n      }\n    }\n    for (var [compoundCheck, compoundClassName] of config.compoundVariants) {\n      if (shouldApplyCompound(compoundCheck, selections, config.defaultVariants)) {\n        className += ' ' + compoundClassName;\n      }\n    }\n    return className;\n  };\n  runtimeFn.variants = () => Object.keys(config.variantClassNames);\n  runtimeFn.classNames = {\n    get base() {\n      return config.defaultClassName.split(' ')[0];\n    },\n    get variants() {\n      return mapValues(config.variantClassNames, classNames => mapValues(classNames, className => className.split(' ')[0]));\n    }\n  };\n  return runtimeFn;\n};\n\nexport { createRuntimeFn as c, mapValues as m };\n","/**\n * SHA2 hash function. A.k.a. sha256, sha384, sha512, sha512_224, sha512_256.\n * SHA256 is the fastest hash implementable in JS, even faster than Blake3.\n * Check out [RFC 4634](https://datatracker.ietf.org/doc/html/rfc4634) and\n * [FIPS 180-4](https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.180-4.pdf).\n * @module\n */\nimport { Chi, HashMD, Maj, SHA224_IV, SHA256_IV, SHA384_IV, SHA512_IV } from \"./_md.js\";\nimport * as u64 from \"./_u64.js\";\nimport { clean, createHasher, rotr } from \"./utils.js\";\n/**\n * Round constants:\n * First 32 bits of fractional parts of the cube roots of the first 64 primes 2..311)\n */\n// prettier-ignore\nconst SHA256_K = /* @__PURE__ */ Uint32Array.from([\n    0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5, 0x3956c25b, 0x59f111f1, 0x923f82a4, 0xab1c5ed5,\n    0xd807aa98, 0x12835b01, 0x243185be, 0x550c7dc3, 0x72be5d74, 0x80deb1fe, 0x9bdc06a7, 0xc19bf174,\n    0xe49b69c1, 0xefbe4786, 0x0fc19dc6, 0x240ca1cc, 0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da,\n    0x983e5152, 0xa831c66d, 0xb00327c8, 0xbf597fc7, 0xc6e00bf3, 0xd5a79147, 0x06ca6351, 0x14292967,\n    0x27b70a85, 0x2e1b2138, 0x4d2c6dfc, 0x53380d13, 0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85,\n    0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3, 0xd192e819, 0xd6990624, 0xf40e3585, 0x106aa070,\n    0x19a4c116, 0x1e376c08, 0x2748774c, 0x34b0bcb5, 0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f, 0x682e6ff3,\n    0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208, 0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2\n]);\n/** Reusable temporary buffer. \"W\" comes straight from spec. */\nconst SHA256_W = /* @__PURE__ */ new Uint32Array(64);\nexport class SHA256 extends HashMD {\n    constructor(outputLen = 32) {\n        super(64, outputLen, 8, false);\n        // We cannot use array here since array allows indexing by variable\n        // which means optimizer/compiler cannot use registers.\n        this.A = SHA256_IV[0] | 0;\n        this.B = SHA256_IV[1] | 0;\n        this.C = SHA256_IV[2] | 0;\n        this.D = SHA256_IV[3] | 0;\n        this.E = SHA256_IV[4] | 0;\n        this.F = SHA256_IV[5] | 0;\n        this.G = SHA256_IV[6] | 0;\n        this.H = SHA256_IV[7] | 0;\n    }\n    get() {\n        const { A, B, C, D, E, F, G, H } = this;\n        return [A, B, C, D, E, F, G, H];\n    }\n    // prettier-ignore\n    set(A, B, C, D, E, F, G, H) {\n        this.A = A | 0;\n        this.B = B | 0;\n        this.C = C | 0;\n        this.D = D | 0;\n        this.E = E | 0;\n        this.F = F | 0;\n        this.G = G | 0;\n        this.H = H | 0;\n    }\n    process(view, offset) {\n        // Extend the first 16 words into the remaining 48 words w[16..63] of the message schedule array\n        for (let i = 0; i < 16; i++, offset += 4)\n            SHA256_W[i] = view.getUint32(offset, false);\n        for (let i = 16; i < 64; i++) {\n            const W15 = SHA256_W[i - 15];\n            const W2 = SHA256_W[i - 2];\n            const s0 = rotr(W15, 7) ^ rotr(W15, 18) ^ (W15 >>> 3);\n            const s1 = rotr(W2, 17) ^ rotr(W2, 19) ^ (W2 >>> 10);\n            SHA256_W[i] = (s1 + SHA256_W[i - 7] + s0 + SHA256_W[i - 16]) | 0;\n        }\n        // Compression function main loop, 64 rounds\n        let { A, B, C, D, E, F, G, H } = this;\n        for (let i = 0; i < 64; i++) {\n            const sigma1 = rotr(E, 6) ^ rotr(E, 11) ^ rotr(E, 25);\n            const T1 = (H + sigma1 + Chi(E, F, G) + SHA256_K[i] + SHA256_W[i]) | 0;\n            const sigma0 = rotr(A, 2) ^ rotr(A, 13) ^ rotr(A, 22);\n            const T2 = (sigma0 + Maj(A, B, C)) | 0;\n            H = G;\n            G = F;\n            F = E;\n            E = (D + T1) | 0;\n            D = C;\n            C = B;\n            B = A;\n            A = (T1 + T2) | 0;\n        }\n        // Add the compressed chunk to the current hash value\n        A = (A + this.A) | 0;\n        B = (B + this.B) | 0;\n        C = (C + this.C) | 0;\n        D = (D + this.D) | 0;\n        E = (E + this.E) | 0;\n        F = (F + this.F) | 0;\n        G = (G + this.G) | 0;\n        H = (H + this.H) | 0;\n        this.set(A, B, C, D, E, F, G, H);\n    }\n    roundClean() {\n        clean(SHA256_W);\n    }\n    destroy() {\n        this.set(0, 0, 0, 0, 0, 0, 0, 0);\n        clean(this.buffer);\n    }\n}\nexport class SHA224 extends SHA256 {\n    constructor() {\n        super(28);\n        this.A = SHA224_IV[0] | 0;\n        this.B = SHA224_IV[1] | 0;\n        this.C = SHA224_IV[2] | 0;\n        this.D = SHA224_IV[3] | 0;\n        this.E = SHA224_IV[4] | 0;\n        this.F = SHA224_IV[5] | 0;\n        this.G = SHA224_IV[6] | 0;\n        this.H = SHA224_IV[7] | 0;\n    }\n}\n// SHA2-512 is slower than sha256 in js because u64 operations are slow.\n// Round contants\n// First 32 bits of the fractional parts of the cube roots of the first 80 primes 2..409\n// prettier-ignore\nconst K512 = /* @__PURE__ */ (() => u64.split([\n    '0x428a2f98d728ae22', '0x7137449123ef65cd', '0xb5c0fbcfec4d3b2f', '0xe9b5dba58189dbbc',\n    '0x3956c25bf348b538', '0x59f111f1b605d019', '0x923f82a4af194f9b', '0xab1c5ed5da6d8118',\n    '0xd807aa98a3030242', '0x12835b0145706fbe', '0x243185be4ee4b28c', '0x550c7dc3d5ffb4e2',\n    '0x72be5d74f27b896f', '0x80deb1fe3b1696b1', '0x9bdc06a725c71235', '0xc19bf174cf692694',\n    '0xe49b69c19ef14ad2', '0xefbe4786384f25e3', '0x0fc19dc68b8cd5b5', '0x240ca1cc77ac9c65',\n    '0x2de92c6f592b0275', '0x4a7484aa6ea6e483', '0x5cb0a9dcbd41fbd4', '0x76f988da831153b5',\n    '0x983e5152ee66dfab', '0xa831c66d2db43210', '0xb00327c898fb213f', '0xbf597fc7beef0ee4',\n    '0xc6e00bf33da88fc2', '0xd5a79147930aa725', '0x06ca6351e003826f', '0x142929670a0e6e70',\n    '0x27b70a8546d22ffc', '0x2e1b21385c26c926', '0x4d2c6dfc5ac42aed', '0x53380d139d95b3df',\n    '0x650a73548baf63de', '0x766a0abb3c77b2a8', '0x81c2c92e47edaee6', '0x92722c851482353b',\n    '0xa2bfe8a14cf10364', '0xa81a664bbc423001', '0xc24b8b70d0f89791', '0xc76c51a30654be30',\n    '0xd192e819d6ef5218', '0xd69906245565a910', '0xf40e35855771202a', '0x106aa07032bbd1b8',\n    '0x19a4c116b8d2d0c8', '0x1e376c085141ab53', '0x2748774cdf8eeb99', '0x34b0bcb5e19b48a8',\n    '0x391c0cb3c5c95a63', '0x4ed8aa4ae3418acb', '0x5b9cca4f7763e373', '0x682e6ff3d6b2b8a3',\n    '0x748f82ee5defb2fc', '0x78a5636f43172f60', '0x84c87814a1f0ab72', '0x8cc702081a6439ec',\n    '0x90befffa23631e28', '0xa4506cebde82bde9', '0xbef9a3f7b2c67915', '0xc67178f2e372532b',\n    '0xca273eceea26619c', '0xd186b8c721c0c207', '0xeada7dd6cde0eb1e', '0xf57d4f7fee6ed178',\n    '0x06f067aa72176fba', '0x0a637dc5a2c898a6', '0x113f9804bef90dae', '0x1b710b35131c471b',\n    '0x28db77f523047d84', '0x32caab7b40c72493', '0x3c9ebe0a15c9bebc', '0x431d67c49c100d4c',\n    '0x4cc5d4becb3e42b6', '0x597f299cfc657e2a', '0x5fcb6fab3ad6faec', '0x6c44198c4a475817'\n].map(n => BigInt(n))))();\nconst SHA512_Kh = /* @__PURE__ */ (() => K512[0])();\nconst SHA512_Kl = /* @__PURE__ */ (() => K512[1])();\n// Reusable temporary buffers\nconst SHA512_W_H = /* @__PURE__ */ new Uint32Array(80);\nconst SHA512_W_L = /* @__PURE__ */ new Uint32Array(80);\nexport class SHA512 extends HashMD {\n    constructor(outputLen = 64) {\n        super(128, outputLen, 16, false);\n        // We cannot use array here since array allows indexing by variable\n        // which means optimizer/compiler cannot use registers.\n        // h -- high 32 bits, l -- low 32 bits\n        this.Ah = SHA512_IV[0] | 0;\n        this.Al = SHA512_IV[1] | 0;\n        this.Bh = SHA512_IV[2] | 0;\n        this.Bl = SHA512_IV[3] | 0;\n        this.Ch = SHA512_IV[4] | 0;\n        this.Cl = SHA512_IV[5] | 0;\n        this.Dh = SHA512_IV[6] | 0;\n        this.Dl = SHA512_IV[7] | 0;\n        this.Eh = SHA512_IV[8] | 0;\n        this.El = SHA512_IV[9] | 0;\n        this.Fh = SHA512_IV[10] | 0;\n        this.Fl = SHA512_IV[11] | 0;\n        this.Gh = SHA512_IV[12] | 0;\n        this.Gl = SHA512_IV[13] | 0;\n        this.Hh = SHA512_IV[14] | 0;\n        this.Hl = SHA512_IV[15] | 0;\n    }\n    // prettier-ignore\n    get() {\n        const { Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl } = this;\n        return [Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl];\n    }\n    // prettier-ignore\n    set(Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl) {\n        this.Ah = Ah | 0;\n        this.Al = Al | 0;\n        this.Bh = Bh | 0;\n        this.Bl = Bl | 0;\n        this.Ch = Ch | 0;\n        this.Cl = Cl | 0;\n        this.Dh = Dh | 0;\n        this.Dl = Dl | 0;\n        this.Eh = Eh | 0;\n        this.El = El | 0;\n        this.Fh = Fh | 0;\n        this.Fl = Fl | 0;\n        this.Gh = Gh | 0;\n        this.Gl = Gl | 0;\n        this.Hh = Hh | 0;\n        this.Hl = Hl | 0;\n    }\n    process(view, offset) {\n        // Extend the first 16 words into the remaining 64 words w[16..79] of the message schedule array\n        for (let i = 0; i < 16; i++, offset += 4) {\n            SHA512_W_H[i] = view.getUint32(offset);\n            SHA512_W_L[i] = view.getUint32((offset += 4));\n        }\n        for (let i = 16; i < 80; i++) {\n            // s0 := (w[i-15] rightrotate 1) xor (w[i-15] rightrotate 8) xor (w[i-15] rightshift 7)\n            const W15h = SHA512_W_H[i - 15] | 0;\n            const W15l = SHA512_W_L[i - 15] | 0;\n            const s0h = u64.rotrSH(W15h, W15l, 1) ^ u64.rotrSH(W15h, W15l, 8) ^ u64.shrSH(W15h, W15l, 7);\n            const s0l = u64.rotrSL(W15h, W15l, 1) ^ u64.rotrSL(W15h, W15l, 8) ^ u64.shrSL(W15h, W15l, 7);\n            // s1 := (w[i-2] rightrotate 19) xor (w[i-2] rightrotate 61) xor (w[i-2] rightshift 6)\n            const W2h = SHA512_W_H[i - 2] | 0;\n            const W2l = SHA512_W_L[i - 2] | 0;\n            const s1h = u64.rotrSH(W2h, W2l, 19) ^ u64.rotrBH(W2h, W2l, 61) ^ u64.shrSH(W2h, W2l, 6);\n            const s1l = u64.rotrSL(W2h, W2l, 19) ^ u64.rotrBL(W2h, W2l, 61) ^ u64.shrSL(W2h, W2l, 6);\n            // SHA256_W[i] = s0 + s1 + SHA256_W[i - 7] + SHA256_W[i - 16];\n            const SUMl = u64.add4L(s0l, s1l, SHA512_W_L[i - 7], SHA512_W_L[i - 16]);\n            const SUMh = u64.add4H(SUMl, s0h, s1h, SHA512_W_H[i - 7], SHA512_W_H[i - 16]);\n            SHA512_W_H[i] = SUMh | 0;\n            SHA512_W_L[i] = SUMl | 0;\n        }\n        let { Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl } = this;\n        // Compression function main loop, 80 rounds\n        for (let i = 0; i < 80; i++) {\n            // S1 := (e rightrotate 14) xor (e rightrotate 18) xor (e rightrotate 41)\n            const sigma1h = u64.rotrSH(Eh, El, 14) ^ u64.rotrSH(Eh, El, 18) ^ u64.rotrBH(Eh, El, 41);\n            const sigma1l = u64.rotrSL(Eh, El, 14) ^ u64.rotrSL(Eh, El, 18) ^ u64.rotrBL(Eh, El, 41);\n            //const T1 = (H + sigma1 + Chi(E, F, G) + SHA256_K[i] + SHA256_W[i]) | 0;\n            const CHIh = (Eh & Fh) ^ (~Eh & Gh);\n            const CHIl = (El & Fl) ^ (~El & Gl);\n            // T1 = H + sigma1 + Chi(E, F, G) + SHA512_K[i] + SHA512_W[i]\n            // prettier-ignore\n            const T1ll = u64.add5L(Hl, sigma1l, CHIl, SHA512_Kl[i], SHA512_W_L[i]);\n            const T1h = u64.add5H(T1ll, Hh, sigma1h, CHIh, SHA512_Kh[i], SHA512_W_H[i]);\n            const T1l = T1ll | 0;\n            // S0 := (a rightrotate 28) xor (a rightrotate 34) xor (a rightrotate 39)\n            const sigma0h = u64.rotrSH(Ah, Al, 28) ^ u64.rotrBH(Ah, Al, 34) ^ u64.rotrBH(Ah, Al, 39);\n            const sigma0l = u64.rotrSL(Ah, Al, 28) ^ u64.rotrBL(Ah, Al, 34) ^ u64.rotrBL(Ah, Al, 39);\n            const MAJh = (Ah & Bh) ^ (Ah & Ch) ^ (Bh & Ch);\n            const MAJl = (Al & Bl) ^ (Al & Cl) ^ (Bl & Cl);\n            Hh = Gh | 0;\n            Hl = Gl | 0;\n            Gh = Fh | 0;\n            Gl = Fl | 0;\n            Fh = Eh | 0;\n            Fl = El | 0;\n            ({ h: Eh, l: El } = u64.add(Dh | 0, Dl | 0, T1h | 0, T1l | 0));\n            Dh = Ch | 0;\n            Dl = Cl | 0;\n            Ch = Bh | 0;\n            Cl = Bl | 0;\n            Bh = Ah | 0;\n            Bl = Al | 0;\n            const All = u64.add3L(T1l, sigma0l, MAJl);\n            Ah = u64.add3H(All, T1h, sigma0h, MAJh);\n            Al = All | 0;\n        }\n        // Add the compressed chunk to the current hash value\n        ({ h: Ah, l: Al } = u64.add(this.Ah | 0, this.Al | 0, Ah | 0, Al | 0));\n        ({ h: Bh, l: Bl } = u64.add(this.Bh | 0, this.Bl | 0, Bh | 0, Bl | 0));\n        ({ h: Ch, l: Cl } = u64.add(this.Ch | 0, this.Cl | 0, Ch | 0, Cl | 0));\n        ({ h: Dh, l: Dl } = u64.add(this.Dh | 0, this.Dl | 0, Dh | 0, Dl | 0));\n        ({ h: Eh, l: El } = u64.add(this.Eh | 0, this.El | 0, Eh | 0, El | 0));\n        ({ h: Fh, l: Fl } = u64.add(this.Fh | 0, this.Fl | 0, Fh | 0, Fl | 0));\n        ({ h: Gh, l: Gl } = u64.add(this.Gh | 0, this.Gl | 0, Gh | 0, Gl | 0));\n        ({ h: Hh, l: Hl } = u64.add(this.Hh | 0, this.Hl | 0, Hh | 0, Hl | 0));\n        this.set(Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl);\n    }\n    roundClean() {\n        clean(SHA512_W_H, SHA512_W_L);\n    }\n    destroy() {\n        clean(this.buffer);\n        this.set(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);\n    }\n}\nexport class SHA384 extends SHA512 {\n    constructor() {\n        super(48);\n        this.Ah = SHA384_IV[0] | 0;\n        this.Al = SHA384_IV[1] | 0;\n        this.Bh = SHA384_IV[2] | 0;\n        this.Bl = SHA384_IV[3] | 0;\n        this.Ch = SHA384_IV[4] | 0;\n        this.Cl = SHA384_IV[5] | 0;\n        this.Dh = SHA384_IV[6] | 0;\n        this.Dl = SHA384_IV[7] | 0;\n        this.Eh = SHA384_IV[8] | 0;\n        this.El = SHA384_IV[9] | 0;\n        this.Fh = SHA384_IV[10] | 0;\n        this.Fl = SHA384_IV[11] | 0;\n        this.Gh = SHA384_IV[12] | 0;\n        this.Gl = SHA384_IV[13] | 0;\n        this.Hh = SHA384_IV[14] | 0;\n        this.Hl = SHA384_IV[15] | 0;\n    }\n}\n/**\n * Truncated SHA512/256 and SHA512/224.\n * SHA512_IV is XORed with 0xa5a5a5a5a5a5a5a5, then used as \"intermediary\" IV of SHA512/t.\n * Then t hashes string to produce result IV.\n * See `test/misc/sha2-gen-iv.js`.\n */\n/** SHA512/224 IV */\nconst T224_IV = /* @__PURE__ */ Uint32Array.from([\n    0x8c3d37c8, 0x19544da2, 0x73e19966, 0x89dcd4d6, 0x1dfab7ae, 0x32ff9c82, 0x679dd514, 0x582f9fcf,\n    0x0f6d2b69, 0x7bd44da8, 0x77e36f73, 0x04c48942, 0x3f9d85a8, 0x6a1d36c8, 0x1112e6ad, 0x91d692a1,\n]);\n/** SHA512/256 IV */\nconst T256_IV = /* @__PURE__ */ Uint32Array.from([\n    0x22312194, 0xfc2bf72c, 0x9f555fa3, 0xc84c64c2, 0x2393b86b, 0x6f53b151, 0x96387719, 0x5940eabd,\n    0x96283ee2, 0xa88effe3, 0xbe5e1e25, 0x53863992, 0x2b0199fc, 0x2c85b8aa, 0x0eb72ddc, 0x81c52ca2,\n]);\nexport class SHA512_224 extends SHA512 {\n    constructor() {\n        super(28);\n        this.Ah = T224_IV[0] | 0;\n        this.Al = T224_IV[1] | 0;\n        this.Bh = T224_IV[2] | 0;\n        this.Bl = T224_IV[3] | 0;\n        this.Ch = T224_IV[4] | 0;\n        this.Cl = T224_IV[5] | 0;\n        this.Dh = T224_IV[6] | 0;\n        this.Dl = T224_IV[7] | 0;\n        this.Eh = T224_IV[8] | 0;\n        this.El = T224_IV[9] | 0;\n        this.Fh = T224_IV[10] | 0;\n        this.Fl = T224_IV[11] | 0;\n        this.Gh = T224_IV[12] | 0;\n        this.Gl = T224_IV[13] | 0;\n        this.Hh = T224_IV[14] | 0;\n        this.Hl = T224_IV[15] | 0;\n    }\n}\nexport class SHA512_256 extends SHA512 {\n    constructor() {\n        super(32);\n        this.Ah = T256_IV[0] | 0;\n        this.Al = T256_IV[1] | 0;\n        this.Bh = T256_IV[2] | 0;\n        this.Bl = T256_IV[3] | 0;\n        this.Ch = T256_IV[4] | 0;\n        this.Cl = T256_IV[5] | 0;\n        this.Dh = T256_IV[6] | 0;\n        this.Dl = T256_IV[7] | 0;\n        this.Eh = T256_IV[8] | 0;\n        this.El = T256_IV[9] | 0;\n        this.Fh = T256_IV[10] | 0;\n        this.Fl = T256_IV[11] | 0;\n        this.Gh = T256_IV[12] | 0;\n        this.Gl = T256_IV[13] | 0;\n        this.Hh = T256_IV[14] | 0;\n        this.Hl = T256_IV[15] | 0;\n    }\n}\n/**\n * SHA2-256 hash function from RFC 4634.\n *\n * It is the fastest JS hash, even faster than Blake3.\n * To break sha256 using birthday attack, attackers need to try 2^128 hashes.\n * BTC network is doing 2^70 hashes/sec (2^95 hashes/year) as per 2025.\n */\nexport const sha256 = /* @__PURE__ */ createHasher(() => new SHA256());\n/** SHA2-224 hash function from RFC 4634 */\nexport const sha224 = /* @__PURE__ */ createHasher(() => new SHA224());\n/** SHA2-512 hash function from RFC 4634. */\nexport const sha512 = /* @__PURE__ */ createHasher(() => new SHA512());\n/** SHA2-384 hash function from RFC 4634. */\nexport const sha384 = /* @__PURE__ */ createHasher(() => new SHA384());\n/**\n * SHA2-512/256 \"truncated\" hash function, with improved resistance to length extension attacks.\n * See the paper on [truncated SHA512](https://eprint.iacr.org/2010/548.pdf).\n */\nexport const sha512_256 = /* @__PURE__ */ createHasher(() => new SHA512_256());\n/**\n * SHA2-512/224 \"truncated\" hash function, with improved resistance to length extension attacks.\n * See the paper on [truncated SHA512](https://eprint.iacr.org/2010/548.pdf).\n */\nexport const sha512_224 = /* @__PURE__ */ createHasher(() => new SHA512_224());\n//# sourceMappingURL=sha2.js.map","/**\n * Hex, bytes and number utilities.\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nimport { abytes as abytes_, bytesToHex as bytesToHex_, concatBytes as concatBytes_, hexToBytes as hexToBytes_, isBytes as isBytes_, } from '@noble/hashes/utils.js';\nexport { abytes, anumber, bytesToHex, bytesToUtf8, concatBytes, hexToBytes, isBytes, randomBytes, utf8ToBytes, } from '@noble/hashes/utils.js';\nconst _0n = /* @__PURE__ */ BigInt(0);\nconst _1n = /* @__PURE__ */ BigInt(1);\nexport function abool(title, value) {\n    if (typeof value !== 'boolean')\n        throw new Error(title + ' boolean expected, got ' + value);\n}\n// Used in weierstrass, der\nexport function numberToHexUnpadded(num) {\n    const hex = num.toString(16);\n    return hex.length & 1 ? '0' + hex : hex;\n}\nexport function hexToNumber(hex) {\n    if (typeof hex !== 'string')\n        throw new Error('hex string expected, got ' + typeof hex);\n    return hex === '' ? _0n : BigInt('0x' + hex); // Big Endian\n}\n// BE: Big Endian, LE: Little Endian\nexport function bytesToNumberBE(bytes) {\n    return hexToNumber(bytesToHex_(bytes));\n}\nexport function bytesToNumberLE(bytes) {\n    abytes_(bytes);\n    return hexToNumber(bytesToHex_(Uint8Array.from(bytes).reverse()));\n}\nexport function numberToBytesBE(n, len) {\n    return hexToBytes_(n.toString(16).padStart(len * 2, '0'));\n}\nexport function numberToBytesLE(n, len) {\n    return numberToBytesBE(n, len).reverse();\n}\n// Unpadded, rarely used\nexport function numberToVarBytesBE(n) {\n    return hexToBytes_(numberToHexUnpadded(n));\n}\n/**\n * Takes hex string or Uint8Array, converts to Uint8Array.\n * Validates output length.\n * Will throw error for other types.\n * @param title descriptive title for an error e.g. 'secret key'\n * @param hex hex string or Uint8Array\n * @param expectedLength optional, will compare to result array's length\n * @returns\n */\nexport function ensureBytes(title, hex, expectedLength) {\n    let res;\n    if (typeof hex === 'string') {\n        try {\n            res = hexToBytes_(hex);\n        }\n        catch (e) {\n            throw new Error(title + ' must be hex string or Uint8Array, cause: ' + e);\n        }\n    }\n    else if (isBytes_(hex)) {\n        // Uint8Array.from() instead of hash.slice() because node.js Buffer\n        // is instance of Uint8Array, and its slice() creates **mutable** copy\n        res = Uint8Array.from(hex);\n    }\n    else {\n        throw new Error(title + ' must be hex string or Uint8Array');\n    }\n    const len = res.length;\n    if (typeof expectedLength === 'number' && len !== expectedLength)\n        throw new Error(title + ' of length ' + expectedLength + ' expected, got ' + len);\n    return res;\n}\n// Compares 2 u8a-s in kinda constant time\nexport function equalBytes(a, b) {\n    if (a.length !== b.length)\n        return false;\n    let diff = 0;\n    for (let i = 0; i < a.length; i++)\n        diff |= a[i] ^ b[i];\n    return diff === 0;\n}\n/**\n * @example utf8ToBytes('abc') // new Uint8Array([97, 98, 99])\n */\n// export const utf8ToBytes: typeof utf8ToBytes_ = utf8ToBytes_;\n/**\n * Converts bytes to string using UTF8 encoding.\n * @example bytesToUtf8(Uint8Array.from([97, 98, 99])) // 'abc'\n */\n// export const bytesToUtf8: typeof bytesToUtf8_ = bytesToUtf8_;\n// Is positive bigint\nconst isPosBig = (n) => typeof n === 'bigint' && _0n <= n;\nexport function inRange(n, min, max) {\n    return isPosBig(n) && isPosBig(min) && isPosBig(max) && min <= n && n < max;\n}\n/**\n * Asserts min <= n < max. NOTE: It's < max and not <= max.\n * @example\n * aInRange('x', x, 1n, 256n); // would assume x is in (1n..255n)\n */\nexport function aInRange(title, n, min, max) {\n    // Why min <= n < max and not a (min < n < max) OR b (min <= n <= max)?\n    // consider P=256n, min=0n, max=P\n    // - a for min=0 would require -1:          `inRange('x', x, -1n, P)`\n    // - b would commonly require subtraction:  `inRange('x', x, 0n, P - 1n)`\n    // - our way is the cleanest:               `inRange('x', x, 0n, P)\n    if (!inRange(n, min, max))\n        throw new Error('expected valid ' + title + ': ' + min + ' <= n < ' + max + ', got ' + n);\n}\n// Bit operations\n/**\n * Calculates amount of bits in a bigint.\n * Same as `n.toString(2).length`\n * TODO: merge with nLength in modular\n */\nexport function bitLen(n) {\n    let len;\n    for (len = 0; n > _0n; n >>= _1n, len += 1)\n        ;\n    return len;\n}\n/**\n * Gets single bit at position.\n * NOTE: first bit position is 0 (same as arrays)\n * Same as `!!+Array.from(n.toString(2)).reverse()[pos]`\n */\nexport function bitGet(n, pos) {\n    return (n >> BigInt(pos)) & _1n;\n}\n/**\n * Sets single bit at position.\n */\nexport function bitSet(n, pos, value) {\n    return n | ((value ? _1n : _0n) << BigInt(pos));\n}\n/**\n * Calculate mask for N bits. Not using ** operator with bigints because of old engines.\n * Same as BigInt(`0b${Array(i).fill('1').join('')}`)\n */\nexport const bitMask = (n) => (_1n << BigInt(n)) - _1n;\n/**\n * Minimal HMAC-DRBG from NIST 800-90 for RFC6979 sigs.\n * @returns function that will call DRBG until 2nd arg returns something meaningful\n * @example\n *   const drbg = createHmacDRBG<Key>(32, 32, hmac);\n *   drbg(seed, bytesToKey); // bytesToKey must return Key or undefined\n */\nexport function createHmacDrbg(hashLen, qByteLen, hmacFn) {\n    if (typeof hashLen !== 'number' || hashLen < 2)\n        throw new Error('hashLen must be a number');\n    if (typeof qByteLen !== 'number' || qByteLen < 2)\n        throw new Error('qByteLen must be a number');\n    if (typeof hmacFn !== 'function')\n        throw new Error('hmacFn must be a function');\n    // Step B, Step C: set hashLen to 8*ceil(hlen/8)\n    const u8n = (len) => new Uint8Array(len); // creates Uint8Array\n    const u8of = (byte) => Uint8Array.of(byte); // another shortcut\n    let v = u8n(hashLen); // Minimal non-full-spec HMAC-DRBG from NIST 800-90 for RFC6979 sigs.\n    let k = u8n(hashLen); // Steps B and C of RFC6979 3.2: set hashLen, in our case always same\n    let i = 0; // Iterations counter, will throw when over 1000\n    const reset = () => {\n        v.fill(1);\n        k.fill(0);\n        i = 0;\n    };\n    const h = (...b) => hmacFn(k, v, ...b); // hmac(k)(v, ...values)\n    const reseed = (seed = u8n(0)) => {\n        // HMAC-DRBG reseed() function. Steps D-G\n        k = h(u8of(0x00), seed); // k = hmac(k || v || 0x00 || seed)\n        v = h(); // v = hmac(k || v)\n        if (seed.length === 0)\n            return;\n        k = h(u8of(0x01), seed); // k = hmac(k || v || 0x01 || seed)\n        v = h(); // v = hmac(k || v)\n    };\n    const gen = () => {\n        // HMAC-DRBG generate() function\n        if (i++ >= 1000)\n            throw new Error('drbg: tried 1000 values');\n        let len = 0;\n        const out = [];\n        while (len < qByteLen) {\n            v = h();\n            const sl = v.slice();\n            out.push(sl);\n            len += v.length;\n        }\n        return concatBytes_(...out);\n    };\n    const genUntil = (seed, pred) => {\n        reset();\n        reseed(seed); // Steps D-G\n        let res = undefined; // Step H: grind until k is in [1..n-1]\n        while (!(res = pred(gen())))\n            reseed();\n        reset();\n        return res;\n    };\n    return genUntil;\n}\n// Validating curves and fields\nconst validatorFns = {\n    bigint: (val) => typeof val === 'bigint',\n    function: (val) => typeof val === 'function',\n    boolean: (val) => typeof val === 'boolean',\n    string: (val) => typeof val === 'string',\n    stringOrUint8Array: (val) => typeof val === 'string' || isBytes_(val),\n    isSafeInteger: (val) => Number.isSafeInteger(val),\n    array: (val) => Array.isArray(val),\n    field: (val, object) => object.Fp.isValid(val),\n    hash: (val) => typeof val === 'function' && Number.isSafeInteger(val.outputLen),\n};\n// type Record<K extends string | number | symbol, T> = { [P in K]: T; }\nexport function validateObject(object, validators, optValidators = {}) {\n    const checkField = (fieldName, type, isOptional) => {\n        const checkVal = validatorFns[type];\n        if (typeof checkVal !== 'function')\n            throw new Error('invalid validator function');\n        const val = object[fieldName];\n        if (isOptional && val === undefined)\n            return;\n        if (!checkVal(val, object)) {\n            throw new Error('param ' + String(fieldName) + ' is invalid. Expected ' + type + ', got ' + val);\n        }\n    };\n    for (const [fieldName, type] of Object.entries(validators))\n        checkField(fieldName, type, false);\n    for (const [fieldName, type] of Object.entries(optValidators))\n        checkField(fieldName, type, true);\n    return object;\n}\n// validate type tests\n// const o: { a: number; b: number; c: number } = { a: 1, b: 5, c: 6 };\n// const z0 = validateObject(o, { a: 'isSafeInteger' }, { c: 'bigint' }); // Ok!\n// // Should fail type-check\n// const z1 = validateObject(o, { a: 'tmp' }, { c: 'zz' });\n// const z2 = validateObject(o, { a: 'isSafeInteger' }, { c: 'zz' });\n// const z3 = validateObject(o, { test: 'boolean', z: 'bug' });\n// const z4 = validateObject(o, { a: 'boolean', z: 'bug' });\nexport function isHash(val) {\n    return typeof val === 'function' && Number.isSafeInteger(val.outputLen);\n}\nexport function _validateObject(object, fields, optFields = {}) {\n    if (!object || typeof object !== 'object')\n        throw new Error('expected valid options object');\n    function checkField(fieldName, expectedType, isOpt) {\n        const val = object[fieldName];\n        if (isOpt && val === undefined)\n            return;\n        const current = typeof val;\n        if (current !== expectedType || val === null)\n            throw new Error(`param \"${fieldName}\" is invalid: expected ${expectedType}, got ${current}`);\n    }\n    Object.entries(fields).forEach(([k, v]) => checkField(k, v, false));\n    Object.entries(optFields).forEach(([k, v]) => checkField(k, v, true));\n}\n/**\n * throws not implemented error\n */\nexport const notImplemented = () => {\n    throw new Error('not implemented');\n};\n/**\n * Memoizes (caches) computation result.\n * Uses WeakMap: the value is going auto-cleaned by GC after last reference is removed.\n */\nexport function memoized(fn) {\n    const map = new WeakMap();\n    return (arg, ...args) => {\n        const val = map.get(arg);\n        if (val !== undefined)\n            return val;\n        const computed = fn(arg, ...args);\n        map.set(arg, computed);\n        return computed;\n    };\n}\n//# sourceMappingURL=utils.js.map","/**\n * Utils for modular division and fields.\n * Field over 11 is a finite (Galois) field is integer number operations `mod 11`.\n * There is no division: it is replaced by modular multiplicative inverse.\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nimport { _validateObject, anumber, bitMask, bytesToNumberBE, bytesToNumberLE, ensureBytes, numberToBytesBE, numberToBytesLE, } from \"../utils.js\";\n// prettier-ignore\nconst _0n = BigInt(0), _1n = BigInt(1), _2n = /* @__PURE__ */ BigInt(2), _3n = /* @__PURE__ */ BigInt(3);\n// prettier-ignore\nconst _4n = /* @__PURE__ */ BigInt(4), _5n = /* @__PURE__ */ BigInt(5), _7n = /* @__PURE__ */ BigInt(7);\n// prettier-ignore\nconst _8n = /* @__PURE__ */ BigInt(8), _9n = /* @__PURE__ */ BigInt(9), _16n = /* @__PURE__ */ BigInt(16);\n// Calculates a modulo b\nexport function mod(a, b) {\n    const result = a % b;\n    return result >= _0n ? result : b + result;\n}\n/**\n * Efficiently raise num to power and do modular division.\n * Unsafe in some contexts: uses ladder, so can expose bigint bits.\n * @example\n * pow(2n, 6n, 11n) // 64n % 11n == 9n\n */\nexport function pow(num, power, modulo) {\n    return FpPow(Field(modulo), num, power);\n}\n/** Does `x^(2^power)` mod p. `pow2(30, 4)` == `30^(2^4)` */\nexport function pow2(x, power, modulo) {\n    let res = x;\n    while (power-- > _0n) {\n        res *= res;\n        res %= modulo;\n    }\n    return res;\n}\n/**\n * Inverses number over modulo.\n * Implemented using [Euclidean GCD](https://brilliant.org/wiki/extended-euclidean-algorithm/).\n */\nexport function invert(number, modulo) {\n    if (number === _0n)\n        throw new Error('invert: expected non-zero number');\n    if (modulo <= _0n)\n        throw new Error('invert: expected positive modulus, got ' + modulo);\n    // Fermat's little theorem \"CT-like\" version inv(n) = n^(m-2) mod m is 30x slower.\n    let a = mod(number, modulo);\n    let b = modulo;\n    // prettier-ignore\n    let x = _0n, y = _1n, u = _1n, v = _0n;\n    while (a !== _0n) {\n        // JIT applies optimization if those two lines follow each other\n        const q = b / a;\n        const r = b % a;\n        const m = x - u * q;\n        const n = y - v * q;\n        // prettier-ignore\n        b = a, a = r, x = u, y = v, u = m, v = n;\n    }\n    const gcd = b;\n    if (gcd !== _1n)\n        throw new Error('invert: does not exist');\n    return mod(x, modulo);\n}\nfunction assertIsSquare(Fp, root, n) {\n    if (!Fp.eql(Fp.sqr(root), n))\n        throw new Error('Cannot find square root');\n}\n// Not all roots are possible! Example which will throw:\n// const NUM =\n// n = 72057594037927816n;\n// Fp = Field(BigInt('0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaab'));\nfunction sqrt3mod4(Fp, n) {\n    const p1div4 = (Fp.ORDER + _1n) / _4n;\n    const root = Fp.pow(n, p1div4);\n    assertIsSquare(Fp, root, n);\n    return root;\n}\nfunction sqrt5mod8(Fp, n) {\n    const p5div8 = (Fp.ORDER - _5n) / _8n;\n    const n2 = Fp.mul(n, _2n);\n    const v = Fp.pow(n2, p5div8);\n    const nv = Fp.mul(n, v);\n    const i = Fp.mul(Fp.mul(nv, _2n), v);\n    const root = Fp.mul(nv, Fp.sub(i, Fp.ONE));\n    assertIsSquare(Fp, root, n);\n    return root;\n}\n// Based on RFC9380, Kong algorithm\n// prettier-ignore\nfunction sqrt9mod16(P) {\n    const Fp_ = Field(P);\n    const tn = tonelliShanks(P);\n    const c1 = tn(Fp_, Fp_.neg(Fp_.ONE)); //  1. c1 = sqrt(-1) in F, i.e., (c1^2) == -1 in F\n    const c2 = tn(Fp_, c1); //  2. c2 = sqrt(c1) in F, i.e., (c2^2) == c1 in F\n    const c3 = tn(Fp_, Fp_.neg(c1)); //  3. c3 = sqrt(-c1) in F, i.e., (c3^2) == -c1 in F\n    const c4 = (P + _7n) / _16n; //  4. c4 = (q + 7) / 16        # Integer arithmetic\n    return (Fp, n) => {\n        let tv1 = Fp.pow(n, c4); //  1. tv1 = x^c4\n        let tv2 = Fp.mul(tv1, c1); //  2. tv2 = c1 * tv1\n        const tv3 = Fp.mul(tv1, c2); //  3. tv3 = c2 * tv1\n        const tv4 = Fp.mul(tv1, c3); //  4. tv4 = c3 * tv1\n        const e1 = Fp.eql(Fp.sqr(tv2), n); //  5.  e1 = (tv2^2) == x\n        const e2 = Fp.eql(Fp.sqr(tv3), n); //  6.  e2 = (tv3^2) == x\n        tv1 = Fp.cmov(tv1, tv2, e1); //  7. tv1 = CMOV(tv1, tv2, e1)  # Select tv2 if (tv2^2) == x\n        tv2 = Fp.cmov(tv4, tv3, e2); //  8. tv2 = CMOV(tv4, tv3, e2)  # Select tv3 if (tv3^2) == x\n        const e3 = Fp.eql(Fp.sqr(tv2), n); //  9.  e3 = (tv2^2) == x\n        const root = Fp.cmov(tv1, tv2, e3); // 10.  z = CMOV(tv1, tv2, e3)   # Select sqrt from tv1 & tv2\n        assertIsSquare(Fp, root, n);\n        return root;\n    };\n}\n/**\n * Tonelli-Shanks square root search algorithm.\n * 1. https://eprint.iacr.org/2012/685.pdf (page 12)\n * 2. Square Roots from 1; 24, 51, 10 to Dan Shanks\n * @param P field order\n * @returns function that takes field Fp (created from P) and number n\n */\nexport function tonelliShanks(P) {\n    // Initialization (precomputation).\n    // Caching initialization could boost perf by 7%.\n    if (P < _3n)\n        throw new Error('sqrt is not defined for small field');\n    // Factor P - 1 = Q * 2^S, where Q is odd\n    let Q = P - _1n;\n    let S = 0;\n    while (Q % _2n === _0n) {\n        Q /= _2n;\n        S++;\n    }\n    // Find the first quadratic non-residue Z >= 2\n    let Z = _2n;\n    const _Fp = Field(P);\n    while (FpLegendre(_Fp, Z) === 1) {\n        // Basic primality test for P. After x iterations, chance of\n        // not finding quadratic non-residue is 2^x, so 2^1000.\n        if (Z++ > 1000)\n            throw new Error('Cannot find square root: probably non-prime P');\n    }\n    // Fast-path; usually done before Z, but we do \"primality test\".\n    if (S === 1)\n        return sqrt3mod4;\n    // Slow-path\n    // TODO: test on Fp2 and others\n    let cc = _Fp.pow(Z, Q); // c = z^Q\n    const Q1div2 = (Q + _1n) / _2n;\n    return function tonelliSlow(Fp, n) {\n        if (Fp.is0(n))\n            return n;\n        // Check if n is a quadratic residue using Legendre symbol\n        if (FpLegendre(Fp, n) !== 1)\n            throw new Error('Cannot find square root');\n        // Initialize variables for the main loop\n        let M = S;\n        let c = Fp.mul(Fp.ONE, cc); // c = z^Q, move cc from field _Fp into field Fp\n        let t = Fp.pow(n, Q); // t = n^Q, first guess at the fudge factor\n        let R = Fp.pow(n, Q1div2); // R = n^((Q+1)/2), first guess at the square root\n        // Main loop\n        // while t != 1\n        while (!Fp.eql(t, Fp.ONE)) {\n            if (Fp.is0(t))\n                return Fp.ZERO; // if t=0 return R=0\n            let i = 1;\n            // Find the smallest i >= 1 such that t^(2^i)  1 (mod P)\n            let t_tmp = Fp.sqr(t); // t^(2^1)\n            while (!Fp.eql(t_tmp, Fp.ONE)) {\n                i++;\n                t_tmp = Fp.sqr(t_tmp); // t^(2^2)...\n                if (i === M)\n                    throw new Error('Cannot find square root');\n            }\n            // Calculate the exponent for b: 2^(M - i - 1)\n            const exponent = _1n << BigInt(M - i - 1); // bigint is important\n            const b = Fp.pow(c, exponent); // b = 2^(M - i - 1)\n            // Update variables\n            M = i;\n            c = Fp.sqr(b); // c = b^2\n            t = Fp.mul(t, c); // t = (t * b^2)\n            R = Fp.mul(R, b); // R = R*b\n        }\n        return R;\n    };\n}\n/**\n * Square root for a finite field. Will try optimized versions first:\n *\n * 1. P  3 (mod 4)\n * 2. P  5 (mod 8)\n * 3. P  9 (mod 16)\n * 4. Tonelli-Shanks algorithm\n *\n * Different algorithms can give different roots, it is up to user to decide which one they want.\n * For example there is FpSqrtOdd/FpSqrtEven to choice root based on oddness (used for hash-to-curve).\n */\nexport function FpSqrt(P) {\n    // P  3 (mod 4) => n = n^((P+1)/4)\n    if (P % _4n === _3n)\n        return sqrt3mod4;\n    // P  5 (mod 8) => Atkin algorithm, page 10 of https://eprint.iacr.org/2012/685.pdf\n    if (P % _8n === _5n)\n        return sqrt5mod8;\n    // P  9 (mod 16) => Kong algorithm, page 11 of https://eprint.iacr.org/2012/685.pdf (algorithm 4)\n    if (P % _16n === _9n)\n        return sqrt9mod16(P);\n    // Tonelli-Shanks algorithm\n    return tonelliShanks(P);\n}\n// Little-endian check for first LE bit (last BE bit);\nexport const isNegativeLE = (num, modulo) => (mod(num, modulo) & _1n) === _1n;\n// prettier-ignore\nconst FIELD_FIELDS = [\n    'create', 'isValid', 'is0', 'neg', 'inv', 'sqrt', 'sqr',\n    'eql', 'add', 'sub', 'mul', 'pow', 'div',\n    'addN', 'subN', 'mulN', 'sqrN'\n];\nexport function validateField(field) {\n    const initial = {\n        ORDER: 'bigint',\n        MASK: 'bigint',\n        BYTES: 'number',\n        BITS: 'number',\n    };\n    const opts = FIELD_FIELDS.reduce((map, val) => {\n        map[val] = 'function';\n        return map;\n    }, initial);\n    _validateObject(field, opts);\n    // const max = 16384;\n    // if (field.BYTES < 1 || field.BYTES > max) throw new Error('invalid field');\n    // if (field.BITS < 1 || field.BITS > 8 * max) throw new Error('invalid field');\n    return field;\n}\n// Generic field functions\n/**\n * Same as `pow` but for Fp: non-constant-time.\n * Unsafe in some contexts: uses ladder, so can expose bigint bits.\n */\nexport function FpPow(Fp, num, power) {\n    if (power < _0n)\n        throw new Error('invalid exponent, negatives unsupported');\n    if (power === _0n)\n        return Fp.ONE;\n    if (power === _1n)\n        return num;\n    let p = Fp.ONE;\n    let d = num;\n    while (power > _0n) {\n        if (power & _1n)\n            p = Fp.mul(p, d);\n        d = Fp.sqr(d);\n        power >>= _1n;\n    }\n    return p;\n}\n/**\n * Efficiently invert an array of Field elements.\n * Exception-free. Will return `undefined` for 0 elements.\n * @param passZero map 0 to 0 (instead of undefined)\n */\nexport function FpInvertBatch(Fp, nums, passZero = false) {\n    const inverted = new Array(nums.length).fill(passZero ? Fp.ZERO : undefined);\n    // Walk from first to last, multiply them by each other MOD p\n    const multipliedAcc = nums.reduce((acc, num, i) => {\n        if (Fp.is0(num))\n            return acc;\n        inverted[i] = acc;\n        return Fp.mul(acc, num);\n    }, Fp.ONE);\n    // Invert last element\n    const invertedAcc = Fp.inv(multipliedAcc);\n    // Walk from last to first, multiply them by inverted each other MOD p\n    nums.reduceRight((acc, num, i) => {\n        if (Fp.is0(num))\n            return acc;\n        inverted[i] = Fp.mul(acc, inverted[i]);\n        return Fp.mul(acc, num);\n    }, invertedAcc);\n    return inverted;\n}\n// TODO: remove\nexport function FpDiv(Fp, lhs, rhs) {\n    return Fp.mul(lhs, typeof rhs === 'bigint' ? invert(rhs, Fp.ORDER) : Fp.inv(rhs));\n}\n/**\n * Legendre symbol.\n * Legendre constant is used to calculate Legendre symbol (a | p)\n * which denotes the value of a^((p-1)/2) (mod p).\n *\n * * (a | p)  1    if a is a square (mod p), quadratic residue\n * * (a | p)  -1   if a is not a square (mod p), quadratic non residue\n * * (a | p)  0    if a  0 (mod p)\n */\nexport function FpLegendre(Fp, n) {\n    // We can use 3rd argument as optional cache of this value\n    // but seems unneeded for now. The operation is very fast.\n    const p1mod2 = (Fp.ORDER - _1n) / _2n;\n    const powered = Fp.pow(n, p1mod2);\n    const yes = Fp.eql(powered, Fp.ONE);\n    const zero = Fp.eql(powered, Fp.ZERO);\n    const no = Fp.eql(powered, Fp.neg(Fp.ONE));\n    if (!yes && !zero && !no)\n        throw new Error('invalid Legendre symbol result');\n    return yes ? 1 : zero ? 0 : -1;\n}\n// This function returns True whenever the value x is a square in the field F.\nexport function FpIsSquare(Fp, n) {\n    const l = FpLegendre(Fp, n);\n    return l === 1;\n}\n// CURVE.n lengths\nexport function nLength(n, nBitLength) {\n    // Bit size, byte size of CURVE.n\n    if (nBitLength !== undefined)\n        anumber(nBitLength);\n    const _nBitLength = nBitLength !== undefined ? nBitLength : n.toString(2).length;\n    const nByteLength = Math.ceil(_nBitLength / 8);\n    return { nBitLength: _nBitLength, nByteLength };\n}\n/**\n * Creates a finite field. Major performance optimizations:\n * * 1. Denormalized operations like mulN instead of mul.\n * * 2. Identical object shape: never add or remove keys.\n * * 3. `Object.freeze`.\n * Fragile: always run a benchmark on a change.\n * Security note: operations don't check 'isValid' for all elements for performance reasons,\n * it is caller responsibility to check this.\n * This is low-level code, please make sure you know what you're doing.\n *\n * Note about field properties:\n * * CHARACTERISTIC p = prime number, number of elements in main subgroup.\n * * ORDER q = similar to cofactor in curves, may be composite `q = p^m`.\n *\n * @param ORDER field order, probably prime, or could be composite\n * @param bitLen how many bits the field consumes\n * @param isLE (default: false) if encoding / decoding should be in little-endian\n * @param redef optional faster redefinitions of sqrt and other methods\n */\nexport function Field(ORDER, bitLenOrOpts, // TODO: use opts only in v2?\nisLE = false, opts = {}) {\n    if (ORDER <= _0n)\n        throw new Error('invalid field: expected ORDER > 0, got ' + ORDER);\n    let _nbitLength = undefined;\n    let _sqrt = undefined;\n    let modOnDecode = false;\n    let allowedLengths = undefined;\n    if (typeof bitLenOrOpts === 'object' && bitLenOrOpts != null) {\n        if (opts.sqrt || isLE)\n            throw new Error('cannot specify opts in two arguments');\n        const _opts = bitLenOrOpts;\n        if (_opts.BITS)\n            _nbitLength = _opts.BITS;\n        if (_opts.sqrt)\n            _sqrt = _opts.sqrt;\n        if (typeof _opts.isLE === 'boolean')\n            isLE = _opts.isLE;\n        if (typeof _opts.modOnDecode === 'boolean')\n            modOnDecode = _opts.modOnDecode;\n        allowedLengths = _opts.allowedLengths;\n    }\n    else {\n        if (typeof bitLenOrOpts === 'number')\n            _nbitLength = bitLenOrOpts;\n        if (opts.sqrt)\n            _sqrt = opts.sqrt;\n    }\n    const { nBitLength: BITS, nByteLength: BYTES } = nLength(ORDER, _nbitLength);\n    if (BYTES > 2048)\n        throw new Error('invalid field: expected ORDER of <= 2048 bytes');\n    let sqrtP; // cached sqrtP\n    const f = Object.freeze({\n        ORDER,\n        isLE,\n        BITS,\n        BYTES,\n        MASK: bitMask(BITS),\n        ZERO: _0n,\n        ONE: _1n,\n        allowedLengths: allowedLengths,\n        create: (num) => mod(num, ORDER),\n        isValid: (num) => {\n            if (typeof num !== 'bigint')\n                throw new Error('invalid field element: expected bigint, got ' + typeof num);\n            return _0n <= num && num < ORDER; // 0 is valid element, but it's not invertible\n        },\n        is0: (num) => num === _0n,\n        // is valid and invertible\n        isValidNot0: (num) => !f.is0(num) && f.isValid(num),\n        isOdd: (num) => (num & _1n) === _1n,\n        neg: (num) => mod(-num, ORDER),\n        eql: (lhs, rhs) => lhs === rhs,\n        sqr: (num) => mod(num * num, ORDER),\n        add: (lhs, rhs) => mod(lhs + rhs, ORDER),\n        sub: (lhs, rhs) => mod(lhs - rhs, ORDER),\n        mul: (lhs, rhs) => mod(lhs * rhs, ORDER),\n        pow: (num, power) => FpPow(f, num, power),\n        div: (lhs, rhs) => mod(lhs * invert(rhs, ORDER), ORDER),\n        // Same as above, but doesn't normalize\n        sqrN: (num) => num * num,\n        addN: (lhs, rhs) => lhs + rhs,\n        subN: (lhs, rhs) => lhs - rhs,\n        mulN: (lhs, rhs) => lhs * rhs,\n        inv: (num) => invert(num, ORDER),\n        sqrt: _sqrt ||\n            ((n) => {\n                if (!sqrtP)\n                    sqrtP = FpSqrt(ORDER);\n                return sqrtP(f, n);\n            }),\n        toBytes: (num) => (isLE ? numberToBytesLE(num, BYTES) : numberToBytesBE(num, BYTES)),\n        fromBytes: (bytes, skipValidation = true) => {\n            if (allowedLengths) {\n                if (!allowedLengths.includes(bytes.length) || bytes.length > BYTES) {\n                    throw new Error('Field.fromBytes: expected ' + allowedLengths + ' bytes, got ' + bytes.length);\n                }\n                const padded = new Uint8Array(BYTES);\n                // isLE add 0 to right, !isLE to the left.\n                padded.set(bytes, isLE ? 0 : padded.length - bytes.length);\n                bytes = padded;\n            }\n            if (bytes.length !== BYTES)\n                throw new Error('Field.fromBytes: expected ' + BYTES + ' bytes, got ' + bytes.length);\n            let scalar = isLE ? bytesToNumberLE(bytes) : bytesToNumberBE(bytes);\n            if (modOnDecode)\n                scalar = mod(scalar, ORDER);\n            if (!skipValidation)\n                if (!f.isValid(scalar))\n                    throw new Error('invalid field element: outside of range 0..ORDER');\n            // NOTE: we don't validate scalar here, please use isValid. This done such way because some\n            // protocol may allow non-reduced scalar that reduced later or changed some other way.\n            return scalar;\n        },\n        // TODO: we don't need it here, move out to separate fn\n        invertBatch: (lst) => FpInvertBatch(f, lst),\n        // We can't move this out because Fp6, Fp12 implement it\n        // and it's unclear what to return in there.\n        cmov: (a, b, c) => (c ? b : a),\n    });\n    return Object.freeze(f);\n}\n// Generic random scalar, we can do same for other fields if via Fp2.mul(Fp2.ONE, Fp2.random)?\n// This allows unsafe methods like ignore bias or zero. These unsafe, but often used in different protocols (if deterministic RNG).\n// which mean we cannot force this via opts.\n// Not sure what to do with randomBytes, we can accept it inside opts if wanted.\n// Probably need to export getMinHashLength somewhere?\n// random(bytes?: Uint8Array, unsafeAllowZero = false, unsafeAllowBias = false) {\n//   const LEN = !unsafeAllowBias ? getMinHashLength(ORDER) : BYTES;\n//   if (bytes === undefined) bytes = randomBytes(LEN); // _opts.randomBytes?\n//   const num = isLE ? bytesToNumberLE(bytes) : bytesToNumberBE(bytes);\n//   // `mod(x, 11)` can sometimes produce 0. `mod(x, 10) + 1` is the same, but no 0\n//   const reduced = unsafeAllowZero ? mod(num, ORDER) : mod(num, ORDER - _1n) + _1n;\n//   return reduced;\n// },\nexport function FpSqrtOdd(Fp, elm) {\n    if (!Fp.isOdd)\n        throw new Error(\"Field doesn't have isOdd\");\n    const root = Fp.sqrt(elm);\n    return Fp.isOdd(root) ? root : Fp.neg(root);\n}\nexport function FpSqrtEven(Fp, elm) {\n    if (!Fp.isOdd)\n        throw new Error(\"Field doesn't have isOdd\");\n    const root = Fp.sqrt(elm);\n    return Fp.isOdd(root) ? Fp.neg(root) : root;\n}\n/**\n * \"Constant-time\" private key generation utility.\n * Same as mapKeyToField, but accepts less bytes (40 instead of 48 for 32-byte field).\n * Which makes it slightly more biased, less secure.\n * @deprecated use `mapKeyToField` instead\n */\nexport function hashToPrivateScalar(hash, groupOrder, isLE = false) {\n    hash = ensureBytes('privateHash', hash);\n    const hashLen = hash.length;\n    const minLen = nLength(groupOrder).nByteLength + 8;\n    if (minLen < 24 || hashLen < minLen || hashLen > 1024)\n        throw new Error('hashToPrivateScalar: expected ' + minLen + '-1024 bytes of input, got ' + hashLen);\n    const num = isLE ? bytesToNumberLE(hash) : bytesToNumberBE(hash);\n    return mod(num, groupOrder - _1n) + _1n;\n}\n/**\n * Returns total number of bytes consumed by the field element.\n * For example, 32 bytes for usual 256-bit weierstrass curve.\n * @param fieldOrder number of field elements, usually CURVE.n\n * @returns byte length of field\n */\nexport function getFieldBytesLength(fieldOrder) {\n    if (typeof fieldOrder !== 'bigint')\n        throw new Error('field order must be bigint');\n    const bitLength = fieldOrder.toString(2).length;\n    return Math.ceil(bitLength / 8);\n}\n/**\n * Returns minimal amount of bytes that can be safely reduced\n * by field order.\n * Should be 2^-128 for 128-bit curve such as P256.\n * @param fieldOrder number of field elements, usually CURVE.n\n * @returns byte length of target hash\n */\nexport function getMinHashLength(fieldOrder) {\n    const length = getFieldBytesLength(fieldOrder);\n    return length + Math.ceil(length / 2);\n}\n/**\n * \"Constant-time\" private key generation utility.\n * Can take (n + n/2) or more bytes of uniform input e.g. from CSPRNG or KDF\n * and convert them into private scalar, with the modulo bias being negligible.\n * Needs at least 48 bytes of input for 32-byte private key.\n * https://research.kudelskisecurity.com/2020/07/28/the-definitive-guide-to-modulo-bias-and-how-to-avoid-it/\n * FIPS 186-5, A.2 https://csrc.nist.gov/publications/detail/fips/186/5/final\n * RFC 9380, https://www.rfc-editor.org/rfc/rfc9380#section-5\n * @param hash hash output from SHA3 or a similar function\n * @param groupOrder size of subgroup - (e.g. secp256k1.CURVE.n)\n * @param isLE interpret hash bytes as LE num\n * @returns valid private scalar\n */\nexport function mapHashToField(key, fieldOrder, isLE = false) {\n    const len = key.length;\n    const fieldLen = getFieldBytesLength(fieldOrder);\n    const minLen = getMinHashLength(fieldOrder);\n    // No small numbers: need to understand bias story. No huge numbers: easier to detect JS timings.\n    if (len < 16 || len < minLen || len > 1024)\n        throw new Error('expected ' + minLen + '-1024 bytes of input, got ' + len);\n    const num = isLE ? bytesToNumberLE(key) : bytesToNumberBE(key);\n    // `mod(x, 11)` can sometimes produce 0. `mod(x, 10) + 1` is the same, but no 0\n    const reduced = mod(num, fieldOrder - _1n) + _1n;\n    return isLE ? numberToBytesLE(reduced, fieldLen) : numberToBytesBE(reduced, fieldLen);\n}\n//# sourceMappingURL=modular.js.map","/**\n * Methods for elliptic curve multiplication by scalars.\n * Contains wNAF, pippenger.\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nimport { bitLen, bitMask, validateObject } from \"../utils.js\";\nimport { Field, FpInvertBatch, nLength, validateField } from \"./modular.js\";\nconst _0n = BigInt(0);\nconst _1n = BigInt(1);\nexport function negateCt(condition, item) {\n    const neg = item.negate();\n    return condition ? neg : item;\n}\n/**\n * Takes a bunch of Projective Points but executes only one\n * inversion on all of them. Inversion is very slow operation,\n * so this improves performance massively.\n * Optimization: converts a list of projective points to a list of identical points with Z=1.\n */\nexport function normalizeZ(c, points) {\n    const invertedZs = FpInvertBatch(c.Fp, points.map((p) => p.Z));\n    return points.map((p, i) => c.fromAffine(p.toAffine(invertedZs[i])));\n}\nfunction validateW(W, bits) {\n    if (!Number.isSafeInteger(W) || W <= 0 || W > bits)\n        throw new Error('invalid window size, expected [1..' + bits + '], got W=' + W);\n}\nfunction calcWOpts(W, scalarBits) {\n    validateW(W, scalarBits);\n    const windows = Math.ceil(scalarBits / W) + 1; // W=8 33. Not 32, because we skip zero\n    const windowSize = 2 ** (W - 1); // W=8 128. Not 256, because we skip zero\n    const maxNumber = 2 ** W; // W=8 256\n    const mask = bitMask(W); // W=8 255 == mask 0b11111111\n    const shiftBy = BigInt(W); // W=8 8\n    return { windows, windowSize, mask, maxNumber, shiftBy };\n}\nfunction calcOffsets(n, window, wOpts) {\n    const { windowSize, mask, maxNumber, shiftBy } = wOpts;\n    let wbits = Number(n & mask); // extract W bits.\n    let nextN = n >> shiftBy; // shift number by W bits.\n    // What actually happens here:\n    // const highestBit = Number(mask ^ (mask >> 1n));\n    // let wbits2 = wbits - 1; // skip zero\n    // if (wbits2 & highestBit) { wbits2 ^= Number(mask); // (~);\n    // split if bits > max: +224 => 256-32\n    if (wbits > windowSize) {\n        // we skip zero, which means instead of `>= size-1`, we do `> size`\n        wbits -= maxNumber; // -32, can be maxNumber - wbits, but then we need to set isNeg here.\n        nextN += _1n; // +256 (carry)\n    }\n    const offsetStart = window * windowSize;\n    const offset = offsetStart + Math.abs(wbits) - 1; // -1 because we skip zero\n    const isZero = wbits === 0; // is current window slice a 0?\n    const isNeg = wbits < 0; // is current window slice negative?\n    const isNegF = window % 2 !== 0; // fake random statement for noise\n    const offsetF = offsetStart; // fake offset for noise\n    return { nextN, offset, isZero, isNeg, isNegF, offsetF };\n}\nfunction validateMSMPoints(points, c) {\n    if (!Array.isArray(points))\n        throw new Error('array expected');\n    points.forEach((p, i) => {\n        if (!(p instanceof c))\n            throw new Error('invalid point at index ' + i);\n    });\n}\nfunction validateMSMScalars(scalars, field) {\n    if (!Array.isArray(scalars))\n        throw new Error('array of scalars expected');\n    scalars.forEach((s, i) => {\n        if (!field.isValid(s))\n            throw new Error('invalid scalar at index ' + i);\n    });\n}\n// Since points in different groups cannot be equal (different object constructor),\n// we can have single place to store precomputes.\n// Allows to make points frozen / immutable.\nconst pointPrecomputes = new WeakMap();\nconst pointWindowSizes = new WeakMap();\nfunction getW(P) {\n    // To disable precomputes:\n    // return 1;\n    return pointWindowSizes.get(P) || 1;\n}\nfunction assert0(n) {\n    if (n !== _0n)\n        throw new Error('invalid wNAF');\n}\n/**\n * Elliptic curve multiplication of Point by scalar. Fragile.\n * Table generation takes **30MB of ram and 10ms on high-end CPU**,\n * but may take much longer on slow devices. Actual generation will happen on\n * first call of `multiply()`. By default, `BASE` point is precomputed.\n *\n * Scalars should always be less than curve order: this should be checked inside of a curve itself.\n * Creates precomputation tables for fast multiplication:\n * - private scalar is split by fixed size windows of W bits\n * - every window point is collected from window's table & added to accumulator\n * - since windows are different, same point inside tables won't be accessed more than once per calc\n * - each multiplication is 'Math.ceil(CURVE_ORDER / ) + 1' point additions (fixed for any scalar)\n * - +1 window is neccessary for wNAF\n * - wNAF reduces table size: 2x less memory + 2x faster generation, but 10% slower multiplication\n *\n * @todo Research returning 2d JS array of windows, instead of a single window.\n * This would allow windows to be in different memory locations\n */\nexport class wNAF {\n    // Parametrized with a given Point class (not individual point)\n    constructor(Point, bits) {\n        this.BASE = Point.BASE;\n        this.ZERO = Point.ZERO;\n        this.Fn = Point.Fn;\n        this.bits = bits;\n    }\n    // non-const time multiplication ladder\n    _unsafeLadder(elm, n, p = this.ZERO) {\n        let d = elm;\n        while (n > _0n) {\n            if (n & _1n)\n                p = p.add(d);\n            d = d.double();\n            n >>= _1n;\n        }\n        return p;\n    }\n    /**\n     * Creates a wNAF precomputation window. Used for caching.\n     * Default window size is set by `utils.precompute()` and is equal to 8.\n     * Number of precomputed points depends on the curve size:\n     * 2^(1) * (Math.ceil( / ) + 1), where:\n     * -  is the window size\n     * -  is the bitlength of the curve order.\n     * For a 256-bit curve and window size 8, the number of precomputed points is 128 * 33 = 4224.\n     * @param point Point instance\n     * @param W window size\n     * @returns precomputed point tables flattened to a single array\n     */\n    precomputeWindow(point, W) {\n        const { windows, windowSize } = calcWOpts(W, this.bits);\n        const points = [];\n        let p = point;\n        let base = p;\n        for (let window = 0; window < windows; window++) {\n            base = p;\n            points.push(base);\n            // i=1, bc we skip 0\n            for (let i = 1; i < windowSize; i++) {\n                base = base.add(p);\n                points.push(base);\n            }\n            p = base.double();\n        }\n        return points;\n    }\n    /**\n     * Implements ec multiplication using precomputed tables and w-ary non-adjacent form.\n     * More compact implementation:\n     * https://github.com/paulmillr/noble-secp256k1/blob/47cb1669b6e506ad66b35fe7d76132ae97465da2/index.ts#L502-L541\n     * @returns real and fake (for const-time) points\n     */\n    wNAF(W, precomputes, n) {\n        // Scalar should be smaller than field order\n        if (!this.Fn.isValid(n))\n            throw new Error('invalid scalar');\n        // Accumulators\n        let p = this.ZERO;\n        let f = this.BASE;\n        // This code was first written with assumption that 'f' and 'p' will never be infinity point:\n        // since each addition is multiplied by 2 ** W, it cannot cancel each other. However,\n        // there is negate now: it is possible that negated element from low value\n        // would be the same as high element, which will create carry into next window.\n        // It's not obvious how this can fail, but still worth investigating later.\n        const wo = calcWOpts(W, this.bits);\n        for (let window = 0; window < wo.windows; window++) {\n            // (n === _0n) is handled and not early-exited. isEven and offsetF are used for noise\n            const { nextN, offset, isZero, isNeg, isNegF, offsetF } = calcOffsets(n, window, wo);\n            n = nextN;\n            if (isZero) {\n                // bits are 0: add garbage to fake point\n                // Important part for const-time getPublicKey: add random \"noise\" point to f.\n                f = f.add(negateCt(isNegF, precomputes[offsetF]));\n            }\n            else {\n                // bits are 1: add to result point\n                p = p.add(negateCt(isNeg, precomputes[offset]));\n            }\n        }\n        assert0(n);\n        // Return both real and fake points: JIT won't eliminate f.\n        // At this point there is a way to F be infinity-point even if p is not,\n        // which makes it less const-time: around 1 bigint multiply.\n        return { p, f };\n    }\n    /**\n     * Implements ec unsafe (non const-time) multiplication using precomputed tables and w-ary non-adjacent form.\n     * @param acc accumulator point to add result of multiplication\n     * @returns point\n     */\n    wNAFUnsafe(W, precomputes, n, acc = this.ZERO) {\n        const wo = calcWOpts(W, this.bits);\n        for (let window = 0; window < wo.windows; window++) {\n            if (n === _0n)\n                break; // Early-exit, skip 0 value\n            const { nextN, offset, isZero, isNeg } = calcOffsets(n, window, wo);\n            n = nextN;\n            if (isZero) {\n                // Window bits are 0: skip processing.\n                // Move to next window.\n                continue;\n            }\n            else {\n                const item = precomputes[offset];\n                acc = acc.add(isNeg ? item.negate() : item); // Re-using acc allows to save adds in MSM\n            }\n        }\n        assert0(n);\n        return acc;\n    }\n    getPrecomputes(W, point, transform) {\n        // Calculate precomputes on a first run, reuse them after\n        let comp = pointPrecomputes.get(point);\n        if (!comp) {\n            comp = this.precomputeWindow(point, W);\n            if (W !== 1) {\n                // Doing transform outside of if brings 15% perf hit\n                if (typeof transform === 'function')\n                    comp = transform(comp);\n                pointPrecomputes.set(point, comp);\n            }\n        }\n        return comp;\n    }\n    cached(point, scalar, transform) {\n        const W = getW(point);\n        return this.wNAF(W, this.getPrecomputes(W, point, transform), scalar);\n    }\n    unsafe(point, scalar, transform, prev) {\n        const W = getW(point);\n        if (W === 1)\n            return this._unsafeLadder(point, scalar, prev); // For W=1 ladder is ~x2 faster\n        return this.wNAFUnsafe(W, this.getPrecomputes(W, point, transform), scalar, prev);\n    }\n    // We calculate precomputes for elliptic curve point multiplication\n    // using windowed method. This specifies window size and\n    // stores precomputed values. Usually only base point would be precomputed.\n    createCache(P, W) {\n        validateW(W, this.bits);\n        pointWindowSizes.set(P, W);\n        pointPrecomputes.delete(P);\n    }\n    hasCache(elm) {\n        return getW(elm) !== 1;\n    }\n}\n/**\n * Endomorphism-specific multiplication for Koblitz curves.\n * Cost: 128 dbl, 0-256 adds.\n */\nexport function mulEndoUnsafe(Point, point, k1, k2) {\n    let acc = point;\n    let p1 = Point.ZERO;\n    let p2 = Point.ZERO;\n    while (k1 > _0n || k2 > _0n) {\n        if (k1 & _1n)\n            p1 = p1.add(acc);\n        if (k2 & _1n)\n            p2 = p2.add(acc);\n        acc = acc.double();\n        k1 >>= _1n;\n        k2 >>= _1n;\n    }\n    return { p1, p2 };\n}\n/**\n * Pippenger algorithm for multi-scalar multiplication (MSM, Pa + Qb + Rc + ...).\n * 30x faster vs naive addition on L=4096, 10x faster than precomputes.\n * For N=254bit, L=1, it does: 1024 ADD + 254 DBL. For L=5: 1536 ADD + 254 DBL.\n * Algorithmically constant-time (for same L), even when 1 point + scalar, or when scalar = 0.\n * @param c Curve Point constructor\n * @param fieldN field over CURVE.N - important that it's not over CURVE.P\n * @param points array of L curve points\n * @param scalars array of L scalars (aka secret keys / bigints)\n */\nexport function pippenger(c, fieldN, points, scalars) {\n    // If we split scalars by some window (let's say 8 bits), every chunk will only\n    // take 256 buckets even if there are 4096 scalars, also re-uses double.\n    // TODO:\n    // - https://eprint.iacr.org/2024/750.pdf\n    // - https://tches.iacr.org/index.php/TCHES/article/view/10287\n    // 0 is accepted in scalars\n    validateMSMPoints(points, c);\n    validateMSMScalars(scalars, fieldN);\n    const plength = points.length;\n    const slength = scalars.length;\n    if (plength !== slength)\n        throw new Error('arrays of points and scalars must have equal length');\n    // if (plength === 0) throw new Error('array must be of length >= 2');\n    const zero = c.ZERO;\n    const wbits = bitLen(BigInt(plength));\n    let windowSize = 1; // bits\n    if (wbits > 12)\n        windowSize = wbits - 3;\n    else if (wbits > 4)\n        windowSize = wbits - 2;\n    else if (wbits > 0)\n        windowSize = 2;\n    const MASK = bitMask(windowSize);\n    const buckets = new Array(Number(MASK) + 1).fill(zero); // +1 for zero array\n    const lastBits = Math.floor((fieldN.BITS - 1) / windowSize) * windowSize;\n    let sum = zero;\n    for (let i = lastBits; i >= 0; i -= windowSize) {\n        buckets.fill(zero);\n        for (let j = 0; j < slength; j++) {\n            const scalar = scalars[j];\n            const wbits = Number((scalar >> BigInt(i)) & MASK);\n            buckets[wbits] = buckets[wbits].add(points[j]);\n        }\n        let resI = zero; // not using this will do small speed-up, but will lose ct\n        // Skip first bucket, because it is zero\n        for (let j = buckets.length - 1, sumI = zero; j > 0; j--) {\n            sumI = sumI.add(buckets[j]);\n            resI = resI.add(sumI);\n        }\n        sum = sum.add(resI);\n        if (i !== 0)\n            for (let j = 0; j < windowSize; j++)\n                sum = sum.double();\n    }\n    return sum;\n}\n/**\n * Precomputed multi-scalar multiplication (MSM, Pa + Qb + Rc + ...).\n * @param c Curve Point constructor\n * @param fieldN field over CURVE.N - important that it's not over CURVE.P\n * @param points array of L curve points\n * @returns function which multiplies points with scaars\n */\nexport function precomputeMSMUnsafe(c, fieldN, points, windowSize) {\n    /**\n     * Performance Analysis of Window-based Precomputation\n     *\n     * Base Case (256-bit scalar, 8-bit window):\n     * - Standard precomputation requires:\n     *   - 31 additions per scalar  256 scalars = 7,936 ops\n     *   - Plus 255 summary additions = 8,191 total ops\n     *   Note: Summary additions can be optimized via accumulator\n     *\n     * Chunked Precomputation Analysis:\n     * - Using 32 chunks requires:\n     *   - 255 additions per chunk\n     *   - 256 doublings\n     *   - Total: (255  32) + 256 = 8,416 ops\n     *\n     * Memory Usage Comparison:\n     * Window Size | Standard Points | Chunked Points\n     * ------------|-----------------|---------------\n     *     4-bit   |     520         |      15\n     *     8-bit   |    4,224        |     255\n     *    10-bit   |   13,824        |   1,023\n     *    16-bit   |  557,056        |  65,535\n     *\n     * Key Advantages:\n     * 1. Enables larger window sizes due to reduced memory overhead\n     * 2. More efficient for smaller scalar counts:\n     *    - 16 chunks: (16  255) + 256 = 4,336 ops\n     *    - ~2x faster than standard 8,191 ops\n     *\n     * Limitations:\n     * - Not suitable for plain precomputes (requires 256 constant doublings)\n     * - Performance degrades with larger scalar counts:\n     *   - Optimal for ~256 scalars\n     *   - Less efficient for 4096+ scalars (Pippenger preferred)\n     */\n    validateW(windowSize, fieldN.BITS);\n    validateMSMPoints(points, c);\n    const zero = c.ZERO;\n    const tableSize = 2 ** windowSize - 1; // table size (without zero)\n    const chunks = Math.ceil(fieldN.BITS / windowSize); // chunks of item\n    const MASK = bitMask(windowSize);\n    const tables = points.map((p) => {\n        const res = [];\n        for (let i = 0, acc = p; i < tableSize; i++) {\n            res.push(acc);\n            acc = acc.add(p);\n        }\n        return res;\n    });\n    return (scalars) => {\n        validateMSMScalars(scalars, fieldN);\n        if (scalars.length > points.length)\n            throw new Error('array of scalars must be smaller than array of points');\n        let res = zero;\n        for (let i = 0; i < chunks; i++) {\n            // No need to double if accumulator is still zero.\n            if (res !== zero)\n                for (let j = 0; j < windowSize; j++)\n                    res = res.double();\n            const shiftBy = BigInt(chunks * windowSize - (i + 1) * windowSize);\n            for (let j = 0; j < scalars.length; j++) {\n                const n = scalars[j];\n                const curr = Number((n >> shiftBy) & MASK);\n                if (!curr)\n                    continue; // skip zero scalars chunks\n                res = res.add(tables[j][curr - 1]);\n            }\n        }\n        return res;\n    };\n}\n// TODO: remove\n/** @deprecated */\nexport function validateBasic(curve) {\n    validateField(curve.Fp);\n    validateObject(curve, {\n        n: 'bigint',\n        h: 'bigint',\n        Gx: 'field',\n        Gy: 'field',\n    }, {\n        nBitLength: 'isSafeInteger',\n        nByteLength: 'isSafeInteger',\n    });\n    // Set defaults\n    return Object.freeze({\n        ...nLength(curve.n, curve.nBitLength),\n        ...curve,\n        ...{ p: curve.Fp.ORDER },\n    });\n}\nfunction createField(order, field) {\n    if (field) {\n        if (field.ORDER !== order)\n            throw new Error('Field.ORDER must match order: Fp == p, Fn == n');\n        validateField(field);\n        return field;\n    }\n    else {\n        return Field(order);\n    }\n}\n/** Validates CURVE opts and creates fields */\nexport function _createCurveFields(type, CURVE, curveOpts = {}) {\n    if (!CURVE || typeof CURVE !== 'object')\n        throw new Error(`expected valid ${type} CURVE object`);\n    for (const p of ['p', 'n', 'h']) {\n        const val = CURVE[p];\n        if (!(typeof val === 'bigint' && val > _0n))\n            throw new Error(`CURVE.${p} must be positive bigint`);\n    }\n    const Fp = createField(CURVE.p, curveOpts.Fp);\n    const Fn = createField(CURVE.n, curveOpts.Fn);\n    const _b = type === 'weierstrass' ? 'b' : 'd';\n    const params = ['Gx', 'Gy', 'a', _b];\n    for (const p of params) {\n        // @ts-ignore\n        if (!Fp.isValid(CURVE[p]))\n            throw new Error(`CURVE.${p} must be valid field element of CURVE.Fp`);\n    }\n    return { Fp, Fn };\n}\n//# sourceMappingURL=curve.js.map","/**\n * Twisted Edwards curve. The formula is: ax + y = 1 + dxy.\n * For design rationale of types / exports, see weierstrass module documentation.\n * Untwisted Edwards curves exist, but they aren't used in real-world protocols.\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nimport { _validateObject, abool, abytes, aInRange, bytesToHex, bytesToNumberLE, concatBytes, ensureBytes, memoized, numberToBytesLE, randomBytes, } from \"../utils.js\";\nimport { _createCurveFields, normalizeZ, pippenger, wNAF, } from \"./curve.js\";\nimport { Field } from \"./modular.js\";\n// Be friendly to bad ECMAScript parsers by not using bigint literals\n// prettier-ignore\nconst _0n = BigInt(0), _1n = BigInt(1), _2n = BigInt(2), _8n = BigInt(8);\nfunction isEdValidXY(Fp, CURVE, x, y) {\n    const x2 = Fp.sqr(x);\n    const y2 = Fp.sqr(y);\n    const left = Fp.add(Fp.mul(CURVE.a, x2), y2);\n    const right = Fp.add(Fp.ONE, Fp.mul(CURVE.d, Fp.mul(x2, y2)));\n    return Fp.eql(left, right);\n}\nexport function edwards(CURVE, curveOpts = {}) {\n    const { Fp, Fn } = _createCurveFields('edwards', CURVE, curveOpts);\n    const { h: cofactor, n: CURVE_ORDER } = CURVE;\n    _validateObject(curveOpts, {}, { uvRatio: 'function' });\n    // Important:\n    // There are some places where Fp.BYTES is used instead of nByteLength.\n    // So far, everything has been tested with curves of Fp.BYTES == nByteLength.\n    // TODO: test and find curves which behave otherwise.\n    const MASK = _2n << (BigInt(Fn.BYTES * 8) - _1n);\n    const modP = (n) => Fp.create(n); // Function overrides\n    // sqrt(u/v)\n    const uvRatio = curveOpts.uvRatio ||\n        ((u, v) => {\n            try {\n                return { isValid: true, value: Fp.sqrt(Fp.div(u, v)) };\n            }\n            catch (e) {\n                return { isValid: false, value: _0n };\n            }\n        });\n    // Validate whether the passed curve params are valid.\n    // equation ax + y = 1 + dxy should work for generator point.\n    if (!isEdValidXY(Fp, CURVE, CURVE.Gx, CURVE.Gy))\n        throw new Error('bad curve params: generator point');\n    /**\n     * Asserts coordinate is valid: 0 <= n < MASK.\n     * Coordinates >= Fp.ORDER are allowed for zip215.\n     */\n    function acoord(title, n, banZero = false) {\n        const min = banZero ? _1n : _0n;\n        aInRange('coordinate ' + title, n, min, MASK);\n        return n;\n    }\n    function aextpoint(other) {\n        if (!(other instanceof Point))\n            throw new Error('ExtendedPoint expected');\n    }\n    // Converts Extended point to default (x, y) coordinates.\n    // Can accept precomputed Z^-1 - for example, from invertBatch.\n    const toAffineMemo = memoized((p, iz) => {\n        const { X, Y, Z } = p;\n        const is0 = p.is0();\n        if (iz == null)\n            iz = is0 ? _8n : Fp.inv(Z); // 8 was chosen arbitrarily\n        const x = modP(X * iz);\n        const y = modP(Y * iz);\n        const zz = Fp.mul(Z, iz);\n        if (is0)\n            return { x: _0n, y: _1n };\n        if (zz !== _1n)\n            throw new Error('invZ was invalid');\n        return { x, y };\n    });\n    const assertValidMemo = memoized((p) => {\n        const { a, d } = CURVE;\n        if (p.is0())\n            throw new Error('bad point: ZERO'); // TODO: optimize, with vars below?\n        // Equation in affine coordinates: ax + y = 1 + dxy\n        // Equation in projective coordinates (X/Z, Y/Z, Z):  (aX + Y)Z = Z + dXY\n        const { X, Y, Z, T } = p;\n        const X2 = modP(X * X); // X\n        const Y2 = modP(Y * Y); // Y\n        const Z2 = modP(Z * Z); // Z\n        const Z4 = modP(Z2 * Z2); // Z\n        const aX2 = modP(X2 * a); // aX\n        const left = modP(Z2 * modP(aX2 + Y2)); // (aX + Y)Z\n        const right = modP(Z4 + modP(d * modP(X2 * Y2))); // Z + dXY\n        if (left !== right)\n            throw new Error('bad point: equation left != right (1)');\n        // In Extended coordinates we also have T, which is x*y=T/Z: check X*Y == Z*T\n        const XY = modP(X * Y);\n        const ZT = modP(Z * T);\n        if (XY !== ZT)\n            throw new Error('bad point: equation left != right (2)');\n        return true;\n    });\n    // Extended Point works in extended coordinates: (X, Y, Z, T)  (x=X/Z, y=Y/Z, T=xy).\n    // https://en.wikipedia.org/wiki/Twisted_Edwards_curve#Extended_coordinates\n    class Point {\n        constructor(X, Y, Z, T) {\n            this.X = acoord('x', X);\n            this.Y = acoord('y', Y);\n            this.Z = acoord('z', Z, true);\n            this.T = acoord('t', T);\n            Object.freeze(this);\n        }\n        get x() {\n            return this.toAffine().x;\n        }\n        get y() {\n            return this.toAffine().y;\n        }\n        // TODO: remove\n        get ex() {\n            return this.X;\n        }\n        get ey() {\n            return this.Y;\n        }\n        get ez() {\n            return this.Z;\n        }\n        get et() {\n            return this.T;\n        }\n        static normalizeZ(points) {\n            return normalizeZ(Point, points);\n        }\n        static msm(points, scalars) {\n            return pippenger(Point, Fn, points, scalars);\n        }\n        _setWindowSize(windowSize) {\n            this.precompute(windowSize);\n        }\n        static fromAffine(p) {\n            if (p instanceof Point)\n                throw new Error('extended point not allowed');\n            const { x, y } = p || {};\n            acoord('x', x);\n            acoord('y', y);\n            return new Point(x, y, _1n, modP(x * y));\n        }\n        precompute(windowSize = 8, isLazy = true) {\n            wnaf.createCache(this, windowSize);\n            if (!isLazy)\n                this.multiply(_2n); // random number\n            return this;\n        }\n        // Useful in fromAffine() - not for fromBytes(), which always created valid points.\n        assertValidity() {\n            assertValidMemo(this);\n        }\n        // Compare one point to another.\n        equals(other) {\n            aextpoint(other);\n            const { X: X1, Y: Y1, Z: Z1 } = this;\n            const { X: X2, Y: Y2, Z: Z2 } = other;\n            const X1Z2 = modP(X1 * Z2);\n            const X2Z1 = modP(X2 * Z1);\n            const Y1Z2 = modP(Y1 * Z2);\n            const Y2Z1 = modP(Y2 * Z1);\n            return X1Z2 === X2Z1 && Y1Z2 === Y2Z1;\n        }\n        is0() {\n            return this.equals(Point.ZERO);\n        }\n        negate() {\n            // Flips point sign to a negative one (-x, y in affine coords)\n            return new Point(modP(-this.X), this.Y, this.Z, modP(-this.T));\n        }\n        // Fast algo for doubling Extended Point.\n        // https://hyperelliptic.org/EFD/g1p/auto-twisted-extended.html#doubling-dbl-2008-hwcd\n        // Cost: 4M + 4S + 1*a + 6add + 1*2.\n        double() {\n            const { a } = CURVE;\n            const { X: X1, Y: Y1, Z: Z1 } = this;\n            const A = modP(X1 * X1); // A = X12\n            const B = modP(Y1 * Y1); // B = Y12\n            const C = modP(_2n * modP(Z1 * Z1)); // C = 2*Z12\n            const D = modP(a * A); // D = a*A\n            const x1y1 = X1 + Y1;\n            const E = modP(modP(x1y1 * x1y1) - A - B); // E = (X1+Y1)2-A-B\n            const G = D + B; // G = D+B\n            const F = G - C; // F = G-C\n            const H = D - B; // H = D-B\n            const X3 = modP(E * F); // X3 = E*F\n            const Y3 = modP(G * H); // Y3 = G*H\n            const T3 = modP(E * H); // T3 = E*H\n            const Z3 = modP(F * G); // Z3 = F*G\n            return new Point(X3, Y3, Z3, T3);\n        }\n        // Fast algo for adding 2 Extended Points.\n        // https://hyperelliptic.org/EFD/g1p/auto-twisted-extended.html#addition-add-2008-hwcd\n        // Cost: 9M + 1*a + 1*d + 7add.\n        add(other) {\n            aextpoint(other);\n            const { a, d } = CURVE;\n            const { X: X1, Y: Y1, Z: Z1, T: T1 } = this;\n            const { X: X2, Y: Y2, Z: Z2, T: T2 } = other;\n            const A = modP(X1 * X2); // A = X1*X2\n            const B = modP(Y1 * Y2); // B = Y1*Y2\n            const C = modP(T1 * d * T2); // C = T1*d*T2\n            const D = modP(Z1 * Z2); // D = Z1*Z2\n            const E = modP((X1 + Y1) * (X2 + Y2) - A - B); // E = (X1+Y1)*(X2+Y2)-A-B\n            const F = D - C; // F = D-C\n            const G = D + C; // G = D+C\n            const H = modP(B - a * A); // H = B-a*A\n            const X3 = modP(E * F); // X3 = E*F\n            const Y3 = modP(G * H); // Y3 = G*H\n            const T3 = modP(E * H); // T3 = E*H\n            const Z3 = modP(F * G); // Z3 = F*G\n            return new Point(X3, Y3, Z3, T3);\n        }\n        subtract(other) {\n            return this.add(other.negate());\n        }\n        // Constant-time multiplication.\n        multiply(scalar) {\n            const n = scalar;\n            aInRange('scalar', n, _1n, CURVE_ORDER); // 1 <= scalar < L\n            const { p, f } = wnaf.cached(this, n, (p) => normalizeZ(Point, p));\n            return normalizeZ(Point, [p, f])[0];\n        }\n        // Non-constant-time multiplication. Uses double-and-add algorithm.\n        // It's faster, but should only be used when you don't care about\n        // an exposed private key e.g. sig verification.\n        // Does NOT allow scalars higher than CURVE.n.\n        // Accepts optional accumulator to merge with multiply (important for sparse scalars)\n        multiplyUnsafe(scalar, acc = Point.ZERO) {\n            const n = scalar;\n            aInRange('scalar', n, _0n, CURVE_ORDER); // 0 <= scalar < L\n            if (n === _0n)\n                return Point.ZERO;\n            if (this.is0() || n === _1n)\n                return this;\n            return wnaf.unsafe(this, n, (p) => normalizeZ(Point, p), acc);\n        }\n        // Checks if point is of small order.\n        // If you add something to small order point, you will have \"dirty\"\n        // point with torsion component.\n        // Multiplies point by cofactor and checks if the result is 0.\n        isSmallOrder() {\n            return this.multiplyUnsafe(cofactor).is0();\n        }\n        // Multiplies point by curve order and checks if the result is 0.\n        // Returns `false` is the point is dirty.\n        isTorsionFree() {\n            return wnaf.unsafe(this, CURVE_ORDER).is0();\n        }\n        // Converts Extended point to default (x, y) coordinates.\n        // Can accept precomputed Z^-1 - for example, from invertBatch.\n        toAffine(invertedZ) {\n            return toAffineMemo(this, invertedZ);\n        }\n        clearCofactor() {\n            if (cofactor === _1n)\n                return this;\n            return this.multiplyUnsafe(cofactor);\n        }\n        static fromBytes(bytes, zip215 = false) {\n            abytes(bytes);\n            return Point.fromHex(bytes, zip215);\n        }\n        // Converts hash string or Uint8Array to Point.\n        // Uses algo from RFC8032 5.1.3.\n        static fromHex(hex, zip215 = false) {\n            const { d, a } = CURVE;\n            const len = Fp.BYTES;\n            hex = ensureBytes('pointHex', hex, len); // copy hex to a new array\n            abool('zip215', zip215);\n            const normed = hex.slice(); // copy again, we'll manipulate it\n            const lastByte = hex[len - 1]; // select last byte\n            normed[len - 1] = lastByte & ~0x80; // clear last bit\n            const y = bytesToNumberLE(normed);\n            // zip215=true is good for consensus-critical apps. =false follows RFC8032 / NIST186-5.\n            // RFC8032 prohibits >= p, but ZIP215 doesn't\n            // zip215=true:  0 <= y < MASK (2^256 for ed25519)\n            // zip215=false: 0 <= y < P (2^255-19 for ed25519)\n            const max = zip215 ? MASK : Fp.ORDER;\n            aInRange('pointHex.y', y, _0n, max);\n            // Ed25519: x = (y-1)/(dy+1) mod p. Ed448: x = (y-1)/(dy-1) mod p. Generic case:\n            // ax+y=1+dxy => y-1=dxy-ax => y-1=x(dy-a) => x=(y-1)/(dy-a)\n            const y2 = modP(y * y); // denominator is always non-0 mod p.\n            const u = modP(y2 - _1n); // u = y - 1\n            const v = modP(d * y2 - a); // v = d y + 1.\n            let { isValid, value: x } = uvRatio(u, v); // (u/v)\n            if (!isValid)\n                throw new Error('Point.fromHex: invalid y coordinate');\n            const isXOdd = (x & _1n) === _1n; // There are 2 square roots. Use x_0 bit to select proper\n            const isLastByteOdd = (lastByte & 0x80) !== 0; // x_0, last bit\n            if (!zip215 && x === _0n && isLastByteOdd)\n                // if x=0 and x_0 = 1, fail\n                throw new Error('Point.fromHex: x=0 and x_0=1');\n            if (isLastByteOdd !== isXOdd)\n                x = modP(-x); // if x_0 != x mod 2, set x = p-x\n            return Point.fromAffine({ x, y });\n        }\n        toBytes() {\n            const { x, y } = this.toAffine();\n            const bytes = numberToBytesLE(y, Fp.BYTES); // each y has 2 x values (x, -y)\n            bytes[bytes.length - 1] |= x & _1n ? 0x80 : 0; // when compressing, it's enough to store y\n            return bytes; // and use the last byte to encode sign of x\n        }\n        /** @deprecated use `toBytes` */\n        toRawBytes() {\n            return this.toBytes();\n        }\n        toHex() {\n            return bytesToHex(this.toBytes());\n        }\n        toString() {\n            return `<Point ${this.is0() ? 'ZERO' : this.toHex()}>`;\n        }\n    }\n    // base / generator point\n    Point.BASE = new Point(CURVE.Gx, CURVE.Gy, _1n, modP(CURVE.Gx * CURVE.Gy));\n    // zero / infinity / identity point\n    Point.ZERO = new Point(_0n, _1n, _1n, _0n); // 0, 1, 1, 0\n    // fields\n    Point.Fp = Fp;\n    Point.Fn = Fn;\n    const wnaf = new wNAF(Point, Fn.BYTES * 8); // Fn.BITS?\n    return Point;\n}\n/**\n * Base class for prime-order points like Ristretto255 and Decaf448.\n * These points eliminate cofactor issues by representing equivalence classes\n * of Edwards curve points.\n */\nexport class PrimeEdwardsPoint {\n    constructor(ep) {\n        this.ep = ep;\n    }\n    // Static methods that must be implemented by subclasses\n    static fromBytes(_bytes) {\n        throw new Error('fromBytes must be implemented by subclass');\n    }\n    static fromHex(_hex) {\n        throw new Error('fromHex must be implemented by subclass');\n    }\n    get x() {\n        return this.toAffine().x;\n    }\n    get y() {\n        return this.toAffine().y;\n    }\n    // Common implementations\n    clearCofactor() {\n        // no-op for prime-order groups\n        return this;\n    }\n    assertValidity() {\n        this.ep.assertValidity();\n    }\n    toAffine(invertedZ) {\n        return this.ep.toAffine(invertedZ);\n    }\n    /** @deprecated use `toBytes` */\n    toRawBytes() {\n        return this.toBytes();\n    }\n    toHex() {\n        return bytesToHex(this.toBytes());\n    }\n    toString() {\n        return this.toHex();\n    }\n    isTorsionFree() {\n        return true;\n    }\n    isSmallOrder() {\n        return false;\n    }\n    add(other) {\n        this.assertSame(other);\n        return this.init(this.ep.add(other.ep));\n    }\n    subtract(other) {\n        this.assertSame(other);\n        return this.init(this.ep.subtract(other.ep));\n    }\n    multiply(scalar) {\n        return this.init(this.ep.multiply(scalar));\n    }\n    multiplyUnsafe(scalar) {\n        return this.init(this.ep.multiplyUnsafe(scalar));\n    }\n    double() {\n        return this.init(this.ep.double());\n    }\n    negate() {\n        return this.init(this.ep.negate());\n    }\n    precompute(windowSize, isLazy) {\n        return this.init(this.ep.precompute(windowSize, isLazy));\n    }\n}\n/**\n * Initializes EdDSA signatures over given Edwards curve.\n */\nexport function eddsa(Point, cHash, eddsaOpts) {\n    if (typeof cHash !== 'function')\n        throw new Error('\"hash\" function param is required');\n    _validateObject(eddsaOpts, {}, {\n        adjustScalarBytes: 'function',\n        randomBytes: 'function',\n        domain: 'function',\n        prehash: 'function',\n        mapToCurve: 'function',\n    });\n    const { prehash } = eddsaOpts;\n    const { BASE: G, Fp, Fn } = Point;\n    const CURVE_ORDER = Fn.ORDER;\n    const randomBytes_ = eddsaOpts.randomBytes || randomBytes;\n    const adjustScalarBytes = eddsaOpts.adjustScalarBytes || ((bytes) => bytes); // NOOP\n    const domain = eddsaOpts.domain ||\n        ((data, ctx, phflag) => {\n            abool('phflag', phflag);\n            if (ctx.length || phflag)\n                throw new Error('Contexts/pre-hash are not supported');\n            return data;\n        }); // NOOP\n    function modN(a) {\n        return Fn.create(a);\n    }\n    // Little-endian SHA512 with modulo n\n    function modN_LE(hash) {\n        // Not using Fn.fromBytes: hash can be 2*Fn.BYTES\n        return modN(bytesToNumberLE(hash));\n    }\n    // Get the hashed private scalar per RFC8032 5.1.5\n    function getPrivateScalar(key) {\n        const len = Fp.BYTES;\n        key = ensureBytes('private key', key, len);\n        // Hash private key with curve's hash function to produce uniformingly random input\n        // Check byte lengths: ensure(64, h(ensure(32, key)))\n        const hashed = ensureBytes('hashed private key', cHash(key), 2 * len);\n        const head = adjustScalarBytes(hashed.slice(0, len)); // clear first half bits, produce FE\n        const prefix = hashed.slice(len, 2 * len); // second half is called key prefix (5.1.6)\n        const scalar = modN_LE(head); // The actual private scalar\n        return { head, prefix, scalar };\n    }\n    /** Convenience method that creates public key from scalar. RFC8032 5.1.5 */\n    function getExtendedPublicKey(secretKey) {\n        const { head, prefix, scalar } = getPrivateScalar(secretKey);\n        const point = G.multiply(scalar); // Point on Edwards curve aka public key\n        const pointBytes = point.toBytes();\n        return { head, prefix, scalar, point, pointBytes };\n    }\n    /** Calculates EdDSA pub key. RFC8032 5.1.5. */\n    function getPublicKey(secretKey) {\n        return getExtendedPublicKey(secretKey).pointBytes;\n    }\n    // int('LE', SHA512(dom2(F, C) || msgs)) mod N\n    function hashDomainToScalar(context = Uint8Array.of(), ...msgs) {\n        const msg = concatBytes(...msgs);\n        return modN_LE(cHash(domain(msg, ensureBytes('context', context), !!prehash)));\n    }\n    /** Signs message with privateKey. RFC8032 5.1.6 */\n    function sign(msg, secretKey, options = {}) {\n        msg = ensureBytes('message', msg);\n        if (prehash)\n            msg = prehash(msg); // for ed25519ph etc.\n        const { prefix, scalar, pointBytes } = getExtendedPublicKey(secretKey);\n        const r = hashDomainToScalar(options.context, prefix, msg); // r = dom2(F, C) || prefix || PH(M)\n        const R = G.multiply(r).toBytes(); // R = rG\n        const k = hashDomainToScalar(options.context, R, pointBytes, msg); // R || A || PH(M)\n        const s = modN(r + k * scalar); // S = (r + k * s) mod L\n        aInRange('signature.s', s, _0n, CURVE_ORDER); // 0 <= s < l\n        const L = Fp.BYTES;\n        const res = concatBytes(R, numberToBytesLE(s, L));\n        return ensureBytes('result', res, L * 2); // 64-byte signature\n    }\n    // verification rule is either zip215 or rfc8032 / nist186-5. Consult fromHex:\n    const verifyOpts = { zip215: true };\n    /**\n     * Verifies EdDSA signature against message and public key. RFC8032 5.1.7.\n     * An extended group equation is checked.\n     */\n    function verify(sig, msg, publicKey, options = verifyOpts) {\n        const { context, zip215 } = options;\n        const len = Fp.BYTES; // Verifies EdDSA signature against message and public key. RFC8032 5.1.7.\n        sig = ensureBytes('signature', sig, 2 * len); // An extended group equation is checked.\n        msg = ensureBytes('message', msg);\n        publicKey = ensureBytes('publicKey', publicKey, len);\n        if (zip215 !== undefined)\n            abool('zip215', zip215);\n        if (prehash)\n            msg = prehash(msg); // for ed25519ph, etc\n        const s = bytesToNumberLE(sig.slice(len, 2 * len));\n        let A, R, SB;\n        try {\n            // zip215=true is good for consensus-critical apps. =false follows RFC8032 / NIST186-5.\n            // zip215=true:  0 <= y < MASK (2^256 for ed25519)\n            // zip215=false: 0 <= y < P (2^255-19 for ed25519)\n            A = Point.fromHex(publicKey, zip215);\n            R = Point.fromHex(sig.slice(0, len), zip215);\n            SB = G.multiplyUnsafe(s); // 0 <= s < l is done inside\n        }\n        catch (error) {\n            return false;\n        }\n        if (!zip215 && A.isSmallOrder())\n            return false;\n        const k = hashDomainToScalar(context, R.toBytes(), A.toBytes(), msg);\n        const RkA = R.add(A.multiplyUnsafe(k));\n        // Extended group equation\n        // [8][S]B = [8]R + [8][k]A'\n        return RkA.subtract(SB).clearCofactor().is0();\n    }\n    G.precompute(8); // Enable precomputes. Slows down first publicKey computation by 20ms.\n    const size = Fp.BYTES;\n    const lengths = {\n        secret: size,\n        public: size,\n        signature: 2 * size,\n        seed: size,\n    };\n    function randomSecretKey(seed = randomBytes_(lengths.seed)) {\n        return seed;\n    }\n    const utils = {\n        getExtendedPublicKey,\n        /** ed25519 priv keys are uniform 32b. No need to check for modulo bias, like in secp256k1. */\n        randomSecretKey,\n        isValidSecretKey,\n        isValidPublicKey,\n        randomPrivateKey: randomSecretKey,\n        /**\n         * Converts ed public key to x public key. Uses formula:\n         * - ed25519:\n         *   - `(u, v) = ((1+y)/(1-y), sqrt(-486664)*u/x)`\n         *   - `(x, y) = (sqrt(-486664)*u/v, (u-1)/(u+1))`\n         * - ed448:\n         *   - `(u, v) = ((y-1)/(y+1), sqrt(156324)*u/x)`\n         *   - `(x, y) = (sqrt(156324)*u/v, (1+u)/(1-u))`\n         *\n         * There is NO `fromMontgomery`:\n         * - There are 2 valid ed25519 points for every x25519, with flipped coordinate\n         * - Sometimes there are 0 valid ed25519 points, because x25519 *additionally*\n         *   accepts inputs on the quadratic twist, which can't be moved to ed25519\n         */\n        toMontgomery(publicKey) {\n            const { y } = Point.fromBytes(publicKey);\n            const is25519 = size === 32;\n            if (!is25519 && size !== 57)\n                throw new Error('only defined for 25519 and 448');\n            const u = is25519 ? Fp.div(_1n + y, _1n - y) : Fp.div(y - _1n, y + _1n);\n            return Fp.toBytes(u);\n        },\n        toMontgomeryPriv(privateKey) {\n            abytes(privateKey, size);\n            const hashed = cHash(privateKey.subarray(0, size));\n            return adjustScalarBytes(hashed).subarray(0, size);\n        },\n        /**\n         * We're doing scalar multiplication (used in getPublicKey etc) with precomputed BASE_POINT\n         * values. This slows down first getPublicKey() by milliseconds (see Speed section),\n         * but allows to speed-up subsequent getPublicKey() calls up to 20x.\n         * @param windowSize 2, 4, 8, 16\n         */\n        precompute(windowSize = 8, point = Point.BASE) {\n            return point.precompute(windowSize, false);\n        },\n    };\n    function keygen(seed) {\n        const secretKey = utils.randomSecretKey(seed);\n        return { secretKey, publicKey: getPublicKey(secretKey) };\n    }\n    function isValidSecretKey(key) {\n        try {\n            return !!Fn.fromBytes(key, false);\n        }\n        catch (error) {\n            return false;\n        }\n    }\n    function isValidPublicKey(key, zip215) {\n        try {\n            return !!Point.fromBytes(key, zip215);\n        }\n        catch (error) {\n            return false;\n        }\n    }\n    return Object.freeze({\n        keygen,\n        getPublicKey,\n        sign,\n        verify,\n        utils,\n        Point,\n        info: { type: 'edwards', lengths },\n    });\n}\n// TODO: remove\nfunction _eddsa_legacy_opts_to_new(c) {\n    const CURVE = {\n        a: c.a,\n        d: c.d,\n        p: c.Fp.ORDER,\n        n: c.n,\n        h: c.h,\n        Gx: c.Gx,\n        Gy: c.Gy,\n    };\n    const Fp = c.Fp;\n    const Fn = Field(CURVE.n, c.nBitLength, true);\n    const curveOpts = { Fp, Fn, uvRatio: c.uvRatio };\n    const eddsaOpts = {\n        randomBytes: c.randomBytes,\n        adjustScalarBytes: c.adjustScalarBytes,\n        domain: c.domain,\n        prehash: c.prehash,\n        mapToCurve: c.mapToCurve,\n    };\n    return { CURVE, curveOpts, hash: c.hash, eddsaOpts };\n}\n// TODO: remove\nfunction _eddsa_new_output_to_legacy(c, eddsa) {\n    const legacy = Object.assign({}, eddsa, { ExtendedPoint: eddsa.Point, CURVE: c });\n    return legacy;\n}\n// TODO: remove. Use eddsa\nexport function twistedEdwards(c) {\n    const { CURVE, curveOpts, hash, eddsaOpts } = _eddsa_legacy_opts_to_new(c);\n    const Point = edwards(CURVE, curveOpts);\n    const EDDSA = eddsa(Point, hash, eddsaOpts);\n    return _eddsa_new_output_to_legacy(c, EDDSA);\n}\n//# sourceMappingURL=edwards.js.map","/**\n * ed25519 Twisted Edwards curve with following addons:\n * - X25519 ECDH\n * - Ristretto cofactor elimination\n * - Elligator hash-to-group / point indistinguishability\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nimport { sha512 } from '@noble/hashes/sha2.js';\nimport { abytes, concatBytes, utf8ToBytes } from '@noble/hashes/utils.js';\nimport { pippenger } from \"./abstract/curve.js\";\nimport { PrimeEdwardsPoint, twistedEdwards, } from \"./abstract/edwards.js\";\nimport { _DST_scalar, createHasher, expand_message_xmd, } from \"./abstract/hash-to-curve.js\";\nimport { Field, FpInvertBatch, FpSqrtEven, isNegativeLE, mod, pow2, } from \"./abstract/modular.js\";\nimport { montgomery } from \"./abstract/montgomery.js\";\nimport { bytesToNumberLE, ensureBytes, equalBytes, numberToBytesLE } from \"./utils.js\";\n// prettier-ignore\nconst _0n = BigInt(0), _1n = BigInt(1), _2n = BigInt(2), _3n = BigInt(3);\n// prettier-ignore\nconst _5n = BigInt(5), _8n = BigInt(8);\n// P = 2n**255n - 19n\n// N = 2n**252n + 27742317777372353535851937790883648493n\n// a = Fp.create(BigInt(-1))\n// d = -121665/121666 a.k.a. Fp.neg(121665 * Fp.inv(121666))\nconst ed25519_CURVE = {\n    p: BigInt('0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed'),\n    n: BigInt('0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed'),\n    h: _8n,\n    a: BigInt('0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec'),\n    d: BigInt('0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3'),\n    Gx: BigInt('0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a'),\n    Gy: BigInt('0x6666666666666666666666666666666666666666666666666666666666666658'),\n};\nfunction ed25519_pow_2_252_3(x) {\n    // prettier-ignore\n    const _10n = BigInt(10), _20n = BigInt(20), _40n = BigInt(40), _80n = BigInt(80);\n    const P = ed25519_CURVE.p;\n    const x2 = (x * x) % P;\n    const b2 = (x2 * x) % P; // x^3, 11\n    const b4 = (pow2(b2, _2n, P) * b2) % P; // x^15, 1111\n    const b5 = (pow2(b4, _1n, P) * x) % P; // x^31\n    const b10 = (pow2(b5, _5n, P) * b5) % P;\n    const b20 = (pow2(b10, _10n, P) * b10) % P;\n    const b40 = (pow2(b20, _20n, P) * b20) % P;\n    const b80 = (pow2(b40, _40n, P) * b40) % P;\n    const b160 = (pow2(b80, _80n, P) * b80) % P;\n    const b240 = (pow2(b160, _80n, P) * b80) % P;\n    const b250 = (pow2(b240, _10n, P) * b10) % P;\n    const pow_p_5_8 = (pow2(b250, _2n, P) * x) % P;\n    // ^ To pow to (p+3)/8, multiply it by x.\n    return { pow_p_5_8, b2 };\n}\nfunction adjustScalarBytes(bytes) {\n    // Section 5: For X25519, in order to decode 32 random bytes as an integer scalar,\n    // set the three least significant bits of the first byte\n    bytes[0] &= 248; // 0b1111_1000\n    // and the most significant bit of the last to zero,\n    bytes[31] &= 127; // 0b0111_1111\n    // set the second most significant bit of the last byte to 1\n    bytes[31] |= 64; // 0b0100_0000\n    return bytes;\n}\n// (-1) aka (a) aka 2^((p-1)/4)\n// Fp.sqrt(Fp.neg(1))\nconst ED25519_SQRT_M1 = /* @__PURE__ */ BigInt('19681161376707505956807079304988542015446066515923890162744021073123829784752');\n// sqrt(u/v)\nfunction uvRatio(u, v) {\n    const P = ed25519_CURVE.p;\n    const v3 = mod(v * v * v, P); // v\n    const v7 = mod(v3 * v3 * v, P); // v\n    // (p+3)/8 and (p-5)/8\n    const pow = ed25519_pow_2_252_3(u * v7).pow_p_5_8;\n    let x = mod(u * v3 * pow, P); // (uv)(uv)^(p-5)/8\n    const vx2 = mod(v * x * x, P); // vx\n    const root1 = x; // First root candidate\n    const root2 = mod(x * ED25519_SQRT_M1, P); // Second root candidate\n    const useRoot1 = vx2 === u; // If vx = u (mod p), x is a square root\n    const useRoot2 = vx2 === mod(-u, P); // If vx = -u, set x <-- x * 2^((p-1)/4)\n    const noRoot = vx2 === mod(-u * ED25519_SQRT_M1, P); // There is no valid root, vx = -u(-1)\n    if (useRoot1)\n        x = root1;\n    if (useRoot2 || noRoot)\n        x = root2; // We return root2 anyway, for const-time\n    if (isNegativeLE(x, P))\n        x = mod(-x, P);\n    return { isValid: useRoot1 || useRoot2, value: x };\n}\nconst Fp = /* @__PURE__ */ (() => Field(ed25519_CURVE.p, { isLE: true }))();\nconst Fn = /* @__PURE__ */ (() => Field(ed25519_CURVE.n, { isLE: true }))();\nconst ed25519Defaults = /* @__PURE__ */ (() => ({\n    ...ed25519_CURVE,\n    Fp,\n    hash: sha512,\n    adjustScalarBytes,\n    // dom2\n    // Ratio of u to v. Allows us to combine inversion and square root. Uses algo from RFC8032 5.1.3.\n    // Constant-time, u/v\n    uvRatio,\n}))();\n/**\n * ed25519 curve with EdDSA signatures.\n * @example\n * import { ed25519 } from '@noble/curves/ed25519';\n * const { secretKey, publicKey } = ed25519.keygen();\n * const msg = new TextEncoder().encode('hello');\n * const sig = ed25519.sign(msg, priv);\n * ed25519.verify(sig, msg, pub); // Default mode: follows ZIP215\n * ed25519.verify(sig, msg, pub, { zip215: false }); // RFC8032 / FIPS 186-5\n */\nexport const ed25519 = /* @__PURE__ */ (() => twistedEdwards(ed25519Defaults))();\nfunction ed25519_domain(data, ctx, phflag) {\n    if (ctx.length > 255)\n        throw new Error('Context is too big');\n    return concatBytes(utf8ToBytes('SigEd25519 no Ed25519 collisions'), new Uint8Array([phflag ? 1 : 0, ctx.length]), ctx, data);\n}\n/** Context of ed25519. Uses context for domain separation. */\nexport const ed25519ctx = /* @__PURE__ */ (() => twistedEdwards({\n    ...ed25519Defaults,\n    domain: ed25519_domain,\n}))();\n/** Prehashed version of ed25519. Accepts already-hashed messages in sign() and verify(). */\nexport const ed25519ph = /* @__PURE__ */ (() => twistedEdwards(Object.assign({}, ed25519Defaults, {\n    domain: ed25519_domain,\n    prehash: sha512,\n})))();\n/**\n * ECDH using curve25519 aka x25519.\n * @example\n * import { x25519 } from '@noble/curves/ed25519';\n * const priv = 'a546e36bf0527c9d3b16154b82465edd62144c0ac1fc5a18506a2244ba449ac4';\n * const pub = 'e6db6867583030db3594c1a424b15f7c726624ec26b3353b10a903a6d0ab1c4c';\n * x25519.getSharedSecret(priv, pub) === x25519.scalarMult(priv, pub); // aliases\n * x25519.getPublicKey(priv) === x25519.scalarMultBase(priv);\n * x25519.getPublicKey(x25519.utils.randomSecretKey());\n */\nexport const x25519 = /* @__PURE__ */ (() => {\n    const P = ed25519_CURVE.p;\n    return montgomery({\n        P,\n        type: 'x25519',\n        powPminus2: (x) => {\n            // x^(p-2) aka x^(2^255-21)\n            const { pow_p_5_8, b2 } = ed25519_pow_2_252_3(x);\n            return mod(pow2(pow_p_5_8, _3n, P) * b2, P);\n        },\n        adjustScalarBytes,\n    });\n})();\n/** @deprecated use `ed25519.utils.toMontgomery` */\nexport function edwardsToMontgomeryPub(edwardsPub) {\n    return ed25519.utils.toMontgomery(ensureBytes('pub', edwardsPub));\n}\n/** @deprecated use `ed25519.utils.toMontgomery` */\nexport const edwardsToMontgomery = edwardsToMontgomeryPub;\n/** @deprecated use `ed25519.utils.toMontgomeryPriv` */\nexport function edwardsToMontgomeryPriv(edwardsPriv) {\n    return ed25519.utils.toMontgomeryPriv(ensureBytes('pub', edwardsPriv));\n}\n// Hash To Curve Elligator2 Map (NOTE: different from ristretto255 elligator)\n// NOTE: very important part is usage of FpSqrtEven for ELL2_C1_EDWARDS, since\n// SageMath returns different root first and everything falls apart\nconst ELL2_C1 = /* @__PURE__ */ (() => (Fp.ORDER + _3n) / _8n)(); // 1. c1 = (q + 3) / 8       # Integer arithmetic\nconst ELL2_C2 = /* @__PURE__ */ (() => Fp.pow(_2n, ELL2_C1))(); // 2. c2 = 2^c1\nconst ELL2_C3 = /* @__PURE__ */ (() => Fp.sqrt(Fp.neg(Fp.ONE)))(); // 3. c3 = sqrt(-1)\n// prettier-ignore\nfunction map_to_curve_elligator2_curve25519(u) {\n    const ELL2_C4 = (Fp.ORDER - _5n) / _8n; // 4. c4 = (q - 5) / 8       # Integer arithmetic\n    const ELL2_J = BigInt(486662);\n    let tv1 = Fp.sqr(u); //  1.  tv1 = u^2\n    tv1 = Fp.mul(tv1, _2n); //  2.  tv1 = 2 * tv1\n    let xd = Fp.add(tv1, Fp.ONE); //  3.   xd = tv1 + 1         # Nonzero: -1 is square (mod p), tv1 is not\n    let x1n = Fp.neg(ELL2_J); //  4.  x1n = -J              # x1 = x1n / xd = -J / (1 + 2 * u^2)\n    let tv2 = Fp.sqr(xd); //  5.  tv2 = xd^2\n    let gxd = Fp.mul(tv2, xd); //  6.  gxd = tv2 * xd        # gxd = xd^3\n    let gx1 = Fp.mul(tv1, ELL2_J); //  7.  gx1 = J * tv1         # x1n + J * xd\n    gx1 = Fp.mul(gx1, x1n); //  8.  gx1 = gx1 * x1n       # x1n^2 + J * x1n * xd\n    gx1 = Fp.add(gx1, tv2); //  9.  gx1 = gx1 + tv2       # x1n^2 + J * x1n * xd + xd^2\n    gx1 = Fp.mul(gx1, x1n); //  10. gx1 = gx1 * x1n       # x1n^3 + J * x1n^2 * xd + x1n * xd^2\n    let tv3 = Fp.sqr(gxd); //  11. tv3 = gxd^2\n    tv2 = Fp.sqr(tv3); //  12. tv2 = tv3^2           # gxd^4\n    tv3 = Fp.mul(tv3, gxd); //  13. tv3 = tv3 * gxd       # gxd^3\n    tv3 = Fp.mul(tv3, gx1); //  14. tv3 = tv3 * gx1       # gx1 * gxd^3\n    tv2 = Fp.mul(tv2, tv3); //  15. tv2 = tv2 * tv3       # gx1 * gxd^7\n    let y11 = Fp.pow(tv2, ELL2_C4); //  16. y11 = tv2^c4        # (gx1 * gxd^7)^((p - 5) / 8)\n    y11 = Fp.mul(y11, tv3); //  17. y11 = y11 * tv3       # gx1*gxd^3*(gx1*gxd^7)^((p-5)/8)\n    let y12 = Fp.mul(y11, ELL2_C3); //  18. y12 = y11 * c3\n    tv2 = Fp.sqr(y11); //  19. tv2 = y11^2\n    tv2 = Fp.mul(tv2, gxd); //  20. tv2 = tv2 * gxd\n    let e1 = Fp.eql(tv2, gx1); //  21.  e1 = tv2 == gx1\n    let y1 = Fp.cmov(y12, y11, e1); //  22.  y1 = CMOV(y12, y11, e1)  # If g(x1) is square, this is its sqrt\n    let x2n = Fp.mul(x1n, tv1); //  23. x2n = x1n * tv1       # x2 = x2n / xd = 2 * u^2 * x1n / xd\n    let y21 = Fp.mul(y11, u); //  24. y21 = y11 * u\n    y21 = Fp.mul(y21, ELL2_C2); //  25. y21 = y21 * c2\n    let y22 = Fp.mul(y21, ELL2_C3); //  26. y22 = y21 * c3\n    let gx2 = Fp.mul(gx1, tv1); //  27. gx2 = gx1 * tv1       # g(x2) = gx2 / gxd = 2 * u^2 * g(x1)\n    tv2 = Fp.sqr(y21); //  28. tv2 = y21^2\n    tv2 = Fp.mul(tv2, gxd); //  29. tv2 = tv2 * gxd\n    let e2 = Fp.eql(tv2, gx2); //  30.  e2 = tv2 == gx2\n    let y2 = Fp.cmov(y22, y21, e2); //  31.  y2 = CMOV(y22, y21, e2)  # If g(x2) is square, this is its sqrt\n    tv2 = Fp.sqr(y1); //  32. tv2 = y1^2\n    tv2 = Fp.mul(tv2, gxd); //  33. tv2 = tv2 * gxd\n    let e3 = Fp.eql(tv2, gx1); //  34.  e3 = tv2 == gx1\n    let xn = Fp.cmov(x2n, x1n, e3); //  35.  xn = CMOV(x2n, x1n, e3)  # If e3, x = x1, else x = x2\n    let y = Fp.cmov(y2, y1, e3); //  36.   y = CMOV(y2, y1, e3)    # If e3, y = y1, else y = y2\n    let e4 = Fp.isOdd(y); //  37.  e4 = sgn0(y) == 1        # Fix sign of y\n    y = Fp.cmov(y, Fp.neg(y), e3 !== e4); //  38.   y = CMOV(y, -y, e3 XOR e4)\n    return { xMn: xn, xMd: xd, yMn: y, yMd: _1n }; //  39. return (xn, xd, y, 1)\n}\nconst ELL2_C1_EDWARDS = /* @__PURE__ */ (() => FpSqrtEven(Fp, Fp.neg(BigInt(486664))))(); // sgn0(c1) MUST equal 0\nfunction map_to_curve_elligator2_edwards25519(u) {\n    const { xMn, xMd, yMn, yMd } = map_to_curve_elligator2_curve25519(u); //  1.  (xMn, xMd, yMn, yMd) =\n    // map_to_curve_elligator2_curve25519(u)\n    let xn = Fp.mul(xMn, yMd); //  2.  xn = xMn * yMd\n    xn = Fp.mul(xn, ELL2_C1_EDWARDS); //  3.  xn = xn * c1\n    let xd = Fp.mul(xMd, yMn); //  4.  xd = xMd * yMn    # xn / xd = c1 * xM / yM\n    let yn = Fp.sub(xMn, xMd); //  5.  yn = xMn - xMd\n    let yd = Fp.add(xMn, xMd); //  6.  yd = xMn + xMd    # (n / d - 1) / (n / d + 1) = (n - d) / (n + d)\n    let tv1 = Fp.mul(xd, yd); //  7. tv1 = xd * yd\n    let e = Fp.eql(tv1, Fp.ZERO); //  8.   e = tv1 == 0\n    xn = Fp.cmov(xn, Fp.ZERO, e); //  9.  xn = CMOV(xn, 0, e)\n    xd = Fp.cmov(xd, Fp.ONE, e); //  10. xd = CMOV(xd, 1, e)\n    yn = Fp.cmov(yn, Fp.ONE, e); //  11. yn = CMOV(yn, 1, e)\n    yd = Fp.cmov(yd, Fp.ONE, e); //  12. yd = CMOV(yd, 1, e)\n    const [xd_inv, yd_inv] = FpInvertBatch(Fp, [xd, yd], true); // batch division\n    return { x: Fp.mul(xn, xd_inv), y: Fp.mul(yn, yd_inv) }; //  13. return (xn, xd, yn, yd)\n}\n/** Hashing to ed25519 points / field. RFC 9380 methods. */\nexport const ed25519_hasher = /* @__PURE__ */ (() => createHasher(ed25519.Point, (scalars) => map_to_curve_elligator2_edwards25519(scalars[0]), {\n    DST: 'edwards25519_XMD:SHA-512_ELL2_RO_',\n    encodeDST: 'edwards25519_XMD:SHA-512_ELL2_NU_',\n    p: Fp.ORDER,\n    m: 1,\n    k: 128,\n    expand: 'xmd',\n    hash: sha512,\n}))();\n// (-1) aka (a) aka 2^((p-1)/4)\nconst SQRT_M1 = ED25519_SQRT_M1;\n// (ad - 1)\nconst SQRT_AD_MINUS_ONE = /* @__PURE__ */ BigInt('25063068953384623474111414158702152701244531502492656460079210482610430750235');\n// 1 / (a-d)\nconst INVSQRT_A_MINUS_D = /* @__PURE__ */ BigInt('54469307008909316920995813868745141605393597292927456921205312896311721017578');\n// 1-d\nconst ONE_MINUS_D_SQ = /* @__PURE__ */ BigInt('1159843021668779879193775521855586647937357759715417654439879720876111806838');\n// (d-1)\nconst D_MINUS_ONE_SQ = /* @__PURE__ */ BigInt('40440834346308536858101042469323190826248399146238708352240133220865137265952');\n// Calculates 1/(number)\nconst invertSqrt = (number) => uvRatio(_1n, number);\nconst MAX_255B = /* @__PURE__ */ BigInt('0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff');\nconst bytes255ToNumberLE = (bytes) => ed25519.CURVE.Fp.create(bytesToNumberLE(bytes) & MAX_255B);\n/**\n * Computes Elligator map for Ristretto255.\n * Described in [RFC9380](https://www.rfc-editor.org/rfc/rfc9380#appendix-B) and on\n * the [website](https://ristretto.group/formulas/elligator.html).\n */\nfunction calcElligatorRistrettoMap(r0) {\n    const { d } = ed25519.CURVE;\n    const P = ed25519.CURVE.Fp.ORDER;\n    const mod = ed25519.CURVE.Fp.create;\n    const r = mod(SQRT_M1 * r0 * r0); // 1\n    const Ns = mod((r + _1n) * ONE_MINUS_D_SQ); // 2\n    let c = BigInt(-1); // 3\n    const D = mod((c - d * r) * mod(r + d)); // 4\n    let { isValid: Ns_D_is_sq, value: s } = uvRatio(Ns, D); // 5\n    let s_ = mod(s * r0); // 6\n    if (!isNegativeLE(s_, P))\n        s_ = mod(-s_);\n    if (!Ns_D_is_sq)\n        s = s_; // 7\n    if (!Ns_D_is_sq)\n        c = r; // 8\n    const Nt = mod(c * (r - _1n) * D_MINUS_ONE_SQ - D); // 9\n    const s2 = s * s;\n    const W0 = mod((s + s) * D); // 10\n    const W1 = mod(Nt * SQRT_AD_MINUS_ONE); // 11\n    const W2 = mod(_1n - s2); // 12\n    const W3 = mod(_1n + s2); // 13\n    return new ed25519.Point(mod(W0 * W3), mod(W2 * W1), mod(W1 * W3), mod(W0 * W2));\n}\nfunction ristretto255_map(bytes) {\n    abytes(bytes, 64);\n    const r1 = bytes255ToNumberLE(bytes.subarray(0, 32));\n    const R1 = calcElligatorRistrettoMap(r1);\n    const r2 = bytes255ToNumberLE(bytes.subarray(32, 64));\n    const R2 = calcElligatorRistrettoMap(r2);\n    return new _RistrettoPoint(R1.add(R2));\n}\n/**\n * Wrapper over Edwards Point for ristretto255.\n *\n * Each ed25519/ExtendedPoint has 8 different equivalent points. This can be\n * a source of bugs for protocols like ring signatures. Ristretto was created to solve this.\n * Ristretto point operates in X:Y:Z:T extended coordinates like ExtendedPoint,\n * but it should work in its own namespace: do not combine those two.\n * See [RFC9496](https://www.rfc-editor.org/rfc/rfc9496).\n */\nclass _RistrettoPoint extends PrimeEdwardsPoint {\n    constructor(ep) {\n        super(ep);\n    }\n    static fromAffine(ap) {\n        return new _RistrettoPoint(ed25519.Point.fromAffine(ap));\n    }\n    assertSame(other) {\n        if (!(other instanceof _RistrettoPoint))\n            throw new Error('RistrettoPoint expected');\n    }\n    init(ep) {\n        return new _RistrettoPoint(ep);\n    }\n    /** @deprecated use `import { ristretto255_hasher } from '@noble/curves/ed25519.js';` */\n    static hashToCurve(hex) {\n        return ristretto255_map(ensureBytes('ristrettoHash', hex, 64));\n    }\n    static fromBytes(bytes) {\n        abytes(bytes, 32);\n        const { a, d } = ed25519.CURVE;\n        const P = Fp.ORDER;\n        const mod = Fp.create;\n        const s = bytes255ToNumberLE(bytes);\n        // 1. Check that s_bytes is the canonical encoding of a field element, or else abort.\n        // 3. Check that s is non-negative, or else abort\n        if (!equalBytes(numberToBytesLE(s, 32), bytes) || isNegativeLE(s, P))\n            throw new Error('invalid ristretto255 encoding 1');\n        const s2 = mod(s * s);\n        const u1 = mod(_1n + a * s2); // 4 (a is -1)\n        const u2 = mod(_1n - a * s2); // 5\n        const u1_2 = mod(u1 * u1);\n        const u2_2 = mod(u2 * u2);\n        const v = mod(a * d * u1_2 - u2_2); // 6\n        const { isValid, value: I } = invertSqrt(mod(v * u2_2)); // 7\n        const Dx = mod(I * u2); // 8\n        const Dy = mod(I * Dx * v); // 9\n        let x = mod((s + s) * Dx); // 10\n        if (isNegativeLE(x, P))\n            x = mod(-x); // 10\n        const y = mod(u1 * Dy); // 11\n        const t = mod(x * y); // 12\n        if (!isValid || isNegativeLE(t, P) || y === _0n)\n            throw new Error('invalid ristretto255 encoding 2');\n        return new _RistrettoPoint(new ed25519.Point(x, y, _1n, t));\n    }\n    /**\n     * Converts ristretto-encoded string to ristretto point.\n     * Described in [RFC9496](https://www.rfc-editor.org/rfc/rfc9496#name-decode).\n     * @param hex Ristretto-encoded 32 bytes. Not every 32-byte string is valid ristretto encoding\n     */\n    static fromHex(hex) {\n        return _RistrettoPoint.fromBytes(ensureBytes('ristrettoHex', hex, 32));\n    }\n    static msm(points, scalars) {\n        return pippenger(_RistrettoPoint, ed25519.Point.Fn, points, scalars);\n    }\n    /**\n     * Encodes ristretto point to Uint8Array.\n     * Described in [RFC9496](https://www.rfc-editor.org/rfc/rfc9496#name-encode).\n     */\n    toBytes() {\n        let { X, Y, Z, T } = this.ep;\n        const P = Fp.ORDER;\n        const mod = Fp.create;\n        const u1 = mod(mod(Z + Y) * mod(Z - Y)); // 1\n        const u2 = mod(X * Y); // 2\n        // Square root always exists\n        const u2sq = mod(u2 * u2);\n        const { value: invsqrt } = invertSqrt(mod(u1 * u2sq)); // 3\n        const D1 = mod(invsqrt * u1); // 4\n        const D2 = mod(invsqrt * u2); // 5\n        const zInv = mod(D1 * D2 * T); // 6\n        let D; // 7\n        if (isNegativeLE(T * zInv, P)) {\n            let _x = mod(Y * SQRT_M1);\n            let _y = mod(X * SQRT_M1);\n            X = _x;\n            Y = _y;\n            D = mod(D1 * INVSQRT_A_MINUS_D);\n        }\n        else {\n            D = D2; // 8\n        }\n        if (isNegativeLE(X * zInv, P))\n            Y = mod(-Y); // 9\n        let s = mod((Z - Y) * D); // 10 (check footer's note, no sqrt(-a))\n        if (isNegativeLE(s, P))\n            s = mod(-s);\n        return numberToBytesLE(s, 32); // 11\n    }\n    /**\n     * Compares two Ristretto points.\n     * Described in [RFC9496](https://www.rfc-editor.org/rfc/rfc9496#name-equals).\n     */\n    equals(other) {\n        this.assertSame(other);\n        const { X: X1, Y: Y1 } = this.ep;\n        const { X: X2, Y: Y2 } = other.ep;\n        const mod = Fp.create;\n        // (x1 * y2 == y1 * x2) | (y1 * y2 == x1 * x2)\n        const one = mod(X1 * Y2) === mod(Y1 * X2);\n        const two = mod(Y1 * Y2) === mod(X1 * X2);\n        return one || two;\n    }\n    is0() {\n        return this.equals(_RistrettoPoint.ZERO);\n    }\n}\n// Do NOT change syntax: the following gymnastics is done,\n// because typescript strips comments, which makes bundlers disable tree-shaking.\n// prettier-ignore\n_RistrettoPoint.BASE = \n/* @__PURE__ */ (() => new _RistrettoPoint(ed25519.Point.BASE))();\n// prettier-ignore\n_RistrettoPoint.ZERO = \n/* @__PURE__ */ (() => new _RistrettoPoint(ed25519.Point.ZERO))();\n// prettier-ignore\n_RistrettoPoint.Fp = \n/* @__PURE__ */ Fp;\n// prettier-ignore\n_RistrettoPoint.Fn = \n/* @__PURE__ */ Fn;\n/** @deprecated use `ristretto255.Point` */\nexport const RistrettoPoint = _RistrettoPoint;\nexport const ristretto255 = { Point: _RistrettoPoint };\n/** Hashing to ristretto255 points / field. RFC 9380 methods. */\nexport const ristretto255_hasher = {\n    hashToCurve(msg, options) {\n        const DST = options?.DST || 'ristretto255_XMD:SHA-512_R255MAP_RO_';\n        return ristretto255_map(expand_message_xmd(msg, DST, 64, sha512));\n    },\n    hashToScalar(msg, options = { DST: _DST_scalar }) {\n        return Fn.create(bytesToNumberLE(expand_message_xmd(msg, options.DST, 64, sha512)));\n    },\n};\n// export const ristretto255_oprf: OPRF = createORPF({\n//   name: 'ristretto255-SHA512',\n//   Point: RistrettoPoint,\n//   hash: sha512,\n//   hashToGroup: ristretto255_hasher.hashToCurve,\n//   hashToScalar: ristretto255_hasher.hashToScalar,\n// });\n/** @deprecated use `import { ed25519_hasher } from '@noble/curves/ed25519.js';` */\nexport const hashToCurve = /* @__PURE__ */ (() => ed25519_hasher.hashToCurve)();\n/** @deprecated use `import { ed25519_hasher } from '@noble/curves/ed25519.js';` */\nexport const encodeToCurve = /* @__PURE__ */ (() => ed25519_hasher.encodeToCurve)();\n/** @deprecated use `import { ristretto255_hasher } from '@noble/curves/ed25519.js';` */\nexport const hashToRistretto255 = /* @__PURE__ */ (() => ristretto255_hasher.hashToCurve)();\n/** @deprecated use `import { ristretto255_hasher } from '@noble/curves/ed25519.js';` */\nexport const hash_to_ristretto255 = /* @__PURE__ */ (() => ristretto255_hasher.hashToCurve)();\n/**\n * Weird / bogus points, useful for debugging.\n * All 8 ed25519 points of 8-torsion subgroup can be generated from the point\n * T = `26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05`.\n * T = { O, T, 2T, 3T, 4T, 5T, 6T, 7T }\n */\nexport const ED25519_TORSION_SUBGROUP = [\n    '0100000000000000000000000000000000000000000000000000000000000000',\n    'c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a',\n    '0000000000000000000000000000000000000000000000000000000000000080',\n    '26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05',\n    'ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f',\n    '26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85',\n    '0000000000000000000000000000000000000000000000000000000000000000',\n    'c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa',\n];\n//# sourceMappingURL=ed25519.js.map","import { bcs } from \"../bcs/index.js\";\nfunction messageWithIntent(scope, message) {\n  return bcs.IntentMessage(bcs.bytes(message.length)).serialize({\n    intent: {\n      scope: { [scope]: true },\n      version: { V0: true },\n      appId: { Sui: true }\n    },\n    value: message\n  }).toBytes();\n}\nexport {\n  messageWithIntent\n};\n//# sourceMappingURL=intent.js.map\n","const SIGNATURE_SCHEME_TO_FLAG = {\n  ED25519: 0,\n  Secp256k1: 1,\n  Secp256r1: 2,\n  MultiSig: 3,\n  ZkLogin: 5,\n  Passkey: 6\n};\nconst SIGNATURE_SCHEME_TO_SIZE = {\n  ED25519: 32,\n  Secp256k1: 33,\n  Secp256r1: 33,\n  Passkey: 33\n};\nconst SIGNATURE_FLAG_TO_SCHEME = {\n  0: \"ED25519\",\n  1: \"Secp256k1\",\n  2: \"Secp256r1\",\n  3: \"MultiSig\",\n  5: \"ZkLogin\",\n  6: \"Passkey\"\n};\nexport {\n  SIGNATURE_FLAG_TO_SCHEME,\n  SIGNATURE_SCHEME_TO_FLAG,\n  SIGNATURE_SCHEME_TO_SIZE\n};\n//# sourceMappingURL=signature-scheme.js.map\n","/**\n * HMAC: RFC2104 message authentication code.\n * @module\n */\nimport { abytes, aexists, ahash, clean, Hash, toBytes } from \"./utils.js\";\nexport class HMAC extends Hash {\n    constructor(hash, _key) {\n        super();\n        this.finished = false;\n        this.destroyed = false;\n        ahash(hash);\n        const key = toBytes(_key);\n        this.iHash = hash.create();\n        if (typeof this.iHash.update !== 'function')\n            throw new Error('Expected instance of class which extends utils.Hash');\n        this.blockLen = this.iHash.blockLen;\n        this.outputLen = this.iHash.outputLen;\n        const blockLen = this.blockLen;\n        const pad = new Uint8Array(blockLen);\n        // blockLen can be bigger than outputLen\n        pad.set(key.length > blockLen ? hash.create().update(key).digest() : key);\n        for (let i = 0; i < pad.length; i++)\n            pad[i] ^= 0x36;\n        this.iHash.update(pad);\n        // By doing update (processing of first block) of outer hash here we can re-use it between multiple calls via clone\n        this.oHash = hash.create();\n        // Undo internal XOR && apply outer XOR\n        for (let i = 0; i < pad.length; i++)\n            pad[i] ^= 0x36 ^ 0x5c;\n        this.oHash.update(pad);\n        clean(pad);\n    }\n    update(buf) {\n        aexists(this);\n        this.iHash.update(buf);\n        return this;\n    }\n    digestInto(out) {\n        aexists(this);\n        abytes(out, this.outputLen);\n        this.finished = true;\n        this.iHash.digestInto(out);\n        this.oHash.update(out);\n        this.oHash.digestInto(out);\n        this.destroy();\n    }\n    digest() {\n        const out = new Uint8Array(this.oHash.outputLen);\n        this.digestInto(out);\n        return out;\n    }\n    _cloneInto(to) {\n        // Create new instance without calling constructor since key already in state and we don't know it.\n        to || (to = Object.create(Object.getPrototypeOf(this), {}));\n        const { oHash, iHash, finished, destroyed, blockLen, outputLen } = this;\n        to = to;\n        to.finished = finished;\n        to.destroyed = destroyed;\n        to.blockLen = blockLen;\n        to.outputLen = outputLen;\n        to.oHash = oHash._cloneInto(to.oHash);\n        to.iHash = iHash._cloneInto(to.iHash);\n        return to;\n    }\n    clone() {\n        return this._cloneInto();\n    }\n    destroy() {\n        this.destroyed = true;\n        this.oHash.destroy();\n        this.iHash.destroy();\n    }\n}\n/**\n * HMAC: RFC2104 message authentication code.\n * @param hash - function that would be used e.g. sha256\n * @param key - message key\n * @param message - message data\n * @example\n * import { hmac } from '@noble/hashes/hmac';\n * import { sha256 } from '@noble/hashes/sha2';\n * const mac1 = hmac(sha256, 'key', 'message');\n */\nexport const hmac = (hash, key, message) => new HMAC(hash, key).update(message).digest();\nhmac.create = (hash, key) => new HMAC(hash, key);\n//# sourceMappingURL=hmac.js.map","import { fromBase64, toBase64 } from \"@mysten/bcs\";\nimport { blake2b } from \"@noble/hashes/blake2b\";\nimport { bytesToHex } from \"@noble/hashes/utils\";\nimport { bcs } from \"../bcs/index.js\";\nimport { normalizeSuiAddress, SUI_ADDRESS_LENGTH } from \"../utils/sui-types.js\";\nimport { messageWithIntent } from \"./intent.js\";\nimport { SIGNATURE_FLAG_TO_SCHEME, SIGNATURE_SCHEME_TO_SIZE } from \"./signature-scheme.js\";\nfunction bytesEqual(a, b) {\n  if (a === b) return true;\n  if (a.length !== b.length) {\n    return false;\n  }\n  for (let i = 0; i < a.length; i++) {\n    if (a[i] !== b[i]) {\n      return false;\n    }\n  }\n  return true;\n}\nclass PublicKey {\n  /**\n   * Checks if two public keys are equal\n   */\n  equals(publicKey) {\n    return bytesEqual(this.toRawBytes(), publicKey.toRawBytes());\n  }\n  /**\n   * Return the base-64 representation of the public key\n   */\n  toBase64() {\n    return toBase64(this.toRawBytes());\n  }\n  toString() {\n    throw new Error(\n      \"`toString` is not implemented on public keys. Use `toBase64()` or `toRawBytes()` instead.\"\n    );\n  }\n  /**\n   * Return the Sui representation of the public key encoded in\n   * base-64. A Sui public key is formed by the concatenation\n   * of the scheme flag with the raw bytes of the public key\n   */\n  toSuiPublicKey() {\n    const bytes = this.toSuiBytes();\n    return toBase64(bytes);\n  }\n  verifyWithIntent(bytes, signature, intent) {\n    const intentMessage = messageWithIntent(intent, bytes);\n    const digest = blake2b(intentMessage, { dkLen: 32 });\n    return this.verify(digest, signature);\n  }\n  /**\n   * Verifies that the signature is valid for for the provided PersonalMessage\n   */\n  verifyPersonalMessage(message, signature) {\n    return this.verifyWithIntent(\n      bcs.byteVector().serialize(message).toBytes(),\n      signature,\n      \"PersonalMessage\"\n    );\n  }\n  /**\n   * Verifies that the signature is valid for for the provided Transaction\n   */\n  verifyTransaction(transaction, signature) {\n    return this.verifyWithIntent(transaction, signature, \"TransactionData\");\n  }\n  /**\n   * Verifies that the public key is associated with the provided address\n   */\n  verifyAddress(address) {\n    return this.toSuiAddress() === address;\n  }\n  /**\n   * Returns the bytes representation of the public key\n   * prefixed with the signature scheme flag\n   */\n  toSuiBytes() {\n    const rawBytes = this.toRawBytes();\n    const suiBytes = new Uint8Array(rawBytes.length + 1);\n    suiBytes.set([this.flag()]);\n    suiBytes.set(rawBytes, 1);\n    return suiBytes;\n  }\n  /**\n   * Return the Sui address associated with this Ed25519 public key\n   */\n  toSuiAddress() {\n    return normalizeSuiAddress(\n      bytesToHex(blake2b(this.toSuiBytes(), { dkLen: 32 })).slice(0, SUI_ADDRESS_LENGTH * 2)\n    );\n  }\n}\nfunction parseSerializedKeypairSignature(serializedSignature) {\n  const bytes = fromBase64(serializedSignature);\n  const signatureScheme = SIGNATURE_FLAG_TO_SCHEME[bytes[0]];\n  switch (signatureScheme) {\n    case \"ED25519\":\n    case \"Secp256k1\":\n    case \"Secp256r1\":\n      const size = SIGNATURE_SCHEME_TO_SIZE[signatureScheme];\n      const signature = bytes.slice(1, bytes.length - size);\n      const publicKey = bytes.slice(1 + signature.length);\n      return {\n        serializedSignature,\n        signatureScheme,\n        signature,\n        publicKey,\n        bytes\n      };\n    default:\n      throw new Error(\"Unsupported signature scheme\");\n  }\n}\nexport {\n  PublicKey,\n  bytesEqual,\n  parseSerializedKeypairSignature\n};\n//# sourceMappingURL=publickey.js.map\n","import { fromBase64, toBase64 } from \"@mysten/bcs\";\nimport { bcs } from \"../bcs/index.js\";\nimport { parseSerializedPasskeySignature } from \"../keypairs/passkey/publickey.js\";\nimport { parseSerializedZkLoginSignature } from \"../zklogin/publickey.js\";\nimport { parseSerializedKeypairSignature } from \"./publickey.js\";\nimport { SIGNATURE_FLAG_TO_SCHEME, SIGNATURE_SCHEME_TO_FLAG } from \"./signature-scheme.js\";\nfunction toSerializedSignature({\n  signature,\n  signatureScheme,\n  publicKey\n}) {\n  if (!publicKey) {\n    throw new Error(\"`publicKey` is required\");\n  }\n  const pubKeyBytes = publicKey.toRawBytes();\n  const serializedSignature = new Uint8Array(1 + signature.length + pubKeyBytes.length);\n  serializedSignature.set([SIGNATURE_SCHEME_TO_FLAG[signatureScheme]]);\n  serializedSignature.set(signature, 1);\n  serializedSignature.set(pubKeyBytes, 1 + signature.length);\n  return toBase64(serializedSignature);\n}\nfunction parseSerializedSignature(serializedSignature) {\n  const bytes = fromBase64(serializedSignature);\n  const signatureScheme = SIGNATURE_FLAG_TO_SCHEME[bytes[0]];\n  switch (signatureScheme) {\n    case \"Passkey\":\n      return parseSerializedPasskeySignature(serializedSignature);\n    case \"MultiSig\":\n      const multisig = bcs.MultiSig.parse(bytes.slice(1));\n      return {\n        serializedSignature,\n        signatureScheme,\n        multisig,\n        bytes,\n        signature: void 0\n      };\n    case \"ZkLogin\":\n      return parseSerializedZkLoginSignature(serializedSignature);\n    case \"ED25519\":\n    case \"Secp256k1\":\n    case \"Secp256r1\":\n      return parseSerializedKeypairSignature(serializedSignature);\n    default:\n      throw new Error(\"Unsupported signature scheme\");\n  }\n}\nexport {\n  parseSerializedSignature,\n  toSerializedSignature\n};\n//# sourceMappingURL=signature.js.map\n","import { bcs, toBase64 } from \"@mysten/bcs\";\nimport { blake2b } from \"@noble/hashes/blake2b\";\nimport { bech32 } from \"@scure/base\";\nimport { messageWithIntent } from \"./intent.js\";\nimport { SIGNATURE_FLAG_TO_SCHEME, SIGNATURE_SCHEME_TO_FLAG } from \"./signature-scheme.js\";\nimport { toSerializedSignature } from \"./signature.js\";\nconst PRIVATE_KEY_SIZE = 32;\nconst LEGACY_PRIVATE_KEY_SIZE = 64;\nconst SUI_PRIVATE_KEY_PREFIX = \"suiprivkey\";\nclass Signer {\n  /**\n   * Sign messages with a specific intent. By combining the message bytes with the intent before hashing and signing,\n   * it ensures that a signed message is tied to a specific purpose and domain separator is provided\n   */\n  async signWithIntent(bytes, intent) {\n    const intentMessage = messageWithIntent(intent, bytes);\n    const digest = blake2b(intentMessage, { dkLen: 32 });\n    const signature = toSerializedSignature({\n      signature: await this.sign(digest),\n      signatureScheme: this.getKeyScheme(),\n      publicKey: this.getPublicKey()\n    });\n    return {\n      signature,\n      bytes: toBase64(bytes)\n    };\n  }\n  /**\n   * Signs provided transaction by calling `signWithIntent()` with a `TransactionData` provided as intent scope\n   */\n  async signTransaction(bytes) {\n    return this.signWithIntent(bytes, \"TransactionData\");\n  }\n  /**\n   * Signs provided personal message by calling `signWithIntent()` with a `PersonalMessage` provided as intent scope\n   */\n  async signPersonalMessage(bytes) {\n    const { signature } = await this.signWithIntent(\n      bcs.byteVector().serialize(bytes).toBytes(),\n      \"PersonalMessage\"\n    );\n    return {\n      bytes: toBase64(bytes),\n      signature\n    };\n  }\n  async signAndExecuteTransaction({\n    transaction,\n    client\n  }) {\n    const bytes = await transaction.build({ client });\n    const { signature } = await this.signTransaction(bytes);\n    const response = await client.core.executeTransaction({\n      transaction: bytes,\n      signatures: [signature]\n    });\n    return response.transaction;\n  }\n  toSuiAddress() {\n    return this.getPublicKey().toSuiAddress();\n  }\n}\nclass Keypair extends Signer {\n}\nfunction decodeSuiPrivateKey(value) {\n  const { prefix, words } = bech32.decode(value);\n  if (prefix !== SUI_PRIVATE_KEY_PREFIX) {\n    throw new Error(\"invalid private key prefix\");\n  }\n  const extendedSecretKey = new Uint8Array(bech32.fromWords(words));\n  const secretKey = extendedSecretKey.slice(1);\n  const signatureScheme = SIGNATURE_FLAG_TO_SCHEME[extendedSecretKey[0]];\n  return {\n    scheme: signatureScheme,\n    schema: signatureScheme,\n    secretKey\n  };\n}\nfunction encodeSuiPrivateKey(bytes, scheme) {\n  if (bytes.length !== PRIVATE_KEY_SIZE) {\n    throw new Error(\"Invalid bytes length\");\n  }\n  const flag = SIGNATURE_SCHEME_TO_FLAG[scheme];\n  const privKeyBytes = new Uint8Array(bytes.length + 1);\n  privKeyBytes.set([flag]);\n  privKeyBytes.set(bytes, 1);\n  return bech32.encode(SUI_PRIVATE_KEY_PREFIX, bech32.toWords(privKeyBytes));\n}\nexport {\n  Keypair,\n  LEGACY_PRIVATE_KEY_SIZE,\n  PRIVATE_KEY_SIZE,\n  SUI_PRIVATE_KEY_PREFIX,\n  Signer,\n  decodeSuiPrivateKey,\n  encodeSuiPrivateKey\n};\n//# sourceMappingURL=keypair.js.map\n","/**\n * PBKDF (RFC 2898). Can be used to create a key from password and salt.\n * @module\n */\nimport { hmac } from \"./hmac.js\";\n// prettier-ignore\nimport { ahash, anumber, asyncLoop, checkOpts, clean, createView, Hash, kdfInputToBytes } from \"./utils.js\";\n// Common prologue and epilogue for sync/async functions\nfunction pbkdf2Init(hash, _password, _salt, _opts) {\n    ahash(hash);\n    const opts = checkOpts({ dkLen: 32, asyncTick: 10 }, _opts);\n    const { c, dkLen, asyncTick } = opts;\n    anumber(c);\n    anumber(dkLen);\n    anumber(asyncTick);\n    if (c < 1)\n        throw new Error('iterations (c) should be >= 1');\n    const password = kdfInputToBytes(_password);\n    const salt = kdfInputToBytes(_salt);\n    // DK = PBKDF2(PRF, Password, Salt, c, dkLen);\n    const DK = new Uint8Array(dkLen);\n    // U1 = PRF(Password, Salt + INT_32_BE(i))\n    const PRF = hmac.create(hash, password);\n    const PRFSalt = PRF._cloneInto().update(salt);\n    return { c, dkLen, asyncTick, DK, PRF, PRFSalt };\n}\nfunction pbkdf2Output(PRF, PRFSalt, DK, prfW, u) {\n    PRF.destroy();\n    PRFSalt.destroy();\n    if (prfW)\n        prfW.destroy();\n    clean(u);\n    return DK;\n}\n/**\n * PBKDF2-HMAC: RFC 2898 key derivation function\n * @param hash - hash function that would be used e.g. sha256\n * @param password - password from which a derived key is generated\n * @param salt - cryptographic salt\n * @param opts - {c, dkLen} where c is work factor and dkLen is output message size\n * @example\n * const key = pbkdf2(sha256, 'password', 'salt', { dkLen: 32, c: Math.pow(2, 18) });\n */\nexport function pbkdf2(hash, password, salt, opts) {\n    const { c, dkLen, DK, PRF, PRFSalt } = pbkdf2Init(hash, password, salt, opts);\n    let prfW; // Working copy\n    const arr = new Uint8Array(4);\n    const view = createView(arr);\n    const u = new Uint8Array(PRF.outputLen);\n    // DK = T1 + T2 +  + Tdklen/hlen\n    for (let ti = 1, pos = 0; pos < dkLen; ti++, pos += PRF.outputLen) {\n        // Ti = F(Password, Salt, c, i)\n        const Ti = DK.subarray(pos, pos + PRF.outputLen);\n        view.setInt32(0, ti, false);\n        // F(Password, Salt, c, i) = U1 ^ U2 ^  ^ Uc\n        // U1 = PRF(Password, Salt + INT_32_BE(i))\n        (prfW = PRFSalt._cloneInto(prfW)).update(arr).digestInto(u);\n        Ti.set(u.subarray(0, Ti.length));\n        for (let ui = 1; ui < c; ui++) {\n            // Uc = PRF(Password, Uc1)\n            PRF._cloneInto(prfW).update(u).digestInto(u);\n            for (let i = 0; i < Ti.length; i++)\n                Ti[i] ^= u[i];\n        }\n    }\n    return pbkdf2Output(PRF, PRFSalt, DK, prfW, u);\n}\n/**\n * PBKDF2-HMAC: RFC 2898 key derivation function. Async version.\n * @example\n * await pbkdf2Async(sha256, 'password', 'salt', { dkLen: 32, c: 500_000 });\n */\nexport async function pbkdf2Async(hash, password, salt, opts) {\n    const { c, dkLen, asyncTick, DK, PRF, PRFSalt } = pbkdf2Init(hash, password, salt, opts);\n    let prfW; // Working copy\n    const arr = new Uint8Array(4);\n    const view = createView(arr);\n    const u = new Uint8Array(PRF.outputLen);\n    // DK = T1 + T2 +  + Tdklen/hlen\n    for (let ti = 1, pos = 0; pos < dkLen; ti++, pos += PRF.outputLen) {\n        // Ti = F(Password, Salt, c, i)\n        const Ti = DK.subarray(pos, pos + PRF.outputLen);\n        view.setInt32(0, ti, false);\n        // F(Password, Salt, c, i) = U1 ^ U2 ^  ^ Uc\n        // U1 = PRF(Password, Salt + INT_32_BE(i))\n        (prfW = PRFSalt._cloneInto(prfW)).update(arr).digestInto(u);\n        Ti.set(u.subarray(0, Ti.length));\n        await asyncLoop(c - 1, asyncTick, () => {\n            // Uc = PRF(Password, Uc1)\n            PRF._cloneInto(prfW).update(u).digestInto(u);\n            for (let i = 0; i < Ti.length; i++)\n                Ti[i] ^= u[i];\n        });\n    }\n    return pbkdf2Output(PRF, PRFSalt, DK, prfW, u);\n}\n//# sourceMappingURL=pbkdf2.js.map","/**\n * Audited & minimal JS implementation of\n * [BIP39 mnemonic phrases](https://github.com/bitcoin/bips/blob/master/bip-0039.mediawiki).\n * @module\n * @example\n```js\nimport * as bip39 from '@scure/bip39';\nimport { wordlist } from '@scure/bip39/wordlists/english';\nconst mn = bip39.generateMnemonic(wordlist);\nconsole.log(mn);\nconst ent = bip39.mnemonicToEntropy(mn, wordlist)\nbip39.entropyToMnemonic(ent, wordlist);\nbip39.validateMnemonic(mn, wordlist);\nawait bip39.mnemonicToSeed(mn, 'password');\nbip39.mnemonicToSeedSync(mn, 'password');\n\n// Wordlists\nimport { wordlist as czech } from '@scure/bip39/wordlists/czech';\nimport { wordlist as english } from '@scure/bip39/wordlists/english';\nimport { wordlist as french } from '@scure/bip39/wordlists/french';\nimport { wordlist as italian } from '@scure/bip39/wordlists/italian';\nimport { wordlist as japanese } from '@scure/bip39/wordlists/japanese';\nimport { wordlist as korean } from '@scure/bip39/wordlists/korean';\nimport { wordlist as portuguese } from '@scure/bip39/wordlists/portuguese';\nimport { wordlist as simplifiedChinese } from '@scure/bip39/wordlists/simplified-chinese';\nimport { wordlist as spanish } from '@scure/bip39/wordlists/spanish';\nimport { wordlist as traditionalChinese } from '@scure/bip39/wordlists/traditional-chinese';\n```\n */\n/*! scure-bip39 - MIT License (c) 2022 Patricio Palladino, Paul Miller (paulmillr.com) */\nimport { pbkdf2, pbkdf2Async } from '@noble/hashes/pbkdf2';\nimport { sha256, sha512 } from '@noble/hashes/sha2';\nimport { abytes, anumber, randomBytes } from '@noble/hashes/utils';\nimport { utils as baseUtils } from '@scure/base';\n// Japanese wordlist\nconst isJapanese = (wordlist) => wordlist[0] === '\\u3042\\u3044\\u3053\\u304f\\u3057\\u3093';\n// Normalization replaces equivalent sequences of characters\n// so that any two texts that are equivalent will be reduced\n// to the same sequence of code points, called the normal form of the original text.\n// https://tonsky.me/blog/unicode/#why-is-a----\nfunction nfkd(str) {\n    if (typeof str !== 'string')\n        throw new TypeError('invalid mnemonic type: ' + typeof str);\n    return str.normalize('NFKD');\n}\nfunction normalize(str) {\n    const norm = nfkd(str);\n    const words = norm.split(' ');\n    if (![12, 15, 18, 21, 24].includes(words.length))\n        throw new Error('Invalid mnemonic');\n    return { nfkd: norm, words };\n}\nfunction aentropy(ent) {\n    abytes(ent, 16, 20, 24, 28, 32);\n}\n/**\n * Generate x random words. Uses Cryptographically-Secure Random Number Generator.\n * @param wordlist imported wordlist for specific language\n * @param strength mnemonic strength 128-256 bits\n * @example\n * generateMnemonic(wordlist, 128)\n * // 'legal winner thank year wave sausage worth useful legal winner thank yellow'\n */\nexport function generateMnemonic(wordlist, strength = 128) {\n    anumber(strength);\n    if (strength % 32 !== 0 || strength > 256)\n        throw new TypeError('Invalid entropy');\n    return entropyToMnemonic(randomBytes(strength / 8), wordlist);\n}\nconst calcChecksum = (entropy) => {\n    // Checksum is ent.length/4 bits long\n    const bitsLeft = 8 - entropy.length / 4;\n    // Zero rightmost \"bitsLeft\" bits in byte\n    // For example: bitsLeft=4 val=10111101 -> 10110000\n    return new Uint8Array([(sha256(entropy)[0] >> bitsLeft) << bitsLeft]);\n};\nfunction getCoder(wordlist) {\n    if (!Array.isArray(wordlist) || wordlist.length !== 2048 || typeof wordlist[0] !== 'string')\n        throw new Error('Wordlist: expected array of 2048 strings');\n    wordlist.forEach((i) => {\n        if (typeof i !== 'string')\n            throw new Error('wordlist: non-string element: ' + i);\n    });\n    return baseUtils.chain(baseUtils.checksum(1, calcChecksum), baseUtils.radix2(11, true), baseUtils.alphabet(wordlist));\n}\n/**\n * Reversible: Converts mnemonic string to raw entropy in form of byte array.\n * @param mnemonic 12-24 words\n * @param wordlist imported wordlist for specific language\n * @example\n * const mnem = 'legal winner thank year wave sausage worth useful legal winner thank yellow';\n * mnemonicToEntropy(mnem, wordlist)\n * // Produces\n * new Uint8Array([\n *   0x7f, 0x7f, 0x7f, 0x7f, 0x7f, 0x7f, 0x7f, 0x7f,\n *   0x7f, 0x7f, 0x7f, 0x7f, 0x7f, 0x7f, 0x7f, 0x7f\n * ])\n */\nexport function mnemonicToEntropy(mnemonic, wordlist) {\n    const { words } = normalize(mnemonic);\n    const entropy = getCoder(wordlist).decode(words);\n    aentropy(entropy);\n    return entropy;\n}\n/**\n * Reversible: Converts raw entropy in form of byte array to mnemonic string.\n * @param entropy byte array\n * @param wordlist imported wordlist for specific language\n * @returns 12-24 words\n * @example\n * const ent = new Uint8Array([\n *   0x7f, 0x7f, 0x7f, 0x7f, 0x7f, 0x7f, 0x7f, 0x7f,\n *   0x7f, 0x7f, 0x7f, 0x7f, 0x7f, 0x7f, 0x7f, 0x7f\n * ]);\n * entropyToMnemonic(ent, wordlist);\n * // 'legal winner thank year wave sausage worth useful legal winner thank yellow'\n */\nexport function entropyToMnemonic(entropy, wordlist) {\n    aentropy(entropy);\n    const words = getCoder(wordlist).encode(entropy);\n    return words.join(isJapanese(wordlist) ? '\\u3000' : ' ');\n}\n/**\n * Validates mnemonic for being 12-24 words contained in `wordlist`.\n */\nexport function validateMnemonic(mnemonic, wordlist) {\n    try {\n        mnemonicToEntropy(mnemonic, wordlist);\n    }\n    catch (e) {\n        return false;\n    }\n    return true;\n}\nconst psalt = (passphrase) => nfkd('mnemonic' + passphrase);\n/**\n * Irreversible: Uses KDF to derive 64 bytes of key data from mnemonic + optional password.\n * @param mnemonic 12-24 words\n * @param passphrase string that will additionally protect the key\n * @returns 64 bytes of key data\n * @example\n * const mnem = 'legal winner thank year wave sausage worth useful legal winner thank yellow';\n * await mnemonicToSeed(mnem, 'password');\n * // new Uint8Array([...64 bytes])\n */\nexport function mnemonicToSeed(mnemonic, passphrase = '') {\n    return pbkdf2Async(sha512, normalize(mnemonic).nfkd, psalt(passphrase), { c: 2048, dkLen: 64 });\n}\n/**\n * Irreversible: Uses KDF to derive 64 bytes of key data from mnemonic + optional password.\n * @param mnemonic 12-24 words\n * @param passphrase string that will additionally protect the key\n * @returns 64 bytes of key data\n * @example\n * const mnem = 'legal winner thank year wave sausage worth useful legal winner thank yellow';\n * mnemonicToSeedSync(mnem, 'password');\n * // new Uint8Array([...64 bytes])\n */\nexport function mnemonicToSeedSync(mnemonic, passphrase = '') {\n    return pbkdf2(sha512, normalize(mnemonic).nfkd, psalt(passphrase), { c: 2048, dkLen: 64 });\n}\n","import { toHex } from \"@mysten/bcs\";\nimport { mnemonicToSeedSync as bip39MnemonicToSeedSync } from \"@scure/bip39\";\nfunction isValidHardenedPath(path) {\n  if (!new RegExp(\"^m\\\\/44'\\\\/784'\\\\/[0-9]+'\\\\/[0-9]+'\\\\/[0-9]+'+$\").test(path)) {\n    return false;\n  }\n  return true;\n}\nfunction isValidBIP32Path(path) {\n  if (!new RegExp(\"^m\\\\/(54|74)'\\\\/784'\\\\/[0-9]+'\\\\/[0-9]+\\\\/[0-9]+$\").test(path)) {\n    return false;\n  }\n  return true;\n}\nfunction mnemonicToSeed(mnemonics) {\n  return bip39MnemonicToSeedSync(mnemonics, \"\");\n}\nfunction mnemonicToSeedHex(mnemonics) {\n  return toHex(mnemonicToSeed(mnemonics));\n}\nexport {\n  isValidBIP32Path,\n  isValidHardenedPath,\n  mnemonicToSeed,\n  mnemonicToSeedHex\n};\n//# sourceMappingURL=mnemonics.js.map\n","/**\n * SHA2-512 a.k.a. sha512 and sha384. It is slower than sha256 in js because u64 operations are slow.\n *\n * Check out [RFC 4634](https://datatracker.ietf.org/doc/html/rfc4634) and\n * [the paper on truncated SHA512/256](https://eprint.iacr.org/2010/548.pdf).\n * @module\n * @deprecated\n */\nimport { SHA384 as SHA384n, sha384 as sha384n, sha512_224 as sha512_224n, SHA512_224 as SHA512_224n, sha512_256 as sha512_256n, SHA512_256 as SHA512_256n, SHA512 as SHA512n, sha512 as sha512n, } from \"./sha2.js\";\n/** @deprecated Use import from `noble/hashes/sha2` module */\nexport const SHA512 = SHA512n;\n/** @deprecated Use import from `noble/hashes/sha2` module */\nexport const sha512 = sha512n;\n/** @deprecated Use import from `noble/hashes/sha2` module */\nexport const SHA384 = SHA384n;\n/** @deprecated Use import from `noble/hashes/sha2` module */\nexport const sha384 = sha384n;\n/** @deprecated Use import from `noble/hashes/sha2` module */\nexport const SHA512_224 = SHA512_224n;\n/** @deprecated Use import from `noble/hashes/sha2` module */\nexport const sha512_224 = sha512_224n;\n/** @deprecated Use import from `noble/hashes/sha2` module */\nexport const SHA512_256 = SHA512_256n;\n/** @deprecated Use import from `noble/hashes/sha2` module */\nexport const sha512_256 = sha512_256n;\n//# sourceMappingURL=sha512.js.map","import { fromHex } from \"@mysten/bcs\";\nimport { hmac } from \"@noble/hashes/hmac\";\nimport { sha512 } from \"@noble/hashes/sha512\";\nconst ED25519_CURVE = \"ed25519 seed\";\nconst HARDENED_OFFSET = 2147483648;\nconst pathRegex = new RegExp(\"^m(\\\\/[0-9]+')+$\");\nconst replaceDerive = (val) => val.replace(\"'\", \"\");\nconst getMasterKeyFromSeed = (seed) => {\n  const h = hmac.create(sha512, ED25519_CURVE);\n  const I = h.update(fromHex(seed)).digest();\n  const IL = I.slice(0, 32);\n  const IR = I.slice(32);\n  return {\n    key: IL,\n    chainCode: IR\n  };\n};\nconst CKDPriv = ({ key, chainCode }, index) => {\n  const indexBuffer = new ArrayBuffer(4);\n  const cv = new DataView(indexBuffer);\n  cv.setUint32(0, index);\n  const data = new Uint8Array(1 + key.length + indexBuffer.byteLength);\n  data.set(new Uint8Array(1).fill(0));\n  data.set(key, 1);\n  data.set(new Uint8Array(indexBuffer, 0, indexBuffer.byteLength), key.length + 1);\n  const I = hmac.create(sha512, chainCode).update(data).digest();\n  const IL = I.slice(0, 32);\n  const IR = I.slice(32);\n  return {\n    key: IL,\n    chainCode: IR\n  };\n};\nconst isValidPath = (path) => {\n  if (!pathRegex.test(path)) {\n    return false;\n  }\n  return !path.split(\"/\").slice(1).map(replaceDerive).some(\n    isNaN\n    /* ts T_T*/\n  );\n};\nconst derivePath = (path, seed, offset = HARDENED_OFFSET) => {\n  if (!isValidPath(path)) {\n    throw new Error(\"Invalid derivation path\");\n  }\n  const { key, chainCode } = getMasterKeyFromSeed(seed);\n  const segments = path.split(\"/\").slice(1).map(replaceDerive).map((el) => parseInt(el, 10));\n  return segments.reduce((parentKeys, segment) => CKDPriv(parentKeys, segment + offset), {\n    key,\n    chainCode\n  });\n};\nexport {\n  derivePath\n};\n//# sourceMappingURL=ed25519-hd-key.js.map\n","import { fromBase64 } from \"@mysten/bcs\";\nimport { ed25519 } from \"@noble/curves/ed25519\";\nimport {\n  bytesEqual,\n  parseSerializedKeypairSignature,\n  PublicKey\n} from \"../../cryptography/publickey.js\";\nimport { SIGNATURE_SCHEME_TO_FLAG } from \"../../cryptography/signature-scheme.js\";\nconst PUBLIC_KEY_SIZE = 32;\nclass Ed25519PublicKey extends PublicKey {\n  /**\n   * Create a new Ed25519PublicKey object\n   * @param value ed25519 public key as buffer or base-64 encoded string\n   */\n  constructor(value) {\n    super();\n    if (typeof value === \"string\") {\n      this.data = fromBase64(value);\n    } else if (value instanceof Uint8Array) {\n      this.data = value;\n    } else {\n      this.data = Uint8Array.from(value);\n    }\n    if (this.data.length !== PUBLIC_KEY_SIZE) {\n      throw new Error(\n        `Invalid public key input. Expected ${PUBLIC_KEY_SIZE} bytes, got ${this.data.length}`\n      );\n    }\n  }\n  /**\n   * Checks if two Ed25519 public keys are equal\n   */\n  equals(publicKey) {\n    return super.equals(publicKey);\n  }\n  /**\n   * Return the byte array representation of the Ed25519 public key\n   */\n  toRawBytes() {\n    return this.data;\n  }\n  /**\n   * Return the Sui address associated with this Ed25519 public key\n   */\n  flag() {\n    return SIGNATURE_SCHEME_TO_FLAG[\"ED25519\"];\n  }\n  /**\n   * Verifies that the signature is valid for for the provided message\n   */\n  async verify(message, signature) {\n    let bytes;\n    if (typeof signature === \"string\") {\n      const parsed = parseSerializedKeypairSignature(signature);\n      if (parsed.signatureScheme !== \"ED25519\") {\n        throw new Error(\"Invalid signature scheme\");\n      }\n      if (!bytesEqual(this.toRawBytes(), parsed.publicKey)) {\n        throw new Error(\"Signature does not match public key\");\n      }\n      bytes = parsed.signature;\n    } else {\n      bytes = signature;\n    }\n    return ed25519.verify(bytes, message, this.toRawBytes());\n  }\n}\nEd25519PublicKey.SIZE = PUBLIC_KEY_SIZE;\nexport {\n  Ed25519PublicKey\n};\n//# sourceMappingURL=publickey.js.map\n","import { ed25519 } from \"@noble/curves/ed25519\";\nimport {\n  decodeSuiPrivateKey,\n  encodeSuiPrivateKey,\n  Keypair,\n  PRIVATE_KEY_SIZE\n} from \"../../cryptography/keypair.js\";\nimport { isValidHardenedPath, mnemonicToSeedHex } from \"../../cryptography/mnemonics.js\";\nimport { derivePath } from \"./ed25519-hd-key.js\";\nimport { Ed25519PublicKey } from \"./publickey.js\";\nconst DEFAULT_ED25519_DERIVATION_PATH = \"m/44'/784'/0'/0'/0'\";\nclass Ed25519Keypair extends Keypair {\n  /**\n   * Create a new Ed25519 keypair instance.\n   * Generate random keypair if no {@link Ed25519Keypair} is provided.\n   *\n   * @param keypair Ed25519 keypair\n   */\n  constructor(keypair) {\n    super();\n    if (keypair) {\n      this.keypair = {\n        publicKey: keypair.publicKey,\n        secretKey: keypair.secretKey.slice(0, 32)\n      };\n    } else {\n      const privateKey = ed25519.utils.randomPrivateKey();\n      this.keypair = {\n        publicKey: ed25519.getPublicKey(privateKey),\n        secretKey: privateKey\n      };\n    }\n  }\n  /**\n   * Get the key scheme of the keypair ED25519\n   */\n  getKeyScheme() {\n    return \"ED25519\";\n  }\n  /**\n   * Generate a new random Ed25519 keypair\n   */\n  static generate() {\n    const secretKey = ed25519.utils.randomPrivateKey();\n    return new Ed25519Keypair({\n      publicKey: ed25519.getPublicKey(secretKey),\n      secretKey\n    });\n  }\n  /**\n   * Create a Ed25519 keypair from a raw secret key byte array, also known as seed.\n   * This is NOT the private scalar which is result of hashing and bit clamping of\n   * the raw secret key.\n   *\n   * @throws error if the provided secret key is invalid and validation is not skipped.\n   *\n   * @param secretKey secret key as a byte array or Bech32 secret key string\n   * @param options: skip secret key validation\n   */\n  static fromSecretKey(secretKey, options) {\n    if (typeof secretKey === \"string\") {\n      const decoded = decodeSuiPrivateKey(secretKey);\n      if (decoded.schema !== \"ED25519\") {\n        throw new Error(`Expected a ED25519 keypair, got ${decoded.schema}`);\n      }\n      return this.fromSecretKey(decoded.secretKey, options);\n    }\n    const secretKeyLength = secretKey.length;\n    if (secretKeyLength !== PRIVATE_KEY_SIZE) {\n      throw new Error(\n        `Wrong secretKey size. Expected ${PRIVATE_KEY_SIZE} bytes, got ${secretKeyLength}.`\n      );\n    }\n    const keypair = {\n      publicKey: ed25519.getPublicKey(secretKey),\n      secretKey\n    };\n    if (!options || !options.skipValidation) {\n      const encoder = new TextEncoder();\n      const signData = encoder.encode(\"sui validation\");\n      const signature = ed25519.sign(signData, secretKey);\n      if (!ed25519.verify(signature, signData, keypair.publicKey)) {\n        throw new Error(\"provided secretKey is invalid\");\n      }\n    }\n    return new Ed25519Keypair(keypair);\n  }\n  /**\n   * The public key for this Ed25519 keypair\n   */\n  getPublicKey() {\n    return new Ed25519PublicKey(this.keypair.publicKey);\n  }\n  /**\n   * The Bech32 secret key string for this Ed25519 keypair\n   */\n  getSecretKey() {\n    return encodeSuiPrivateKey(\n      this.keypair.secretKey.slice(0, PRIVATE_KEY_SIZE),\n      this.getKeyScheme()\n    );\n  }\n  /**\n   * Return the signature for the provided data using Ed25519.\n   */\n  async sign(data) {\n    return ed25519.sign(data, this.keypair.secretKey);\n  }\n  /**\n   * Derive Ed25519 keypair from mnemonics and path. The mnemonics must be normalized\n   * and validated against the english wordlist.\n   *\n   * If path is none, it will default to m/44'/784'/0'/0'/0', otherwise the path must\n   * be compliant to SLIP-0010 in form m/44'/784'/{account_index}'/{change_index}'/{address_index}'.\n   */\n  static deriveKeypair(mnemonics, path) {\n    if (path == null) {\n      path = DEFAULT_ED25519_DERIVATION_PATH;\n    }\n    if (!isValidHardenedPath(path)) {\n      throw new Error(\"Invalid derivation path\");\n    }\n    const { key } = derivePath(path, mnemonicToSeedHex(mnemonics));\n    return Ed25519Keypair.fromSecretKey(key);\n  }\n  /**\n   * Derive Ed25519 keypair from mnemonicSeed and path.\n   *\n   * If path is none, it will default to m/44'/784'/0'/0'/0', otherwise the path must\n   * be compliant to SLIP-0010 in form m/44'/784'/{account_index}'/{change_index}'/{address_index}'.\n   */\n  static deriveKeypairFromSeed(seedHex, path) {\n    if (path == null) {\n      path = DEFAULT_ED25519_DERIVATION_PATH;\n    }\n    if (!isValidHardenedPath(path)) {\n      throw new Error(\"Invalid derivation path\");\n    }\n    const { key } = derivePath(path, seedHex);\n    return Ed25519Keypair.fromSecretKey(key);\n  }\n}\nexport {\n  DEFAULT_ED25519_DERIVATION_PATH,\n  Ed25519Keypair\n};\n//# sourceMappingURL=keypair.js.map\n","const reduxImpl = (reducer, initial) => (set, _get, api) => {\n  api.dispatch = (action) => {\n    set((state) => reducer(state, action), false, action);\n    return action;\n  };\n  api.dispatchFromDevtools = true;\n  return { dispatch: (...a) => api.dispatch(...a), ...initial };\n};\nconst redux = reduxImpl;\n\nconst trackedConnections = /* @__PURE__ */ new Map();\nconst getTrackedConnectionState = (name) => {\n  const api = trackedConnections.get(name);\n  if (!api) return {};\n  return Object.fromEntries(\n    Object.entries(api.stores).map(([key, api2]) => [key, api2.getState()])\n  );\n};\nconst extractConnectionInformation = (store, extensionConnector, options) => {\n  if (store === void 0) {\n    return {\n      type: \"untracked\",\n      connection: extensionConnector.connect(options)\n    };\n  }\n  const existingConnection = trackedConnections.get(options.name);\n  if (existingConnection) {\n    return { type: \"tracked\", store, ...existingConnection };\n  }\n  const newConnection = {\n    connection: extensionConnector.connect(options),\n    stores: {}\n  };\n  trackedConnections.set(options.name, newConnection);\n  return { type: \"tracked\", store, ...newConnection };\n};\nconst devtoolsImpl = (fn, devtoolsOptions = {}) => (set, get, api) => {\n  const { enabled, anonymousActionType, store, ...options } = devtoolsOptions;\n  let extensionConnector;\n  try {\n    extensionConnector = (enabled != null ? enabled : (import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") && window.__REDUX_DEVTOOLS_EXTENSION__;\n  } catch (_e) {\n  }\n  if (!extensionConnector) {\n    if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && enabled) {\n      console.warn(\n        \"[zustand devtools middleware] Please install/enable Redux devtools extension\"\n      );\n    }\n    return fn(set, get, api);\n  }\n  const { connection, ...connectionInformation } = extractConnectionInformation(store, extensionConnector, options);\n  let isRecording = true;\n  api.setState = (state, replace, nameOrAction) => {\n    const r = set(state, replace);\n    if (!isRecording) return r;\n    const action = nameOrAction === void 0 ? { type: anonymousActionType || \"anonymous\" } : typeof nameOrAction === \"string\" ? { type: nameOrAction } : nameOrAction;\n    if (store === void 0) {\n      connection == null ? void 0 : connection.send(action, get());\n      return r;\n    }\n    connection == null ? void 0 : connection.send(\n      {\n        ...action,\n        type: `${store}/${action.type}`\n      },\n      {\n        ...getTrackedConnectionState(options.name),\n        [store]: api.getState()\n      }\n    );\n    return r;\n  };\n  const setStateFromDevtools = (...a) => {\n    const originalIsRecording = isRecording;\n    isRecording = false;\n    set(...a);\n    isRecording = originalIsRecording;\n  };\n  const initialState = fn(api.setState, get, api);\n  if (connectionInformation.type === \"untracked\") {\n    connection == null ? void 0 : connection.init(initialState);\n  } else {\n    connectionInformation.stores[connectionInformation.store] = api;\n    connection == null ? void 0 : connection.init(\n      Object.fromEntries(\n        Object.entries(connectionInformation.stores).map(([key, store2]) => [\n          key,\n          key === connectionInformation.store ? initialState : store2.getState()\n        ])\n      )\n    );\n  }\n  if (api.dispatchFromDevtools && typeof api.dispatch === \"function\") {\n    let didWarnAboutReservedActionType = false;\n    const originalDispatch = api.dispatch;\n    api.dispatch = (...a) => {\n      if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && a[0].type === \"__setState\" && !didWarnAboutReservedActionType) {\n        console.warn(\n          '[zustand devtools middleware] \"__setState\" action type is reserved to set state from the devtools. Avoid using it.'\n        );\n        didWarnAboutReservedActionType = true;\n      }\n      originalDispatch(...a);\n    };\n  }\n  connection.subscribe((message) => {\n    var _a;\n    switch (message.type) {\n      case \"ACTION\":\n        if (typeof message.payload !== \"string\") {\n          console.error(\n            \"[zustand devtools middleware] Unsupported action format\"\n          );\n          return;\n        }\n        return parseJsonThen(\n          message.payload,\n          (action) => {\n            if (action.type === \"__setState\") {\n              if (store === void 0) {\n                setStateFromDevtools(action.state);\n                return;\n              }\n              if (Object.keys(action.state).length !== 1) {\n                console.error(\n                  `\n                    [zustand devtools middleware] Unsupported __setState action format. \n                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),\n                    and value of this only key should be a state object. Example: { \"type\": \"__setState\", \"state\": { \"abc123Store\": { \"foo\": \"bar\" } } }\n                    `\n                );\n              }\n              const stateFromDevtools = action.state[store];\n              if (stateFromDevtools === void 0 || stateFromDevtools === null) {\n                return;\n              }\n              if (JSON.stringify(api.getState()) !== JSON.stringify(stateFromDevtools)) {\n                setStateFromDevtools(stateFromDevtools);\n              }\n              return;\n            }\n            if (!api.dispatchFromDevtools) return;\n            if (typeof api.dispatch !== \"function\") return;\n            api.dispatch(action);\n          }\n        );\n      case \"DISPATCH\":\n        switch (message.payload.type) {\n          case \"RESET\":\n            setStateFromDevtools(initialState);\n            if (store === void 0) {\n              return connection == null ? void 0 : connection.init(api.getState());\n            }\n            return connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n          case \"COMMIT\":\n            if (store === void 0) {\n              connection == null ? void 0 : connection.init(api.getState());\n              return;\n            }\n            return connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n          case \"ROLLBACK\":\n            return parseJsonThen(message.state, (state) => {\n              if (store === void 0) {\n                setStateFromDevtools(state);\n                connection == null ? void 0 : connection.init(api.getState());\n                return;\n              }\n              setStateFromDevtools(state[store]);\n              connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n            });\n          case \"JUMP_TO_STATE\":\n          case \"JUMP_TO_ACTION\":\n            return parseJsonThen(message.state, (state) => {\n              if (store === void 0) {\n                setStateFromDevtools(state);\n                return;\n              }\n              if (JSON.stringify(api.getState()) !== JSON.stringify(state[store])) {\n                setStateFromDevtools(state[store]);\n              }\n            });\n          case \"IMPORT_STATE\": {\n            const { nextLiftedState } = message.payload;\n            const lastComputedState = (_a = nextLiftedState.computedStates.slice(-1)[0]) == null ? void 0 : _a.state;\n            if (!lastComputedState) return;\n            if (store === void 0) {\n              setStateFromDevtools(lastComputedState);\n            } else {\n              setStateFromDevtools(lastComputedState[store]);\n            }\n            connection == null ? void 0 : connection.send(\n              null,\n              // FIXME no-any\n              nextLiftedState\n            );\n            return;\n          }\n          case \"PAUSE_RECORDING\":\n            return isRecording = !isRecording;\n        }\n        return;\n    }\n  });\n  return initialState;\n};\nconst devtools = devtoolsImpl;\nconst parseJsonThen = (stringified, f) => {\n  let parsed;\n  try {\n    parsed = JSON.parse(stringified);\n  } catch (e) {\n    console.error(\n      \"[zustand devtools middleware] Could not parse the received json\",\n      e\n    );\n  }\n  if (parsed !== void 0) f(parsed);\n};\n\nconst subscribeWithSelectorImpl = (fn) => (set, get, api) => {\n  const origSubscribe = api.subscribe;\n  api.subscribe = (selector, optListener, options) => {\n    let listener = selector;\n    if (optListener) {\n      const equalityFn = (options == null ? void 0 : options.equalityFn) || Object.is;\n      let currentSlice = selector(api.getState());\n      listener = (state) => {\n        const nextSlice = selector(state);\n        if (!equalityFn(currentSlice, nextSlice)) {\n          const previousSlice = currentSlice;\n          optListener(currentSlice = nextSlice, previousSlice);\n        }\n      };\n      if (options == null ? void 0 : options.fireImmediately) {\n        optListener(currentSlice, currentSlice);\n      }\n    }\n    return origSubscribe(listener);\n  };\n  const initialState = fn(set, get, api);\n  return initialState;\n};\nconst subscribeWithSelector = subscribeWithSelectorImpl;\n\nconst combine = (initialState, create) => (...a) => Object.assign({}, initialState, create(...a));\n\nfunction createJSONStorage(getStorage, options) {\n  let storage;\n  try {\n    storage = getStorage();\n  } catch (_e) {\n    return;\n  }\n  const persistStorage = {\n    getItem: (name) => {\n      var _a;\n      const parse = (str2) => {\n        if (str2 === null) {\n          return null;\n        }\n        return JSON.parse(str2, options == null ? void 0 : options.reviver);\n      };\n      const str = (_a = storage.getItem(name)) != null ? _a : null;\n      if (str instanceof Promise) {\n        return str.then(parse);\n      }\n      return parse(str);\n    },\n    setItem: (name, newValue) => storage.setItem(\n      name,\n      JSON.stringify(newValue, options == null ? void 0 : options.replacer)\n    ),\n    removeItem: (name) => storage.removeItem(name)\n  };\n  return persistStorage;\n}\nconst toThenable = (fn) => (input) => {\n  try {\n    const result = fn(input);\n    if (result instanceof Promise) {\n      return result;\n    }\n    return {\n      then(onFulfilled) {\n        return toThenable(onFulfilled)(result);\n      },\n      catch(_onRejected) {\n        return this;\n      }\n    };\n  } catch (e) {\n    return {\n      then(_onFulfilled) {\n        return this;\n      },\n      catch(onRejected) {\n        return toThenable(onRejected)(e);\n      }\n    };\n  }\n};\nconst oldImpl = (config, baseOptions) => (set, get, api) => {\n  let options = {\n    getStorage: () => localStorage,\n    serialize: JSON.stringify,\n    deserialize: JSON.parse,\n    partialize: (state) => state,\n    version: 0,\n    merge: (persistedState, currentState) => ({\n      ...currentState,\n      ...persistedState\n    }),\n    ...baseOptions\n  };\n  let hasHydrated = false;\n  const hydrationListeners = /* @__PURE__ */ new Set();\n  const finishHydrationListeners = /* @__PURE__ */ new Set();\n  let storage;\n  try {\n    storage = options.getStorage();\n  } catch (_e) {\n  }\n  if (!storage) {\n    return config(\n      (...args) => {\n        console.warn(\n          `[zustand persist middleware] Unable to update item '${options.name}', the given storage is currently unavailable.`\n        );\n        set(...args);\n      },\n      get,\n      api\n    );\n  }\n  const thenableSerialize = toThenable(options.serialize);\n  const setItem = () => {\n    const state = options.partialize({ ...get() });\n    let errorInSync;\n    const thenable = thenableSerialize({ state, version: options.version }).then(\n      (serializedValue) => storage.setItem(options.name, serializedValue)\n    ).catch((e) => {\n      errorInSync = e;\n    });\n    if (errorInSync) {\n      throw errorInSync;\n    }\n    return thenable;\n  };\n  const savedSetState = api.setState;\n  api.setState = (state, replace) => {\n    savedSetState(state, replace);\n    void setItem();\n  };\n  const configResult = config(\n    (...args) => {\n      set(...args);\n      void setItem();\n    },\n    get,\n    api\n  );\n  let stateFromStorage;\n  const hydrate = () => {\n    var _a;\n    if (!storage) return;\n    hasHydrated = false;\n    hydrationListeners.forEach((cb) => cb(get()));\n    const postRehydrationCallback = ((_a = options.onRehydrateStorage) == null ? void 0 : _a.call(options, get())) || void 0;\n    return toThenable(storage.getItem.bind(storage))(options.name).then((storageValue) => {\n      if (storageValue) {\n        return options.deserialize(storageValue);\n      }\n    }).then((deserializedStorageValue) => {\n      if (deserializedStorageValue) {\n        if (typeof deserializedStorageValue.version === \"number\" && deserializedStorageValue.version !== options.version) {\n          if (options.migrate) {\n            return options.migrate(\n              deserializedStorageValue.state,\n              deserializedStorageValue.version\n            );\n          }\n          console.error(\n            `State loaded from storage couldn't be migrated since no migrate function was provided`\n          );\n        } else {\n          return deserializedStorageValue.state;\n        }\n      }\n    }).then((migratedState) => {\n      var _a2;\n      stateFromStorage = options.merge(\n        migratedState,\n        (_a2 = get()) != null ? _a2 : configResult\n      );\n      set(stateFromStorage, true);\n      return setItem();\n    }).then(() => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(stateFromStorage, void 0);\n      hasHydrated = true;\n      finishHydrationListeners.forEach((cb) => cb(stateFromStorage));\n    }).catch((e) => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(void 0, e);\n    });\n  };\n  api.persist = {\n    setOptions: (newOptions) => {\n      options = {\n        ...options,\n        ...newOptions\n      };\n      if (newOptions.getStorage) {\n        storage = newOptions.getStorage();\n      }\n    },\n    clearStorage: () => {\n      storage == null ? void 0 : storage.removeItem(options.name);\n    },\n    getOptions: () => options,\n    rehydrate: () => hydrate(),\n    hasHydrated: () => hasHydrated,\n    onHydrate: (cb) => {\n      hydrationListeners.add(cb);\n      return () => {\n        hydrationListeners.delete(cb);\n      };\n    },\n    onFinishHydration: (cb) => {\n      finishHydrationListeners.add(cb);\n      return () => {\n        finishHydrationListeners.delete(cb);\n      };\n    }\n  };\n  hydrate();\n  return stateFromStorage || configResult;\n};\nconst newImpl = (config, baseOptions) => (set, get, api) => {\n  let options = {\n    storage: createJSONStorage(() => localStorage),\n    partialize: (state) => state,\n    version: 0,\n    merge: (persistedState, currentState) => ({\n      ...currentState,\n      ...persistedState\n    }),\n    ...baseOptions\n  };\n  let hasHydrated = false;\n  const hydrationListeners = /* @__PURE__ */ new Set();\n  const finishHydrationListeners = /* @__PURE__ */ new Set();\n  let storage = options.storage;\n  if (!storage) {\n    return config(\n      (...args) => {\n        console.warn(\n          `[zustand persist middleware] Unable to update item '${options.name}', the given storage is currently unavailable.`\n        );\n        set(...args);\n      },\n      get,\n      api\n    );\n  }\n  const setItem = () => {\n    const state = options.partialize({ ...get() });\n    return storage.setItem(options.name, {\n      state,\n      version: options.version\n    });\n  };\n  const savedSetState = api.setState;\n  api.setState = (state, replace) => {\n    savedSetState(state, replace);\n    void setItem();\n  };\n  const configResult = config(\n    (...args) => {\n      set(...args);\n      void setItem();\n    },\n    get,\n    api\n  );\n  api.getInitialState = () => configResult;\n  let stateFromStorage;\n  const hydrate = () => {\n    var _a, _b;\n    if (!storage) return;\n    hasHydrated = false;\n    hydrationListeners.forEach((cb) => {\n      var _a2;\n      return cb((_a2 = get()) != null ? _a2 : configResult);\n    });\n    const postRehydrationCallback = ((_b = options.onRehydrateStorage) == null ? void 0 : _b.call(options, (_a = get()) != null ? _a : configResult)) || void 0;\n    return toThenable(storage.getItem.bind(storage))(options.name).then((deserializedStorageValue) => {\n      if (deserializedStorageValue) {\n        if (typeof deserializedStorageValue.version === \"number\" && deserializedStorageValue.version !== options.version) {\n          if (options.migrate) {\n            return [\n              true,\n              options.migrate(\n                deserializedStorageValue.state,\n                deserializedStorageValue.version\n              )\n            ];\n          }\n          console.error(\n            `State loaded from storage couldn't be migrated since no migrate function was provided`\n          );\n        } else {\n          return [false, deserializedStorageValue.state];\n        }\n      }\n      return [false, void 0];\n    }).then((migrationResult) => {\n      var _a2;\n      const [migrated, migratedState] = migrationResult;\n      stateFromStorage = options.merge(\n        migratedState,\n        (_a2 = get()) != null ? _a2 : configResult\n      );\n      set(stateFromStorage, true);\n      if (migrated) {\n        return setItem();\n      }\n    }).then(() => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(stateFromStorage, void 0);\n      stateFromStorage = get();\n      hasHydrated = true;\n      finishHydrationListeners.forEach((cb) => cb(stateFromStorage));\n    }).catch((e) => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(void 0, e);\n    });\n  };\n  api.persist = {\n    setOptions: (newOptions) => {\n      options = {\n        ...options,\n        ...newOptions\n      };\n      if (newOptions.storage) {\n        storage = newOptions.storage;\n      }\n    },\n    clearStorage: () => {\n      storage == null ? void 0 : storage.removeItem(options.name);\n    },\n    getOptions: () => options,\n    rehydrate: () => hydrate(),\n    hasHydrated: () => hasHydrated,\n    onHydrate: (cb) => {\n      hydrationListeners.add(cb);\n      return () => {\n        hydrationListeners.delete(cb);\n      };\n    },\n    onFinishHydration: (cb) => {\n      finishHydrationListeners.add(cb);\n      return () => {\n        finishHydrationListeners.delete(cb);\n      };\n    }\n  };\n  if (!options.skipHydration) {\n    hydrate();\n  }\n  return stateFromStorage || configResult;\n};\nconst persistImpl = (config, baseOptions) => {\n  if (\"getStorage\" in baseOptions || \"serialize\" in baseOptions || \"deserialize\" in baseOptions) {\n    if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n      console.warn(\n        \"[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead.\"\n      );\n    }\n    return oldImpl(config, baseOptions);\n  }\n  return newImpl(config, baseOptions);\n};\nconst persist = persistImpl;\n\nexport { combine, createJSONStorage, devtools, persist, redux, subscribeWithSelector };\n","function getVarName(variable) {\n  var matches = variable.match(/^var\\((.*)\\)$/);\n  if (matches) {\n    return matches[1];\n  }\n  return variable;\n}\n\nfunction get(obj, path) {\n  var result = obj;\n  for (var key of path) {\n    if (!(key in result)) {\n      throw new Error(\"Path \".concat(path.join(' -> '), \" does not exist in object\"));\n    }\n    result = result[key];\n  }\n  return result;\n}\n\nfunction walkObject(obj, fn) {\n  var path = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n  var clone = {};\n  for (var key in obj) {\n    var _value = obj[key];\n    var currentPath = [...path, key];\n    if (typeof _value === 'string' || typeof _value === 'number' || _value == null) {\n      clone[key] = fn(_value, currentPath);\n    } else if (typeof _value === 'object' && !Array.isArray(_value)) {\n      clone[key] = walkObject(_value, fn, currentPath);\n    } else {\n      console.warn(\"Skipping invalid key \\\"\".concat(currentPath.join('.'), \"\\\". Should be a string, number, null or object. Received: \\\"\").concat(Array.isArray(_value) ? 'Array' : typeof _value, \"\\\"\"));\n    }\n  }\n  return clone;\n}\n\nexport { get, getVarName, walkObject };\n","import { walkObject, get, getVarName } from '@vanilla-extract/private';\n\nfunction assignInlineVars(varsOrContract, tokens) {\n  var styles = {};\n  if (typeof tokens === 'object') {\n    var _contract = varsOrContract;\n    walkObject(tokens, (value, path) => {\n      if (value == null) {\n        return;\n      }\n      var varName = get(_contract, path);\n      styles[getVarName(varName)] = String(value);\n    });\n  } else {\n    var _vars = varsOrContract;\n    for (var varName in _vars) {\n      var value = _vars[varName];\n      if (value == null) {\n        continue;\n      }\n      styles[getVarName(varName)] = value;\n    }\n  }\n  Object.defineProperty(styles, 'toString', {\n    value: function value() {\n      return Object.keys(this).map(key => \"\".concat(key, \":\").concat(this[key])).join(';');\n    },\n    writable: false\n  });\n  return styles;\n}\n\nfunction setVar(element, variable, value) {\n  element.style.setProperty(getVarName(variable), value);\n}\nfunction setElementVars(element, varsOrContract, tokens) {\n  if (typeof tokens === 'object') {\n    var _contract = varsOrContract;\n    walkObject(tokens, (value, path) => {\n      if (value == null) {\n        return;\n      }\n      setVar(element, get(_contract, path), String(value));\n    });\n  } else {\n    var _vars = varsOrContract;\n    for (var varName in _vars) {\n      var value = _vars[varName];\n      if (value == null) {\n        continue;\n      }\n      setVar(element, varName, _vars[varName]);\n    }\n  }\n}\n\nexport { assignInlineVars, setElementVars };\n","var stylesheets = {};\nvar injectStyles = _ref => {\n  var {\n    fileScope,\n    css\n  } = _ref;\n  var fileScopeId = fileScope.packageName ? [fileScope.packageName, fileScope.filePath].join('/') : fileScope.filePath;\n  var stylesheet = stylesheets[fileScopeId];\n  if (!stylesheet) {\n    var styleEl = document.createElement('style');\n    if (fileScope.packageName) {\n      styleEl.setAttribute('data-package', fileScope.packageName);\n    }\n    styleEl.setAttribute('data-file', fileScope.filePath);\n    styleEl.setAttribute('type', 'text/css');\n    stylesheet = stylesheets[fileScopeId] = styleEl;\n    document.head.appendChild(styleEl);\n  }\n  stylesheet.innerHTML = css;\n};\n\nexport { injectStyles };\n","/*! https://mths.be/cssesc v3.0.0 by @mathias */\n'use strict';\n\nvar object = {};\nvar hasOwnProperty = object.hasOwnProperty;\nvar merge = function merge(options, defaults) {\n\tif (!options) {\n\t\treturn defaults;\n\t}\n\tvar result = {};\n\tfor (var key in defaults) {\n\t\t// `if (defaults.hasOwnProperty(key) {  }` is not needed here, since\n\t\t// only recognized option names are used.\n\t\tresult[key] = hasOwnProperty.call(options, key) ? options[key] : defaults[key];\n\t}\n\treturn result;\n};\n\nvar regexAnySingleEscape = /[ -,\\.\\/:-@\\[-\\^`\\{-~]/;\nvar regexSingleEscape = /[ -,\\.\\/:-@\\[\\]\\^`\\{-~]/;\nvar regexAlwaysEscape = /['\"\\\\]/;\nvar regexExcessiveSpaces = /(^|\\\\+)?(\\\\[A-F0-9]{1,6})\\x20(?![a-fA-F0-9\\x20])/g;\n\n// https://mathiasbynens.be/notes/css-escapes#css\nvar cssesc = function cssesc(string, options) {\n\toptions = merge(options, cssesc.options);\n\tif (options.quotes != 'single' && options.quotes != 'double') {\n\t\toptions.quotes = 'single';\n\t}\n\tvar quote = options.quotes == 'double' ? '\"' : '\\'';\n\tvar isIdentifier = options.isIdentifier;\n\n\tvar firstChar = string.charAt(0);\n\tvar output = '';\n\tvar counter = 0;\n\tvar length = string.length;\n\twhile (counter < length) {\n\t\tvar character = string.charAt(counter++);\n\t\tvar codePoint = character.charCodeAt();\n\t\tvar value = void 0;\n\t\t// If its not a printable ASCII character\n\t\tif (codePoint < 0x20 || codePoint > 0x7E) {\n\t\t\tif (codePoint >= 0xD800 && codePoint <= 0xDBFF && counter < length) {\n\t\t\t\t// Its a high surrogate, and there is a next character.\n\t\t\t\tvar extra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) {\n\t\t\t\t\t// next character is low surrogate\n\t\t\t\t\tcodePoint = ((codePoint & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000;\n\t\t\t\t} else {\n\t\t\t\t\t// Its an unmatched surrogate; only append this code unit, in case\n\t\t\t\t\t// the next code unit is the high surrogate of a surrogate pair.\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t}\n\t\t\tvalue = '\\\\' + codePoint.toString(16).toUpperCase() + ' ';\n\t\t} else {\n\t\t\tif (options.escapeEverything) {\n\t\t\t\tif (regexAnySingleEscape.test(character)) {\n\t\t\t\t\tvalue = '\\\\' + character;\n\t\t\t\t} else {\n\t\t\t\t\tvalue = '\\\\' + codePoint.toString(16).toUpperCase() + ' ';\n\t\t\t\t}\n\t\t\t} else if (/[\\t\\n\\f\\r\\x0B]/.test(character)) {\n\t\t\t\tvalue = '\\\\' + codePoint.toString(16).toUpperCase() + ' ';\n\t\t\t} else if (character == '\\\\' || !isIdentifier && (character == '\"' && quote == character || character == '\\'' && quote == character) || isIdentifier && regexSingleEscape.test(character)) {\n\t\t\t\tvalue = '\\\\' + character;\n\t\t\t} else {\n\t\t\t\tvalue = character;\n\t\t\t}\n\t\t}\n\t\toutput += value;\n\t}\n\n\tif (isIdentifier) {\n\t\tif (/^-[-\\d]/.test(output)) {\n\t\t\toutput = '\\\\-' + output.slice(1);\n\t\t} else if (/\\d/.test(firstChar)) {\n\t\t\toutput = '\\\\3' + firstChar + ' ' + output.slice(1);\n\t\t}\n\t}\n\n\t// Remove spaces after `\\HEX` escapes that are not followed by a hex digit,\n\t// since theyre redundant. Note that this is only possible if the escape\n\t// sequence isnt preceded by an odd number of backslashes.\n\toutput = output.replace(regexExcessiveSpaces, function ($0, $1, $2) {\n\t\tif ($1 && $1.length % 2) {\n\t\t\t// Its not safe to remove the space, so dont.\n\t\t\treturn $0;\n\t\t}\n\t\t// Strip the space.\n\t\treturn ($1 || '') + $2;\n\t});\n\n\tif (!isIdentifier && options.wrap) {\n\t\treturn quote + output + quote;\n\t}\n\treturn output;\n};\n\n// Expose default options (so they can be overridden globally).\ncssesc.options = {\n\t'escapeEverything': false,\n\t'isIdentifier': false,\n\t'quotes': 'single',\n\t'wrap': false\n};\n\ncssesc.version = '3.0.0';\n\nmodule.exports = cssesc;\n","// src/index.ts\nvar AhoCorasick = class {\n  constructor(keywords) {\n    const { failure, gotoFn, output } = this._buildTables(keywords);\n    this.gotoFn = gotoFn;\n    this.output = output;\n    this.failure = failure;\n  }\n  _buildTables(keywords) {\n    const gotoFn = {\n      0: {}\n    };\n    const output = {};\n    let state = 0;\n    for (const word of keywords) {\n      let curr = 0;\n      for (const l of word) {\n        if (gotoFn[curr] && l in gotoFn[curr]) {\n          curr = gotoFn[curr][l];\n        } else {\n          state++;\n          gotoFn[curr][l] = state;\n          gotoFn[state] = {};\n          curr = state;\n          output[state] = [];\n        }\n      }\n      output[curr].push(word);\n    }\n    const failure = {};\n    const xs = [];\n    for (const l in gotoFn[0]) {\n      const state2 = gotoFn[0][l];\n      failure[state2] = 0;\n      xs.push(state2);\n    }\n    while (xs.length > 0) {\n      const r = xs.shift();\n      if (r !== void 0) {\n        for (const l in gotoFn[r]) {\n          const s = gotoFn[r][l];\n          xs.push(s);\n          let state2 = failure[r];\n          while (state2 > 0 && !(l in gotoFn[state2])) {\n            state2 = failure[state2];\n          }\n          if (l in gotoFn[state2]) {\n            const fs = gotoFn[state2][l];\n            failure[s] = fs;\n            output[s] = [...output[s], ...output[fs]];\n          } else {\n            failure[s] = 0;\n          }\n        }\n      }\n    }\n    return {\n      gotoFn,\n      output,\n      failure\n    };\n  }\n  search(str) {\n    let state = 0;\n    const results = [];\n    for (let i = 0; i < str.length; i++) {\n      const l = str[i];\n      while (state > 0 && !(l in this.gotoFn[state])) {\n        state = this.failure[state];\n      }\n      if (!(l in this.gotoFn[state])) {\n        continue;\n      }\n      state = this.gotoFn[state][l];\n      if (this.output[state].length > 0) {\n        const foundStrs = this.output[state];\n        results.push([i, foundStrs]);\n      }\n    }\n    return results;\n  }\n  match(str) {\n    let state = 0;\n    for (let i = 0; i < str.length; i++) {\n      const l = str[i];\n      while (state > 0 && !(l in this.gotoFn[state])) {\n        state = this.failure[state];\n      }\n      if (!(l in this.gotoFn[state])) {\n        continue;\n      }\n      state = this.gotoFn[state][l];\n      if (this.output[state].length > 0) {\n        return true;\n      }\n    }\n    return false;\n  }\n};\nexport {\n  AhoCorasick as default\n};\n","var mockAdapter = {\n  appendCss: () => {},\n  registerClassName: () => {},\n  onEndFileScope: () => {},\n  registerComposition: () => {},\n  markCompositionUsed: () => {},\n  getIdentOption: () => process.env.NODE_ENV === 'production' ? 'short' : 'debug'\n};\nvar adapterStack = [mockAdapter];\nvar currentAdapter = () => {\n  if (adapterStack.length < 1) {\n    throw new Error('No adapter configured');\n  }\n  return adapterStack[adapterStack.length - 1];\n};\nvar hasConfiguredAdapter = false;\nvar setAdapterIfNotSet = newAdapter => {\n  if (!hasConfiguredAdapter) {\n    setAdapter(newAdapter);\n  }\n};\nvar setAdapter = newAdapter => {\n  if (!newAdapter) {\n    throw new Error('No adapter provided when calling \"setAdapter\"');\n  }\n  hasConfiguredAdapter = true;\n  adapterStack.push(newAdapter);\n};\nvar removeAdapter = () => {\n  adapterStack.pop();\n};\nvar appendCss = function appendCss() {\n  return currentAdapter().appendCss(...arguments);\n};\nvar registerClassName = function registerClassName() {\n  return currentAdapter().registerClassName(...arguments);\n};\nvar registerComposition = function registerComposition() {\n  return currentAdapter().registerComposition(...arguments);\n};\nvar markCompositionUsed = function markCompositionUsed() {\n  return currentAdapter().markCompositionUsed(...arguments);\n};\nvar onBeginFileScope = function onBeginFileScope() {\n  var _currentAdapter$onBeg, _currentAdapter;\n  for (var _len = arguments.length, props = new Array(_len), _key = 0; _key < _len; _key++) {\n    props[_key] = arguments[_key];\n  }\n  return (_currentAdapter$onBeg = (_currentAdapter = currentAdapter()).onBeginFileScope) === null || _currentAdapter$onBeg === void 0 ? void 0 : _currentAdapter$onBeg.call(_currentAdapter, ...props);\n};\nvar onEndFileScope = function onEndFileScope() {\n  return currentAdapter().onEndFileScope(...arguments);\n};\nvar getIdentOption = function getIdentOption() {\n  var adapter = currentAdapter();\n\n  // Backwards compatibility with old versions of the integration package\n  if (!('getIdentOption' in adapter)) {\n    return process.env.NODE_ENV === 'production' ? 'short' : 'debug';\n  }\n  return adapter.getIdentOption(...arguments);\n};\n\nexport { appendCss, getIdentOption, markCompositionUsed, mockAdapter, onBeginFileScope, onEndFileScope, registerClassName, registerComposition, removeAdapter, setAdapter, setAdapterIfNotSet };\n","function _taggedTemplateLiteral(strings, raw) {\n  if (!raw) {\n    raw = strings.slice(0);\n  }\n  return Object.freeze(Object.defineProperties(strings, {\n    raw: {\n      value: Object.freeze(raw)\n    }\n  }));\n}\n\nexport { _taggedTemplateLiteral as _ };\n","export var SelectorType;\n(function (SelectorType) {\n    SelectorType[\"Attribute\"] = \"attribute\";\n    SelectorType[\"Pseudo\"] = \"pseudo\";\n    SelectorType[\"PseudoElement\"] = \"pseudo-element\";\n    SelectorType[\"Tag\"] = \"tag\";\n    SelectorType[\"Universal\"] = \"universal\";\n    // Traversals\n    SelectorType[\"Adjacent\"] = \"adjacent\";\n    SelectorType[\"Child\"] = \"child\";\n    SelectorType[\"Descendant\"] = \"descendant\";\n    SelectorType[\"Parent\"] = \"parent\";\n    SelectorType[\"Sibling\"] = \"sibling\";\n    SelectorType[\"ColumnCombinator\"] = \"column-combinator\";\n})(SelectorType || (SelectorType = {}));\n/**\n * Modes for ignore case.\n *\n * This could be updated to an enum, and the object is\n * the current stand-in that will allow code to be updated\n * without big changes.\n */\nexport const IgnoreCaseMode = {\n    Unknown: null,\n    QuirksMode: \"quirks\",\n    IgnoreCase: true,\n    CaseSensitive: false,\n};\nexport var AttributeAction;\n(function (AttributeAction) {\n    AttributeAction[\"Any\"] = \"any\";\n    AttributeAction[\"Element\"] = \"element\";\n    AttributeAction[\"End\"] = \"end\";\n    AttributeAction[\"Equals\"] = \"equals\";\n    AttributeAction[\"Exists\"] = \"exists\";\n    AttributeAction[\"Hyphen\"] = \"hyphen\";\n    AttributeAction[\"Not\"] = \"not\";\n    AttributeAction[\"Start\"] = \"start\";\n})(AttributeAction || (AttributeAction = {}));\n","import { SelectorType, AttributeAction, } from \"./types\";\nconst reName = /^[^\\\\#]?(?:\\\\(?:[\\da-f]{1,6}\\s?|.)|[\\w\\-\\u00b0-\\uFFFF])+/;\nconst reEscape = /\\\\([\\da-f]{1,6}\\s?|(\\s)|.)/gi;\nconst actionTypes = new Map([\n    [126 /* Tilde */, AttributeAction.Element],\n    [94 /* Circumflex */, AttributeAction.Start],\n    [36 /* Dollar */, AttributeAction.End],\n    [42 /* Asterisk */, AttributeAction.Any],\n    [33 /* ExclamationMark */, AttributeAction.Not],\n    [124 /* Pipe */, AttributeAction.Hyphen],\n]);\n// Pseudos, whose data property is parsed as well.\nconst unpackPseudos = new Set([\n    \"has\",\n    \"not\",\n    \"matches\",\n    \"is\",\n    \"where\",\n    \"host\",\n    \"host-context\",\n]);\n/**\n * Checks whether a specific selector is a traversal.\n * This is useful eg. in swapping the order of elements that\n * are not traversals.\n *\n * @param selector Selector to check.\n */\nexport function isTraversal(selector) {\n    switch (selector.type) {\n        case SelectorType.Adjacent:\n        case SelectorType.Child:\n        case SelectorType.Descendant:\n        case SelectorType.Parent:\n        case SelectorType.Sibling:\n        case SelectorType.ColumnCombinator:\n            return true;\n        default:\n            return false;\n    }\n}\nconst stripQuotesFromPseudos = new Set([\"contains\", \"icontains\"]);\n// Unescape function taken from https://github.com/jquery/sizzle/blob/master/src/sizzle.js#L152\nfunction funescape(_, escaped, escapedWhitespace) {\n    const high = parseInt(escaped, 16) - 0x10000;\n    // NaN means non-codepoint\n    return high !== high || escapedWhitespace\n        ? escaped\n        : high < 0\n            ? // BMP codepoint\n                String.fromCharCode(high + 0x10000)\n            : // Supplemental Plane codepoint (surrogate pair)\n                String.fromCharCode((high >> 10) | 0xd800, (high & 0x3ff) | 0xdc00);\n}\nfunction unescapeCSS(str) {\n    return str.replace(reEscape, funescape);\n}\nfunction isQuote(c) {\n    return c === 39 /* SingleQuote */ || c === 34 /* DoubleQuote */;\n}\nfunction isWhitespace(c) {\n    return (c === 32 /* Space */ ||\n        c === 9 /* Tab */ ||\n        c === 10 /* NewLine */ ||\n        c === 12 /* FormFeed */ ||\n        c === 13 /* CarriageReturn */);\n}\n/**\n * Parses `selector`, optionally with the passed `options`.\n *\n * @param selector Selector to parse.\n * @param options Options for parsing.\n * @returns Returns a two-dimensional array.\n * The first dimension represents selectors separated by commas (eg. `sub1, sub2`),\n * the second contains the relevant tokens for that selector.\n */\nexport function parse(selector) {\n    const subselects = [];\n    const endIndex = parseSelector(subselects, `${selector}`, 0);\n    if (endIndex < selector.length) {\n        throw new Error(`Unmatched selector: ${selector.slice(endIndex)}`);\n    }\n    return subselects;\n}\nfunction parseSelector(subselects, selector, selectorIndex) {\n    let tokens = [];\n    function getName(offset) {\n        const match = selector.slice(selectorIndex + offset).match(reName);\n        if (!match) {\n            throw new Error(`Expected name, found ${selector.slice(selectorIndex)}`);\n        }\n        const [name] = match;\n        selectorIndex += offset + name.length;\n        return unescapeCSS(name);\n    }\n    function stripWhitespace(offset) {\n        selectorIndex += offset;\n        while (selectorIndex < selector.length &&\n            isWhitespace(selector.charCodeAt(selectorIndex))) {\n            selectorIndex++;\n        }\n    }\n    function readValueWithParenthesis() {\n        selectorIndex += 1;\n        const start = selectorIndex;\n        let counter = 1;\n        for (; counter > 0 && selectorIndex < selector.length; selectorIndex++) {\n            if (selector.charCodeAt(selectorIndex) ===\n                40 /* LeftParenthesis */ &&\n                !isEscaped(selectorIndex)) {\n                counter++;\n            }\n            else if (selector.charCodeAt(selectorIndex) ===\n                41 /* RightParenthesis */ &&\n                !isEscaped(selectorIndex)) {\n                counter--;\n            }\n        }\n        if (counter) {\n            throw new Error(\"Parenthesis not matched\");\n        }\n        return unescapeCSS(selector.slice(start, selectorIndex - 1));\n    }\n    function isEscaped(pos) {\n        let slashCount = 0;\n        while (selector.charCodeAt(--pos) === 92 /* BackSlash */)\n            slashCount++;\n        return (slashCount & 1) === 1;\n    }\n    function ensureNotTraversal() {\n        if (tokens.length > 0 && isTraversal(tokens[tokens.length - 1])) {\n            throw new Error(\"Did not expect successive traversals.\");\n        }\n    }\n    function addTraversal(type) {\n        if (tokens.length > 0 &&\n            tokens[tokens.length - 1].type === SelectorType.Descendant) {\n            tokens[tokens.length - 1].type = type;\n            return;\n        }\n        ensureNotTraversal();\n        tokens.push({ type });\n    }\n    function addSpecialAttribute(name, action) {\n        tokens.push({\n            type: SelectorType.Attribute,\n            name,\n            action,\n            value: getName(1),\n            namespace: null,\n            ignoreCase: \"quirks\",\n        });\n    }\n    /**\n     * We have finished parsing the current part of the selector.\n     *\n     * Remove descendant tokens at the end if they exist,\n     * and return the last index, so that parsing can be\n     * picked up from here.\n     */\n    function finalizeSubselector() {\n        if (tokens.length &&\n            tokens[tokens.length - 1].type === SelectorType.Descendant) {\n            tokens.pop();\n        }\n        if (tokens.length === 0) {\n            throw new Error(\"Empty sub-selector\");\n        }\n        subselects.push(tokens);\n    }\n    stripWhitespace(0);\n    if (selector.length === selectorIndex) {\n        return selectorIndex;\n    }\n    loop: while (selectorIndex < selector.length) {\n        const firstChar = selector.charCodeAt(selectorIndex);\n        switch (firstChar) {\n            // Whitespace\n            case 32 /* Space */:\n            case 9 /* Tab */:\n            case 10 /* NewLine */:\n            case 12 /* FormFeed */:\n            case 13 /* CarriageReturn */: {\n                if (tokens.length === 0 ||\n                    tokens[0].type !== SelectorType.Descendant) {\n                    ensureNotTraversal();\n                    tokens.push({ type: SelectorType.Descendant });\n                }\n                stripWhitespace(1);\n                break;\n            }\n            // Traversals\n            case 62 /* GreaterThan */: {\n                addTraversal(SelectorType.Child);\n                stripWhitespace(1);\n                break;\n            }\n            case 60 /* LessThan */: {\n                addTraversal(SelectorType.Parent);\n                stripWhitespace(1);\n                break;\n            }\n            case 126 /* Tilde */: {\n                addTraversal(SelectorType.Sibling);\n                stripWhitespace(1);\n                break;\n            }\n            case 43 /* Plus */: {\n                addTraversal(SelectorType.Adjacent);\n                stripWhitespace(1);\n                break;\n            }\n            // Special attribute selectors: .class, #id\n            case 46 /* Period */: {\n                addSpecialAttribute(\"class\", AttributeAction.Element);\n                break;\n            }\n            case 35 /* Hash */: {\n                addSpecialAttribute(\"id\", AttributeAction.Equals);\n                break;\n            }\n            case 91 /* LeftSquareBracket */: {\n                stripWhitespace(1);\n                // Determine attribute name and namespace\n                let name;\n                let namespace = null;\n                if (selector.charCodeAt(selectorIndex) === 124 /* Pipe */) {\n                    // Equivalent to no namespace\n                    name = getName(1);\n                }\n                else if (selector.startsWith(\"*|\", selectorIndex)) {\n                    namespace = \"*\";\n                    name = getName(2);\n                }\n                else {\n                    name = getName(0);\n                    if (selector.charCodeAt(selectorIndex) === 124 /* Pipe */ &&\n                        selector.charCodeAt(selectorIndex + 1) !==\n                            61 /* Equal */) {\n                        namespace = name;\n                        name = getName(1);\n                    }\n                }\n                stripWhitespace(0);\n                // Determine comparison operation\n                let action = AttributeAction.Exists;\n                const possibleAction = actionTypes.get(selector.charCodeAt(selectorIndex));\n                if (possibleAction) {\n                    action = possibleAction;\n                    if (selector.charCodeAt(selectorIndex + 1) !==\n                        61 /* Equal */) {\n                        throw new Error(\"Expected `=`\");\n                    }\n                    stripWhitespace(2);\n                }\n                else if (selector.charCodeAt(selectorIndex) === 61 /* Equal */) {\n                    action = AttributeAction.Equals;\n                    stripWhitespace(1);\n                }\n                // Determine value\n                let value = \"\";\n                let ignoreCase = null;\n                if (action !== \"exists\") {\n                    if (isQuote(selector.charCodeAt(selectorIndex))) {\n                        const quote = selector.charCodeAt(selectorIndex);\n                        let sectionEnd = selectorIndex + 1;\n                        while (sectionEnd < selector.length &&\n                            (selector.charCodeAt(sectionEnd) !== quote ||\n                                isEscaped(sectionEnd))) {\n                            sectionEnd += 1;\n                        }\n                        if (selector.charCodeAt(sectionEnd) !== quote) {\n                            throw new Error(\"Attribute value didn't end\");\n                        }\n                        value = unescapeCSS(selector.slice(selectorIndex + 1, sectionEnd));\n                        selectorIndex = sectionEnd + 1;\n                    }\n                    else {\n                        const valueStart = selectorIndex;\n                        while (selectorIndex < selector.length &&\n                            ((!isWhitespace(selector.charCodeAt(selectorIndex)) &&\n                                selector.charCodeAt(selectorIndex) !==\n                                    93 /* RightSquareBracket */) ||\n                                isEscaped(selectorIndex))) {\n                            selectorIndex += 1;\n                        }\n                        value = unescapeCSS(selector.slice(valueStart, selectorIndex));\n                    }\n                    stripWhitespace(0);\n                    // See if we have a force ignore flag\n                    const forceIgnore = selector.charCodeAt(selectorIndex) | 0x20;\n                    // If the forceIgnore flag is set (either `i` or `s`), use that value\n                    if (forceIgnore === 115 /* LowerS */) {\n                        ignoreCase = false;\n                        stripWhitespace(1);\n                    }\n                    else if (forceIgnore === 105 /* LowerI */) {\n                        ignoreCase = true;\n                        stripWhitespace(1);\n                    }\n                }\n                if (selector.charCodeAt(selectorIndex) !==\n                    93 /* RightSquareBracket */) {\n                    throw new Error(\"Attribute selector didn't terminate\");\n                }\n                selectorIndex += 1;\n                const attributeSelector = {\n                    type: SelectorType.Attribute,\n                    name,\n                    action,\n                    value,\n                    namespace,\n                    ignoreCase,\n                };\n                tokens.push(attributeSelector);\n                break;\n            }\n            case 58 /* Colon */: {\n                if (selector.charCodeAt(selectorIndex + 1) === 58 /* Colon */) {\n                    tokens.push({\n                        type: SelectorType.PseudoElement,\n                        name: getName(2).toLowerCase(),\n                        data: selector.charCodeAt(selectorIndex) ===\n                            40 /* LeftParenthesis */\n                            ? readValueWithParenthesis()\n                            : null,\n                    });\n                    continue;\n                }\n                const name = getName(1).toLowerCase();\n                let data = null;\n                if (selector.charCodeAt(selectorIndex) ===\n                    40 /* LeftParenthesis */) {\n                    if (unpackPseudos.has(name)) {\n                        if (isQuote(selector.charCodeAt(selectorIndex + 1))) {\n                            throw new Error(`Pseudo-selector ${name} cannot be quoted`);\n                        }\n                        data = [];\n                        selectorIndex = parseSelector(data, selector, selectorIndex + 1);\n                        if (selector.charCodeAt(selectorIndex) !==\n                            41 /* RightParenthesis */) {\n                            throw new Error(`Missing closing parenthesis in :${name} (${selector})`);\n                        }\n                        selectorIndex += 1;\n                    }\n                    else {\n                        data = readValueWithParenthesis();\n                        if (stripQuotesFromPseudos.has(name)) {\n                            const quot = data.charCodeAt(0);\n                            if (quot === data.charCodeAt(data.length - 1) &&\n                                isQuote(quot)) {\n                                data = data.slice(1, -1);\n                            }\n                        }\n                        data = unescapeCSS(data);\n                    }\n                }\n                tokens.push({ type: SelectorType.Pseudo, name, data });\n                break;\n            }\n            case 44 /* Comma */: {\n                finalizeSubselector();\n                tokens = [];\n                stripWhitespace(1);\n                break;\n            }\n            default: {\n                if (selector.startsWith(\"/*\", selectorIndex)) {\n                    const endIndex = selector.indexOf(\"*/\", selectorIndex + 2);\n                    if (endIndex < 0) {\n                        throw new Error(\"Comment was not terminated\");\n                    }\n                    selectorIndex = endIndex + 2;\n                    // Remove leading whitespace\n                    if (tokens.length === 0) {\n                        stripWhitespace(0);\n                    }\n                    break;\n                }\n                let namespace = null;\n                let name;\n                if (firstChar === 42 /* Asterisk */) {\n                    selectorIndex += 1;\n                    name = \"*\";\n                }\n                else if (firstChar === 124 /* Pipe */) {\n                    name = \"\";\n                    if (selector.charCodeAt(selectorIndex + 1) === 124 /* Pipe */) {\n                        addTraversal(SelectorType.ColumnCombinator);\n                        stripWhitespace(2);\n                        break;\n                    }\n                }\n                else if (reName.test(selector.slice(selectorIndex))) {\n                    name = getName(0);\n                }\n                else {\n                    break loop;\n                }\n                if (selector.charCodeAt(selectorIndex) === 124 /* Pipe */ &&\n                    selector.charCodeAt(selectorIndex + 1) !== 124 /* Pipe */) {\n                    namespace = name;\n                    if (selector.charCodeAt(selectorIndex + 1) ===\n                        42 /* Asterisk */) {\n                        name = \"*\";\n                        selectorIndex += 2;\n                    }\n                    else {\n                        name = getName(1);\n                    }\n                }\n                tokens.push(name === \"*\"\n                    ? { type: SelectorType.Universal, namespace }\n                    : { type: SelectorType.Tag, name, namespace });\n            }\n        }\n    }\n    finalizeSubselector();\n    return selectorIndex;\n}\n","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nconst dedent = createDedent({});\nexport default dedent;\nfunction createDedent(options) {\n  dedent.withOptions = newOptions => createDedent(_objectSpread(_objectSpread({}, options), newOptions));\n  return dedent;\n  function dedent(strings, ...values) {\n    const raw = typeof strings === \"string\" ? [strings] : strings.raw;\n    const {\n      alignValues = false,\n      escapeSpecialCharacters = Array.isArray(strings),\n      trimWhitespace = true\n    } = options;\n\n    // first, perform interpolation\n    let result = \"\";\n    for (let i = 0; i < raw.length; i++) {\n      let next = raw[i];\n      if (escapeSpecialCharacters) {\n        // handle escaped newlines, backticks, and interpolation characters\n        next = next.replace(/\\\\\\n[ \\t]*/g, \"\").replace(/\\\\`/g, \"`\").replace(/\\\\\\$/g, \"$\").replace(/\\\\\\{/g, \"{\");\n      }\n      result += next;\n      if (i < values.length) {\n        const value = alignValues ? alignValue(values[i], result) : values[i];\n\n        // eslint-disable-next-line @typescript-eslint/restrict-plus-operands\n        result += value;\n      }\n    }\n\n    // now strip indentation\n    const lines = result.split(\"\\n\");\n    let mindent = null;\n    for (const l of lines) {\n      const m = l.match(/^(\\s+)\\S+/);\n      if (m) {\n        const indent = m[1].length;\n        if (!mindent) {\n          // this is the first indented line\n          mindent = indent;\n        } else {\n          mindent = Math.min(mindent, indent);\n        }\n      }\n    }\n    if (mindent !== null) {\n      const m = mindent; // appease TypeScript\n      result = lines\n      // https://github.com/typescript-eslint/typescript-eslint/issues/7140\n      // eslint-disable-next-line @typescript-eslint/prefer-string-starts-ends-with\n      .map(l => l[0] === \" \" || l[0] === \"\\t\" ? l.slice(m) : l).join(\"\\n\");\n    }\n\n    // dedent eats leading and trailing whitespace too\n    if (trimWhitespace) {\n      result = result.trim();\n    }\n\n    // handle escaped newlines at the end to ensure they don't get stripped too\n    if (escapeSpecialCharacters) {\n      result = result.replace(/\\\\n/g, \"\\n\");\n    }\n\n    // Workaround for Bun issue with Unicode characters\n    // https://github.com/oven-sh/bun/issues/8745\n    if (typeof Bun !== \"undefined\") {\n      result = result.replace(\n      // Matches e.g. \\\\u{1f60a} or \\\\u5F1F\n      /\\\\u(?:\\{([\\da-fA-F]{1,6})\\}|([\\da-fA-F]{4}))/g, (_, braced, unbraced) => {\n        var _ref;\n        const hex = (_ref = braced !== null && braced !== void 0 ? braced : unbraced) !== null && _ref !== void 0 ? _ref : \"\";\n        return String.fromCodePoint(parseInt(hex, 16));\n      });\n    }\n    return result;\n  }\n}\n\n/**\n * Adjusts the indentation of a multi-line interpolated value to match the current line.\n */\nfunction alignValue(value, precedingText) {\n  if (typeof value !== \"string\" || !value.includes(\"\\n\")) {\n    return value;\n  }\n  const currentLine = precedingText.slice(precedingText.lastIndexOf(\"\\n\") + 1);\n  const indentMatch = currentLine.match(/^(\\s+)/);\n  if (indentMatch) {\n    const indent = indentMatch[1];\n    return value.replace(/\\n/g, `\\n${indent}`);\n  }\n  return value;\n}\n","/*! @license MediaQueryParser - MIT License - Tom Golden (github@tbjgolden.com) */\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nfunction __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nfunction __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\n\nvar weirdNewlines = /(\\u000D|\\u000C|\\u000D\\u000A)/g;\nvar nullOrSurrogates = /[\\u0000\\uD800-\\uDFFF]/g;\nvar commentRegex = /(\\/\\*)[\\s\\S]*?(\\*\\/)/g;\nvar lexicalAnalysis = function lexicalAnalysis(str, index) {\n  if (index === void 0) {\n    index = 0;\n  }\n\n  str = str.replace(weirdNewlines, '\\n').replace(nullOrSurrogates, \"\\uFFFD\");\n  str = str.replace(commentRegex, '');\n  var tokens = [];\n\n  for (; index < str.length; index += 1) {\n    var code = str.charCodeAt(index);\n\n    if (code === 0x0009 || code === 0x0020 || code === 0x000a) {\n      var code_1 = str.charCodeAt(++index);\n\n      while (code_1 === 0x0009 || code_1 === 0x0020 || code_1 === 0x000a) {\n        code_1 = str.charCodeAt(++index);\n      }\n\n      index -= 1;\n      tokens.push({\n        type: '<whitespace-token>'\n      });\n    } else if (code === 0x0022) {\n      var result = consumeString(str, index);\n\n      if (result === null) {\n        return null;\n      }\n\n      var _a = __read(result, 2),\n          lastIndex = _a[0],\n          value = _a[1];\n\n      tokens.push({\n        type: '<string-token>',\n        value: value\n      });\n      index = lastIndex;\n    } else if (code === 0x0023) {\n      if (index + 1 < str.length) {\n        var nextCode = str.charCodeAt(index + 1);\n\n        if (nextCode === 0x005f || nextCode >= 0x0041 && nextCode <= 0x005a || nextCode >= 0x0061 && nextCode <= 0x007a || nextCode >= 0x0080 || nextCode >= 0x0030 && nextCode <= 0x0039 || nextCode === 0x005c && index + 2 < str.length && str.charCodeAt(index + 2) !== 0x000a) {\n          var flag = wouldStartIdentifier(str, index + 1) ? 'id' : 'unrestricted';\n          var result = consumeIdentUnsafe(str, index + 1);\n\n          if (result !== null) {\n            var _b = __read(result, 2),\n                lastIndex = _b[0],\n                value = _b[1];\n\n            tokens.push({\n              type: '<hash-token>',\n              value: value.toLowerCase(),\n              flag: flag\n            });\n            index = lastIndex;\n            continue;\n          }\n        }\n      }\n\n      tokens.push({\n        type: '<delim-token>',\n        value: code\n      });\n    } else if (code === 0x0027) {\n      var result = consumeString(str, index);\n\n      if (result === null) {\n        return null;\n      }\n\n      var _c = __read(result, 2),\n          lastIndex = _c[0],\n          value = _c[1];\n\n      tokens.push({\n        type: '<string-token>',\n        value: value\n      });\n      index = lastIndex;\n    } else if (code === 0x0028) {\n      tokens.push({\n        type: '<(-token>'\n      });\n    } else if (code === 0x0029) {\n      tokens.push({\n        type: '<)-token>'\n      });\n    } else if (code === 0x002b) {\n      var plusNumeric = consumeNumeric(str, index);\n\n      if (plusNumeric === null) {\n        tokens.push({\n          type: '<delim-token>',\n          value: code\n        });\n      } else {\n        var _d = __read(plusNumeric, 2),\n            lastIndex = _d[0],\n            tokenTuple = _d[1];\n\n        if (tokenTuple[0] === '<dimension-token>') {\n          tokens.push({\n            type: '<dimension-token>',\n            value: tokenTuple[1],\n            unit: tokenTuple[2].toLowerCase(),\n            flag: 'number'\n          });\n        } else if (tokenTuple[0] === '<number-token>') {\n          tokens.push({\n            type: tokenTuple[0],\n            value: tokenTuple[1],\n            flag: tokenTuple[2]\n          });\n        } else {\n          tokens.push({\n            type: tokenTuple[0],\n            value: tokenTuple[1],\n            flag: 'number'\n          });\n        }\n\n        index = lastIndex;\n      }\n    } else if (code === 0x002c) {\n      tokens.push({\n        type: '<comma-token>'\n      });\n    } else if (code === 0x002d) {\n      var minusNumeric = consumeNumeric(str, index);\n\n      if (minusNumeric !== null) {\n        var _e = __read(minusNumeric, 2),\n            lastIndex = _e[0],\n            tokenTuple = _e[1];\n\n        if (tokenTuple[0] === '<dimension-token>') {\n          tokens.push({\n            type: '<dimension-token>',\n            value: tokenTuple[1],\n            unit: tokenTuple[2].toLowerCase(),\n            flag: 'number'\n          });\n        } else if (tokenTuple[0] === '<number-token>') {\n          tokens.push({\n            type: tokenTuple[0],\n            value: tokenTuple[1],\n            flag: tokenTuple[2]\n          });\n        } else {\n          tokens.push({\n            type: tokenTuple[0],\n            value: tokenTuple[1],\n            flag: 'number'\n          });\n        }\n\n        index = lastIndex;\n        continue;\n      }\n\n      if (index + 2 < str.length) {\n        var nextCode = str.charCodeAt(index + 1);\n        var nextNextCode = str.charCodeAt(index + 2);\n\n        if (nextCode === 0x002d && nextNextCode === 0x003e) {\n          tokens.push({\n            type: '<CDC-token>'\n          });\n          index += 2;\n          continue;\n        }\n      }\n\n      var result = consumeIdentLike(str, index);\n\n      if (result !== null) {\n        var _f = __read(result, 3),\n            lastIndex = _f[0],\n            value = _f[1],\n            type = _f[2];\n\n        tokens.push({\n          type: type,\n          value: value\n        });\n        index = lastIndex;\n        continue;\n      }\n\n      tokens.push({\n        type: '<delim-token>',\n        value: code\n      });\n    } else if (code === 0x002e) {\n      var minusNumeric = consumeNumeric(str, index);\n\n      if (minusNumeric === null) {\n        tokens.push({\n          type: '<delim-token>',\n          value: code\n        });\n      } else {\n        var _g = __read(minusNumeric, 2),\n            lastIndex = _g[0],\n            tokenTuple = _g[1];\n\n        if (tokenTuple[0] === '<dimension-token>') {\n          tokens.push({\n            type: '<dimension-token>',\n            value: tokenTuple[1],\n            unit: tokenTuple[2].toLowerCase(),\n            flag: 'number'\n          });\n        } else if (tokenTuple[0] === '<number-token>') {\n          tokens.push({\n            type: tokenTuple[0],\n            value: tokenTuple[1],\n            flag: tokenTuple[2]\n          });\n        } else {\n          tokens.push({\n            type: tokenTuple[0],\n            value: tokenTuple[1],\n            flag: 'number'\n          });\n        }\n\n        index = lastIndex;\n        continue;\n      }\n    } else if (code === 0x003a) {\n      tokens.push({\n        type: '<colon-token>'\n      });\n    } else if (code === 0x003b) {\n      tokens.push({\n        type: '<semicolon-token>'\n      });\n    } else if (code === 0x003c) {\n      if (index + 3 < str.length) {\n        var nextCode = str.charCodeAt(index + 1);\n        var nextNextCode = str.charCodeAt(index + 2);\n        var nextNextNextCode = str.charCodeAt(index + 3);\n\n        if (nextCode === 0x0021 && nextNextCode === 0x002d && nextNextNextCode === 0x002d) {\n          tokens.push({\n            type: '<CDO-token>'\n          });\n          index += 3;\n          continue;\n        }\n      }\n\n      tokens.push({\n        type: '<delim-token>',\n        value: code\n      });\n    } else if (code === 0x0040) {\n      var result = consumeIdent(str, index + 1);\n\n      if (result !== null) {\n        var _h = __read(result, 2),\n            lastIndex = _h[0],\n            value = _h[1];\n\n        tokens.push({\n          type: '<at-keyword-token>',\n          value: value.toLowerCase()\n        });\n        index = lastIndex;\n        continue;\n      }\n\n      tokens.push({\n        type: '<delim-token>',\n        value: code\n      });\n    } else if (code === 0x005b) {\n      tokens.push({\n        type: '<[-token>'\n      });\n    } else if (code === 0x005c) {\n      var result = consumeEscape(str, index);\n\n      if (result === null) {\n        return null;\n      }\n\n      var _j = __read(result, 2),\n          lastIndex = _j[0],\n          value = _j[1];\n\n      str = str.slice(0, index) + value + str.slice(lastIndex + 1);\n      index -= 1;\n    } else if (code === 0x005d) {\n      tokens.push({\n        type: '<]-token>'\n      });\n    } else if (code === 0x007b) {\n      tokens.push({\n        type: '<{-token>'\n      });\n    } else if (code === 0x007d) {\n      tokens.push({\n        type: '<}-token>'\n      });\n    } else if (code >= 0x0030 && code <= 0x0039) {\n      var result = consumeNumeric(str, index);\n\n      var _k = __read(result, 2),\n          lastIndex = _k[0],\n          tokenTuple = _k[1];\n\n      if (tokenTuple[0] === '<dimension-token>') {\n        tokens.push({\n          type: '<dimension-token>',\n          value: tokenTuple[1],\n          unit: tokenTuple[2].toLowerCase(),\n          flag: 'number'\n        });\n      } else if (tokenTuple[0] === '<number-token>') {\n        tokens.push({\n          type: tokenTuple[0],\n          value: tokenTuple[1],\n          flag: tokenTuple[2]\n        });\n      } else {\n        tokens.push({\n          type: tokenTuple[0],\n          value: tokenTuple[1],\n          flag: 'number'\n        });\n      }\n\n      index = lastIndex;\n    } else if (code === 0x005f || code >= 0x0041 && code <= 0x005a || code >= 0x0061 && code <= 0x007a || code >= 0x0080) {\n      var result = consumeIdentLike(str, index);\n\n      if (result === null) {\n        return null;\n      }\n\n      var _l = __read(result, 3),\n          lastIndex = _l[0],\n          value = _l[1],\n          type = _l[2];\n\n      tokens.push({\n        type: type,\n        value: value\n      });\n      index = lastIndex;\n    } else {\n      tokens.push({\n        type: '<delim-token>',\n        value: code\n      });\n    }\n  }\n\n  tokens.push({\n    type: '<EOF-token>'\n  });\n  return tokens;\n};\nvar consumeString = function consumeString(str, index) {\n  if (str.length <= index + 1) return null;\n  var firstCode = str.charCodeAt(index);\n  var charCodes = [];\n\n  for (var i = index + 1; i < str.length; i += 1) {\n    var code = str.charCodeAt(i);\n\n    if (code === firstCode) {\n      return [i, String.fromCharCode.apply(null, charCodes)];\n    } else if (code === 0x005c) {\n      var result = consumeEscape(str, i);\n      if (result === null) return null;\n\n      var _a = __read(result, 2),\n          lastIndex = _a[0],\n          charCode = _a[1];\n\n      charCodes.push(charCode);\n      i = lastIndex;\n    } else if (code === 0x000a) {\n      return null;\n    } else {\n      charCodes.push(code);\n    }\n  }\n\n  return null;\n};\nvar wouldStartIdentifier = function wouldStartIdentifier(str, index) {\n  if (str.length <= index) return false;\n  var code = str.charCodeAt(index);\n\n  if (code === 0x002d) {\n    if (str.length <= index + 1) return false;\n    var nextCode = str.charCodeAt(index + 1);\n\n    if (nextCode === 0x002d || nextCode === 0x005f || nextCode >= 0x0041 && nextCode <= 0x005a || nextCode >= 0x0061 && nextCode <= 0x007a || nextCode >= 0x0080) {\n      return true;\n    } else if (nextCode === 0x005c) {\n      if (str.length <= index + 2) return false;\n      var nextNextCode = str.charCodeAt(index + 2);\n      return nextNextCode !== 0x000a;\n    } else {\n      return false;\n    }\n  } else if (code === 0x005f || code >= 0x0041 && code <= 0x005a || code >= 0x0061 && code <= 0x007a || code >= 0x0080) {\n    return true;\n  } else if (code === 0x005c) {\n    if (str.length <= index + 1) return false;\n    var nextCode = str.charCodeAt(index + 1);\n    return nextCode !== 0x000a;\n  } else {\n    return false;\n  }\n};\nvar consumeEscape = function consumeEscape(str, index) {\n  if (str.length <= index + 1) return null;\n  if (str.charCodeAt(index) !== 0x005c) return null;\n  var code = str.charCodeAt(index + 1);\n\n  if (code === 0x000a) {\n    return null;\n  } else if (code >= 0x0030 && code <= 0x0039 || code >= 0x0041 && code <= 0x0046 || code >= 0x0061 && code <= 0x0066) {\n    var hexCharCodes = [code];\n    var min = Math.min(index + 7, str.length);\n    var i = index + 2;\n\n    for (; i < min; i += 1) {\n      var code_2 = str.charCodeAt(i);\n\n      if (code_2 >= 0x0030 && code_2 <= 0x0039 || code_2 >= 0x0041 && code_2 <= 0x0046 || code_2 >= 0x0061 && code_2 <= 0x0066) {\n        hexCharCodes.push(code_2);\n      } else {\n        break;\n      }\n    }\n\n    if (i < str.length) {\n      var code_3 = str.charCodeAt(i);\n\n      if (code_3 === 0x0009 || code_3 === 0x0020 || code_3 === 0x000a) {\n        i += 1;\n      }\n    }\n\n    return [i - 1, parseInt(String.fromCharCode.apply(null, hexCharCodes), 16)];\n  } else {\n    return [index + 1, code];\n  }\n};\nvar consumeNumeric = function consumeNumeric(str, index) {\n  var numberResult = consumeNumber(str, index);\n  if (numberResult === null) return null;\n\n  var _a = __read(numberResult, 3),\n      numberEndIndex = _a[0],\n      numberValue = _a[1],\n      numberFlag = _a[2];\n\n  var identResult = consumeIdent(str, numberEndIndex + 1);\n\n  if (identResult !== null) {\n    var _b = __read(identResult, 2),\n        identEndIndex = _b[0],\n        identValue = _b[1];\n\n    return [identEndIndex, ['<dimension-token>', numberValue, identValue]];\n  }\n\n  if (numberEndIndex + 1 < str.length && str.charCodeAt(numberEndIndex + 1) === 0x0025) {\n    return [numberEndIndex + 1, ['<percentage-token>', numberValue]];\n  }\n\n  return [numberEndIndex, ['<number-token>', numberValue, numberFlag]];\n};\nvar consumeNumber = function consumeNumber(str, index) {\n  if (str.length <= index) return null;\n  var flag = 'integer';\n  var numberChars = [];\n  var firstCode = str.charCodeAt(index);\n\n  if (firstCode === 0x002b || firstCode === 0x002d) {\n    index += 1;\n    if (firstCode === 0x002d) numberChars.push(0x002d);\n  }\n\n  while (index < str.length) {\n    var code = str.charCodeAt(index);\n\n    if (code >= 0x0030 && code <= 0x0039) {\n      numberChars.push(code);\n      index += 1;\n    } else {\n      break;\n    }\n  }\n\n  if (index + 1 < str.length) {\n    var nextCode = str.charCodeAt(index);\n    var nextNextCode = str.charCodeAt(index + 1);\n\n    if (nextCode === 0x002e && nextNextCode >= 0x0030 && nextNextCode <= 0x0039) {\n      numberChars.push(nextCode, nextNextCode);\n      flag = 'number';\n      index += 2;\n\n      while (index < str.length) {\n        var code = str.charCodeAt(index);\n\n        if (code >= 0x0030 && code <= 0x0039) {\n          numberChars.push(code);\n          index += 1;\n        } else {\n          break;\n        }\n      }\n    }\n  }\n\n  if (index + 1 < str.length) {\n    var nextCode = str.charCodeAt(index);\n    var nextNextCode = str.charCodeAt(index + 1);\n    var nextNextNextCode = str.charCodeAt(index + 2);\n\n    if (nextCode === 0x0045 || nextCode === 0x0065) {\n      var nextNextIsDigit = nextNextCode >= 0x0030 && nextNextCode <= 0x0039;\n\n      if (nextNextIsDigit || (nextNextCode === 0x002b || nextNextCode === 0x002d) && nextNextNextCode >= 0x0030 && nextNextNextCode <= 0x0039) {\n        flag = 'number';\n\n        if (nextNextIsDigit) {\n          numberChars.push(0x0045, nextNextCode);\n          index += 2;\n        } else if (nextNextCode === 0x002d) {\n          numberChars.push(0x0045, 0x002d, nextNextNextCode);\n          index += 3;\n        } else {\n          numberChars.push(0x0045, nextNextNextCode);\n          index += 3;\n        }\n\n        while (index < str.length) {\n          var code = str.charCodeAt(index);\n\n          if (code >= 0x0030 && code <= 0x0039) {\n            numberChars.push(code);\n            index += 1;\n          } else {\n            break;\n          }\n        }\n      }\n    }\n  }\n\n  var numberString = String.fromCharCode.apply(null, numberChars);\n  var value = flag === 'number' ? parseFloat(numberString) : parseInt(numberString);\n  if (value === -0) value = 0;\n  return Number.isNaN(value) ? null : [index - 1, value, flag];\n};\nvar consumeIdentUnsafe = function consumeIdentUnsafe(str, index) {\n  if (str.length <= index) {\n    return null;\n  }\n\n  var identChars = [];\n\n  for (var code = str.charCodeAt(index); index < str.length; code = str.charCodeAt(++index)) {\n    if (code === 0x002d || code === 0x005f || code >= 0x0041 && code <= 0x005a || code >= 0x0061 && code <= 0x007a || code >= 0x0080 || code >= 0x0030 && code <= 0x0039) {\n      identChars.push(code);\n      continue;\n    } else {\n      var result = consumeEscape(str, index);\n\n      if (result !== null) {\n        var _a = __read(result, 2),\n            lastIndex = _a[0],\n            code_4 = _a[1];\n\n        identChars.push(code_4);\n        index = lastIndex;\n        continue;\n      }\n    }\n\n    break;\n  }\n\n  return index === 0 ? null : [index - 1, String.fromCharCode.apply(null, identChars)];\n};\nvar consumeIdent = function consumeIdent(str, index) {\n  if (str.length <= index || !wouldStartIdentifier(str, index)) {\n    return null;\n  }\n\n  var identChars = [];\n\n  for (var code = str.charCodeAt(index); index < str.length; code = str.charCodeAt(++index)) {\n    if (code === 0x002d || code === 0x005f || code >= 0x0041 && code <= 0x005a || code >= 0x0061 && code <= 0x007a || code >= 0x0080 || code >= 0x0030 && code <= 0x0039) {\n      identChars.push(code);\n      continue;\n    } else {\n      var result = consumeEscape(str, index);\n\n      if (result !== null) {\n        var _a = __read(result, 2),\n            lastIndex = _a[0],\n            code_5 = _a[1];\n\n        identChars.push(code_5);\n        index = lastIndex;\n        continue;\n      }\n    }\n\n    break;\n  }\n\n  return [index - 1, String.fromCharCode.apply(null, identChars)];\n};\nvar consumeUrl = function consumeUrl(str, index) {\n  var code = str.charCodeAt(index);\n\n  while (code === 0x0009 || code === 0x0020 || code === 0x000a) {\n    code = str.charCodeAt(++index);\n  }\n\n  var urlChars = [];\n  var hasFinishedWord = false;\n\n  while (index < str.length) {\n    if (code === 0x0029) {\n      return [index, String.fromCharCode.apply(null, urlChars)];\n    } else if (code === 0x0022 || code === 0x0027 || code === 0x0028) {\n      return null;\n    } else if (code === 0x0009 || code === 0x0020 || code === 0x000a) {\n      if (!hasFinishedWord && urlChars.length !== 0) hasFinishedWord = true;\n    } else if (code === 0x005c) {\n      var result = consumeEscape(str, index);\n      if (result === null || hasFinishedWord) return null;\n\n      var _a = __read(result, 2),\n          lastIndex = _a[0],\n          value = _a[1];\n\n      urlChars.push(value);\n      index = lastIndex;\n    } else {\n      if (hasFinishedWord) return null;\n      urlChars.push(code);\n    }\n\n    code = str.charCodeAt(++index);\n  }\n\n  return null;\n};\nvar consumeIdentLike = function consumeIdentLike(str, index) {\n  var result = consumeIdent(str, index);\n  if (result === null) return null;\n\n  var _a = __read(result, 2),\n      lastIndex = _a[0],\n      value = _a[1];\n\n  if (value.toLowerCase() === 'url') {\n    if (str.length > lastIndex + 1) {\n      var nextCode = str.charCodeAt(lastIndex + 1);\n\n      if (nextCode === 0x0028) {\n        for (var offset = 2; lastIndex + offset < str.length; offset += 1) {\n          var nextNextCode = str.charCodeAt(lastIndex + offset);\n\n          if (nextNextCode === 0x0022 || nextNextCode === 0x0027) {\n            return [lastIndex + 1, value.toLowerCase(), '<function-token>'];\n          } else if (nextNextCode !== 0x0009 && nextNextCode !== 0x0020 && nextNextCode !== 0x000a) {\n            var result_1 = consumeUrl(str, lastIndex + offset);\n            if (result_1 === null) return null;\n\n            var _b = __read(result_1, 2),\n                lastUrlIndex = _b[0],\n                value_1 = _b[1];\n\n            return [lastUrlIndex, value_1, '<url-token>'];\n          }\n        }\n\n        return [lastIndex + 1, value.toLowerCase(), '<function-token>'];\n      }\n    }\n  } else if (str.length > lastIndex + 1) {\n    var nextCode = str.charCodeAt(lastIndex + 1);\n\n    if (nextCode === 0x0028) {\n      return [lastIndex + 1, value.toLowerCase(), '<function-token>'];\n    }\n  }\n\n  return [lastIndex, value.toLowerCase(), '<ident-token>'];\n};\n\nvar simplifyAST = function simplifyAST(ast) {\n  for (var i = ast.length - 1; i >= 0; i--) {\n    ast[i] = simplifyMediaQuery(ast[i]);\n  }\n\n  return ast;\n};\n\nvar simplifyMediaQuery = function simplifyMediaQuery(mediaQuery) {\n  if (mediaQuery.mediaCondition === null) return mediaQuery;\n  var mediaCondition = simplifyMediaCondition(mediaQuery.mediaCondition);\n\n  if (mediaCondition.operator === null && mediaCondition.children.length === 1 && 'children' in mediaCondition.children[0]) {\n    mediaCondition = mediaCondition.children[0];\n  }\n\n  return {\n    mediaPrefix: mediaQuery.mediaPrefix,\n    mediaType: mediaQuery.mediaType,\n    mediaCondition: mediaCondition\n  };\n};\n\nvar simplifyMediaCondition = function simplifyMediaCondition(mediaCondition) {\n  for (var i = mediaCondition.children.length - 1; i >= 0; i--) {\n    var unsimplifiedChild = mediaCondition.children[i];\n\n    if (!('context' in unsimplifiedChild)) {\n      var child = simplifyMediaCondition(unsimplifiedChild);\n\n      if (child.operator === null && child.children.length === 1) {\n        mediaCondition.children[i] = child.children[0];\n      } else if (child.operator === mediaCondition.operator && (child.operator === 'and' || child.operator === 'or')) {\n        var spliceArgs = [i, 1];\n\n        for (var i_1 = 0; i_1 < child.children.length; i_1++) {\n          spliceArgs.push(child.children[i_1]);\n        }\n\n        mediaCondition.children.splice.apply(mediaCondition.children, spliceArgs);\n      }\n    }\n  }\n\n  return mediaCondition;\n};\n\nvar createError = function createError(message, err) {\n  if (err instanceof Error) {\n    return new Error(\"\".concat(err.message.trim(), \"\\n\").concat(message.trim()));\n  } else {\n    return new Error(message.trim());\n  }\n};\n\nvar toAST = function toAST(str) {\n  return simplifyAST(toUnflattenedAST(str));\n};\nvar toUnflattenedAST = function toUnflattenedAST(str) {\n  var tokenList = lexicalAnalysis(str.trim());\n\n  if (tokenList === null) {\n    throw createError('Failed tokenizing');\n  }\n\n  var startIndex = 0;\n  var endIndex = tokenList.length - 1;\n\n  if (tokenList[0].type === '<at-keyword-token>' && tokenList[0].value === 'media') {\n    if (tokenList[1].type !== '<whitespace-token>') {\n      throw createError('Expected whitespace after media');\n    }\n\n    startIndex = 2;\n\n    for (var i = 2; i < tokenList.length - 1; i++) {\n      var token = tokenList[i];\n\n      if (token.type === '<{-token>') {\n        endIndex = i;\n        break;\n      } else if (token.type === '<semicolon-token>') {\n        throw createError(\"Expected '{' in media query but found ';'\");\n      }\n    }\n  }\n\n  tokenList = tokenList.slice(startIndex, endIndex);\n  return syntacticAnalysis(tokenList);\n};\nvar removeWhitespace = function removeWhitespace(tokenList) {\n  var newTokenList = [];\n  var before = false;\n\n  for (var i = 0; i < tokenList.length; i++) {\n    if (tokenList[i].type === '<whitespace-token>') {\n      before = true;\n\n      if (newTokenList.length > 0) {\n        newTokenList[newTokenList.length - 1].wsAfter = true;\n      }\n    } else {\n      newTokenList.push(__assign(__assign({}, tokenList[i]), {\n        wsBefore: before,\n        wsAfter: false\n      }));\n      before = false;\n    }\n  }\n\n  return newTokenList;\n};\nvar syntacticAnalysis = function syntacticAnalysis(tokenList) {\n  var e_1, _a;\n\n  var mediaQueryList = [[]];\n\n  for (var i = 0; i < tokenList.length; i++) {\n    var token = tokenList[i];\n\n    if (token.type === '<comma-token>') {\n      mediaQueryList.push([]);\n    } else {\n      mediaQueryList[mediaQueryList.length - 1].push(token);\n    }\n  }\n\n  var mediaQueries = mediaQueryList.map(removeWhitespace);\n\n  if (mediaQueries.length === 1 && mediaQueries[0].length === 0) {\n    return [{\n      mediaCondition: null,\n      mediaPrefix: null,\n      mediaType: 'all'\n    }];\n  } else {\n    var mediaQueryTokens = mediaQueries.map(function (mediaQueryTokens) {\n      if (mediaQueryTokens.length === 0) {\n        return null;\n      } else {\n        return tokenizeMediaQuery(mediaQueryTokens);\n      }\n    });\n    var nonNullMediaQueryTokens = [];\n\n    try {\n      for (var mediaQueryTokens_1 = __values(mediaQueryTokens), mediaQueryTokens_1_1 = mediaQueryTokens_1.next(); !mediaQueryTokens_1_1.done; mediaQueryTokens_1_1 = mediaQueryTokens_1.next()) {\n        var mediaQueryToken = mediaQueryTokens_1_1.value;\n\n        if (mediaQueryToken !== null) {\n          nonNullMediaQueryTokens.push(mediaQueryToken);\n        }\n      }\n    } catch (e_1_1) {\n      e_1 = {\n        error: e_1_1\n      };\n    } finally {\n      try {\n        if (mediaQueryTokens_1_1 && !mediaQueryTokens_1_1.done && (_a = mediaQueryTokens_1[\"return\"])) _a.call(mediaQueryTokens_1);\n      } finally {\n        if (e_1) throw e_1.error;\n      }\n    }\n\n    if (nonNullMediaQueryTokens.length === 0) {\n      throw createError('No valid media queries');\n    }\n\n    return nonNullMediaQueryTokens;\n  }\n};\nvar tokenizeMediaQuery = function tokenizeMediaQuery(tokens) {\n  var firstToken = tokens[0];\n\n  if (firstToken.type === '<(-token>') {\n    try {\n      return {\n        mediaPrefix: null,\n        mediaType: 'all',\n        mediaCondition: tokenizeMediaCondition(tokens, true)\n      };\n    } catch (err) {\n      throw createError(\"Expected media condition after '('\", err);\n    }\n  } else if (firstToken.type === '<ident-token>') {\n    var mediaPrefix = null;\n    var mediaType = void 0;\n    var value = firstToken.value;\n\n    if (value === 'only' || value === 'not') {\n      mediaPrefix = value;\n    }\n\n    var firstIndex = mediaPrefix === null ? 0 : 1;\n\n    if (tokens.length <= firstIndex) {\n      throw createError(\"Expected extra token in media query\");\n    }\n\n    var firstNonUnaryToken = tokens[firstIndex];\n\n    if (firstNonUnaryToken.type === '<ident-token>') {\n      var value_1 = firstNonUnaryToken.value;\n\n      if (value_1 === 'all') {\n        mediaType = 'all';\n      } else if (value_1 === 'print' || value_1 === 'screen') {\n        mediaType = value_1;\n      } else if (value_1 === 'tty' || value_1 === 'tv' || value_1 === 'projection' || value_1 === 'handheld' || value_1 === 'braille' || value_1 === 'embossed' || value_1 === 'aural' || value_1 === 'speech') {\n        mediaPrefix = mediaPrefix === 'not' ? null : 'not';\n        mediaType = 'all';\n      } else {\n        throw createError(\"Unknown ident '\".concat(value_1, \"' in media query\"));\n      }\n    } else if (mediaPrefix === 'not' && firstNonUnaryToken.type === '<(-token>') {\n      var tokensWithParens = [{\n        type: '<(-token>',\n        wsBefore: false,\n        wsAfter: false\n      }];\n      tokensWithParens.push.apply(tokensWithParens, tokens);\n      tokensWithParens.push({\n        type: '<)-token>',\n        wsBefore: false,\n        wsAfter: false\n      });\n\n      try {\n        return {\n          mediaPrefix: null,\n          mediaType: 'all',\n          mediaCondition: tokenizeMediaCondition(tokensWithParens, true)\n        };\n      } catch (err) {\n        throw createError(\"Expected media condition after '('\", err);\n      }\n    } else {\n      throw createError('Invalid media query');\n    }\n\n    if (firstIndex + 1 === tokens.length) {\n      return {\n        mediaPrefix: mediaPrefix,\n        mediaType: mediaType,\n        mediaCondition: null\n      };\n    } else if (firstIndex + 4 < tokens.length) {\n      var secondNonUnaryToken = tokens[firstIndex + 1];\n\n      if (secondNonUnaryToken.type === '<ident-token>' && secondNonUnaryToken.value === 'and') {\n        try {\n          return {\n            mediaPrefix: mediaPrefix,\n            mediaType: mediaType,\n            mediaCondition: tokenizeMediaCondition(tokens.slice(firstIndex + 2), false)\n          };\n        } catch (err) {\n          throw createError(\"Expected media condition after 'and'\", err);\n        }\n      } else {\n        throw createError(\"Expected 'and' after media prefix\");\n      }\n    } else {\n      throw createError('Expected media condition after media prefix');\n    }\n  } else {\n    throw createError('Expected media condition or media prefix');\n  }\n};\nvar tokenizeMediaCondition = function tokenizeMediaCondition(tokens, mayContainOr, previousOperator) {\n  if (previousOperator === void 0) {\n    previousOperator = null;\n  }\n\n  if (tokens.length < 3 || tokens[0].type !== '<(-token>' || tokens[tokens.length - 1].type !== '<)-token>') {\n    throw new Error('Invalid media condition');\n  }\n\n  var endIndexOfFirstFeature = tokens.length - 1;\n  var maxDepth = 0;\n  var count = 0;\n\n  for (var i = 0; i < tokens.length; i++) {\n    var token = tokens[i];\n\n    if (token.type === '<(-token>') {\n      count += 1;\n      maxDepth = Math.max(maxDepth, count);\n    } else if (token.type === '<)-token>') {\n      count -= 1;\n    }\n\n    if (count === 0) {\n      endIndexOfFirstFeature = i;\n      break;\n    }\n  }\n\n  if (count !== 0) {\n    throw new Error('Mismatched parens\\nInvalid media condition');\n  }\n\n  var child;\n  var featureTokens = tokens.slice(0, endIndexOfFirstFeature + 1);\n\n  if (maxDepth === 1) {\n    child = tokenizeMediaFeature(featureTokens);\n  } else {\n    if (featureTokens[1].type === '<ident-token>' && featureTokens[1].value === 'not') {\n      child = tokenizeMediaCondition(featureTokens.slice(2, -1), true, 'not');\n    } else {\n      child = tokenizeMediaCondition(featureTokens.slice(1, -1), true);\n    }\n  }\n\n  if (endIndexOfFirstFeature === tokens.length - 1) {\n    return {\n      operator: previousOperator,\n      children: [child]\n    };\n  } else {\n    var nextToken = tokens[endIndexOfFirstFeature + 1];\n\n    if (nextToken.type !== '<ident-token>') {\n      throw new Error('Invalid operator\\nInvalid media condition');\n    } else if (previousOperator !== null && previousOperator !== nextToken.value) {\n      throw new Error(\"'\".concat(nextToken.value, \"' and '\").concat(previousOperator, \"' must not be at same level\\nInvalid media condition\"));\n    } else if (nextToken.value === 'or' && !mayContainOr) {\n      throw new Error(\"Cannot use 'or' at top level of a media query\\nInvalid media condition\");\n    } else if (nextToken.value !== 'and' && nextToken.value !== 'or') {\n      throw new Error(\"Invalid operator: '\".concat(nextToken.value, \"'\\nInvalid media condition\"));\n    }\n\n    var siblings = tokenizeMediaCondition(tokens.slice(endIndexOfFirstFeature + 2), mayContainOr, nextToken.value);\n    return {\n      operator: nextToken.value,\n      children: [child].concat(siblings.children)\n    };\n  }\n};\nvar tokenizeMediaFeature = function tokenizeMediaFeature(rawTokens) {\n  if (rawTokens.length < 3 || rawTokens[0].type !== '<(-token>' || rawTokens[rawTokens.length - 1].type !== '<)-token>') {\n    throw new Error('Invalid media feature');\n  }\n\n  var tokens = [rawTokens[0]];\n\n  for (var i = 1; i < rawTokens.length; i++) {\n    if (i < rawTokens.length - 2) {\n      var a = rawTokens[i];\n      var b = rawTokens[i + 1];\n      var c = rawTokens[i + 2];\n\n      if (a.type === '<number-token>' && a.value > 0 && b.type === '<delim-token>' && b.value === 0x002f && c.type === '<number-token>' && c.value > 0) {\n        tokens.push({\n          type: '<ratio-token>',\n          numerator: a.value,\n          denominator: c.value,\n          wsBefore: a.wsBefore,\n          wsAfter: c.wsAfter\n        });\n        i += 2;\n        continue;\n      }\n    }\n\n    tokens.push(rawTokens[i]);\n  }\n\n  var nextToken = tokens[1];\n\n  if (nextToken.type === '<ident-token>' && tokens.length === 3) {\n    return {\n      context: 'boolean',\n      feature: nextToken.value\n    };\n  } else if (tokens.length === 5 && tokens[1].type === '<ident-token>' && tokens[2].type === '<colon-token>') {\n    var valueToken = tokens[3];\n\n    if (valueToken.type === '<number-token>' || valueToken.type === '<dimension-token>' || valueToken.type === '<ratio-token>' || valueToken.type === '<ident-token>') {\n      var feature = tokens[1].value;\n      var prefix = null;\n      var slice = feature.slice(0, 4);\n\n      if (slice === 'min-') {\n        prefix = 'min';\n        feature = feature.slice(4);\n      } else if (slice === 'max-') {\n        prefix = 'max';\n        feature = feature.slice(4);\n      }\n\n      valueToken.wsBefore;\n          valueToken.wsAfter;\n          var value = __rest(valueToken, [\"wsBefore\", \"wsAfter\"]);\n\n      return {\n        context: 'value',\n        prefix: prefix,\n        feature: feature,\n        value: value\n      };\n    }\n  } else if (tokens.length >= 5) {\n    try {\n      var range = tokenizeRange(tokens);\n      return {\n        context: 'range',\n        feature: range.featureName,\n        range: range\n      };\n    } catch (err) {\n      throw createError('Invalid media feature', err);\n    }\n  }\n\n  throw new Error('Invalid media feature');\n};\nvar tokenizeRange = function tokenizeRange(tokens) {\n  var _a, _b, _c, _d;\n\n  if (tokens.length < 5 || tokens[0].type !== '<(-token>' || tokens[tokens.length - 1].type !== '<)-token>') {\n    throw new Error('Invalid range');\n  }\n\n  var range = {\n    leftToken: null,\n    leftOp: null,\n    featureName: '',\n    rightOp: null,\n    rightToken: null\n  };\n  var hasLeft = tokens[1].type === '<number-token>' || tokens[1].type === '<dimension-token>' || tokens[1].type === '<ratio-token>' || tokens[1].type === '<ident-token>' && tokens[1].value === 'infinite';\n\n  if (tokens[2].type === '<delim-token>') {\n    if (tokens[2].value === 0x003c) {\n      if (tokens[3].type === '<delim-token>' && tokens[3].value === 0x003d && !tokens[3].wsBefore) {\n        range[hasLeft ? 'leftOp' : 'rightOp'] = '<=';\n      } else {\n        range[hasLeft ? 'leftOp' : 'rightOp'] = '<';\n      }\n    } else if (tokens[2].value === 0x003e) {\n      if (tokens[3].type === '<delim-token>' && tokens[3].value === 0x003d && !tokens[3].wsBefore) {\n        range[hasLeft ? 'leftOp' : 'rightOp'] = '>=';\n      } else {\n        range[hasLeft ? 'leftOp' : 'rightOp'] = '>';\n      }\n    } else if (tokens[2].value === 0x003d) {\n      range[hasLeft ? 'leftOp' : 'rightOp'] = '=';\n    } else {\n      throw new Error('Invalid range');\n    }\n\n    if (hasLeft) {\n      range.leftToken = tokens[1];\n    } else if (tokens[1].type === '<ident-token>') {\n      range.featureName = tokens[1].value;\n    } else {\n      throw new Error('Invalid range');\n    }\n\n    var tokenIndexAfterFirstOp = 2 + ((_b = (_a = range[hasLeft ? 'leftOp' : 'rightOp']) === null || _a === void 0 ? void 0 : _a.length) !== null && _b !== void 0 ? _b : 0);\n    var tokenAfterFirstOp = tokens[tokenIndexAfterFirstOp];\n\n    if (hasLeft) {\n      if (tokenAfterFirstOp.type === '<ident-token>') {\n        range.featureName = tokenAfterFirstOp.value;\n\n        if (tokens.length >= 7) {\n          var secondOpToken = tokens[tokenIndexAfterFirstOp + 1];\n          var followingToken = tokens[tokenIndexAfterFirstOp + 2];\n\n          if (secondOpToken.type === '<delim-token>') {\n            var charCode = secondOpToken.value;\n\n            if (charCode === 0x003c) {\n              if (followingToken.type === '<delim-token>' && followingToken.value === 0x003d && !followingToken.wsBefore) {\n                range.rightOp = '<=';\n              } else {\n                range.rightOp = '<';\n              }\n            } else if (charCode === 0x003e) {\n              if (followingToken.type === '<delim-token>' && followingToken.value === 0x003d && !followingToken.wsBefore) {\n                range.rightOp = '>=';\n              } else {\n                range.rightOp = '>';\n              }\n            } else {\n              throw new Error('Invalid range');\n            }\n\n            var tokenAfterSecondOp = tokens[tokenIndexAfterFirstOp + 1 + ((_d = (_c = range.rightOp) === null || _c === void 0 ? void 0 : _c.length) !== null && _d !== void 0 ? _d : 0)];\n            range.rightToken = tokenAfterSecondOp;\n          } else {\n            throw new Error('Invalid range');\n          }\n        } else if (tokenIndexAfterFirstOp + 2 !== tokens.length) {\n          throw new Error('Invalid range');\n        }\n      } else {\n        throw new Error('Invalid range');\n      }\n    } else {\n      range.rightToken = tokenAfterFirstOp;\n    }\n\n    var validRange = null;\n    var lt = range.leftToken,\n        leftOp = range.leftOp,\n        featureName = range.featureName,\n        rightOp = range.rightOp,\n        rt = range.rightToken;\n    var leftToken = null;\n\n    if (lt !== null) {\n      if (lt.type === '<ident-token>') {\n        var type = lt.type,\n            value = lt.value;\n\n        if (value === 'infinite') {\n          leftToken = {\n            type: type,\n            value: value\n          };\n        }\n      } else if (lt.type === '<number-token>' || lt.type === '<dimension-token>' || lt.type === '<ratio-token>') {\n        lt.wsBefore;\n            lt.wsAfter;\n            var ltNoWS = __rest(lt, [\"wsBefore\", \"wsAfter\"]);\n\n        leftToken = ltNoWS;\n      }\n    }\n\n    var rightToken = null;\n\n    if (rt !== null) {\n      if (rt.type === '<ident-token>') {\n        var type = rt.type,\n            value = rt.value;\n\n        if (value === 'infinite') {\n          rightToken = {\n            type: type,\n            value: value\n          };\n        }\n      } else if (rt.type === '<number-token>' || rt.type === '<dimension-token>' || rt.type === '<ratio-token>') {\n        rt.wsBefore;\n            rt.wsAfter;\n            var rtNoWS = __rest(rt, [\"wsBefore\", \"wsAfter\"]);\n\n        rightToken = rtNoWS;\n      }\n    }\n\n    if (leftToken !== null && rightToken !== null) {\n      if ((leftOp === '<' || leftOp === '<=') && (rightOp === '<' || rightOp === '<=')) {\n        validRange = {\n          leftToken: leftToken,\n          leftOp: leftOp,\n          featureName: featureName,\n          rightOp: rightOp,\n          rightToken: rightToken\n        };\n      } else if ((leftOp === '>' || leftOp === '>=') && (rightOp === '>' || rightOp === '>=')) {\n        validRange = {\n          leftToken: leftToken,\n          leftOp: leftOp,\n          featureName: featureName,\n          rightOp: rightOp,\n          rightToken: rightToken\n        };\n      } else {\n        throw new Error('Invalid range');\n      }\n    } else if (leftToken === null && leftOp === null && rightOp !== null && rightToken !== null) {\n      validRange = {\n        leftToken: leftToken,\n        leftOp: leftOp,\n        featureName: featureName,\n        rightOp: rightOp,\n        rightToken: rightToken\n      };\n    } else if (leftToken !== null && leftOp !== null && rightOp === null && rightToken === null) {\n      validRange = {\n        leftToken: leftToken,\n        leftOp: leftOp,\n        featureName: featureName,\n        rightOp: rightOp,\n        rightToken: rightToken\n      };\n    }\n\n    return validRange;\n  } else {\n    throw new Error('Invalid range');\n  }\n};\n\nexport { consumeEscape, consumeIdent, consumeIdentLike, consumeIdentUnsafe, consumeNumber, consumeNumeric, consumeString, consumeUrl, lexicalAnalysis, removeWhitespace, syntacticAnalysis, toAST, toUnflattenedAST, tokenizeMediaCondition, tokenizeMediaFeature, tokenizeMediaQuery, tokenizeRange, wouldStartIdentifier };\n//# sourceMappingURL=media-query-parser.esm.js.map\n","import { getVarName } from '@vanilla-extract/private';\nimport cssesc from 'cssesc';\nimport AhoCorasick from 'modern-ahocorasick';\nimport { markCompositionUsed } from '../adapter/dist/vanilla-extract-css-adapter.browser.esm.js';\nimport { _ as _taggedTemplateLiteral } from './taggedTemplateLiteral-8e47dbd7.browser.esm.js';\nimport { parse } from 'css-what';\nimport dedent from 'dedent';\nimport { toAST } from 'media-query-parser';\n\nfunction toPrimitive(t, r) {\n  if (\"object\" != typeof t || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != typeof i) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\n\nfunction toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == typeof i ? i : String(i);\n}\n\nfunction _defineProperty(obj, key, value) {\n  key = toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\n\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread2(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\n\nfunction forEach(obj, fn) {\n  for (var _key in obj) {\n    fn(obj[_key], _key);\n  }\n}\nfunction omit(obj, omitKeys) {\n  var result = {};\n  for (var _key2 in obj) {\n    if (omitKeys.indexOf(_key2) === -1) {\n      result[_key2] = obj[_key2];\n    }\n  }\n  return result;\n}\nfunction mapKeys(obj, fn) {\n  var result = {};\n  for (var _key3 in obj) {\n    result[fn(obj[_key3], _key3)] = obj[_key3];\n  }\n  return result;\n}\nfunction composeStylesIntoSet(set) {\n  for (var _len = arguments.length, classNames = new Array(_len > 1 ? _len - 1 : 0), _key5 = 1; _key5 < _len; _key5++) {\n    classNames[_key5 - 1] = arguments[_key5];\n  }\n  for (var className of classNames) {\n    if (className.length === 0) {\n      continue;\n    }\n    if (typeof className === 'string') {\n      if (className.includes(' ')) {\n        composeStylesIntoSet(set, ...className.trim().split(' '));\n      } else {\n        set.add(className);\n      }\n    } else if (Array.isArray(className)) {\n      composeStylesIntoSet(set, ...className);\n    }\n  }\n}\nfunction dedupeAndJoinClassList(classNames) {\n  var set = new Set();\n  composeStylesIntoSet(set, ...classNames);\n  return Array.from(set).join(' ');\n}\n\nvar _templateObject$1;\n\n// https://stackoverflow.com/questions/3561493/is-there-a-regexp-escape-function-in-javascript\nfunction escapeRegex(string) {\n  return string.replace(/[-/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n}\nvar validateSelector = (selector, targetClassName) => {\n  var replaceTarget = () => {\n    var targetRegex = new RegExp(\".\".concat(escapeRegex(cssesc(targetClassName, {\n      isIdentifier: true\n    }))), 'g');\n    return selector.replace(targetRegex, '&');\n  };\n  var selectorParts;\n  try {\n    selectorParts = parse(selector);\n  } catch (err) {\n    throw new Error(\"Invalid selector: \".concat(replaceTarget()), {\n      cause: err\n    });\n  }\n  selectorParts.forEach(tokens => {\n    try {\n      for (var i = tokens.length - 1; i >= -1; i--) {\n        if (!tokens[i]) {\n          throw new Error();\n        }\n        var token = tokens[i];\n        if (token.type === 'child' || token.type === 'parent' || token.type === 'sibling' || token.type === 'adjacent' || token.type === 'descendant') {\n          throw new Error();\n        }\n        if (token.type === 'attribute' && token.name === 'class' && token.value === targetClassName) {\n          return; // Found it\n        }\n      }\n    } catch (err) {\n      throw new Error(dedent(_templateObject$1 || (_templateObject$1 = _taggedTemplateLiteral([\"\\n        Invalid selector: \", \"\\n    \\n        Style selectors must target the '&' character (along with any modifiers), e.g. \", \" or \", \".\\n        \\n        This is to ensure that each style block only affects the styling of a single class.\\n        \\n        If your selector is targeting another class, you should move it to the style definition for that class, e.g. given we have styles for 'parent' and 'child' elements, instead of adding a selector of \", \") to 'parent', you should add \", \" to 'child').\\n        \\n        If your selector is targeting something global, use the 'globalStyle' function instead, e.g. if you wanted to write \", \", you should instead write 'globalStyle(\", \", { ... })'\\n      \"])), replaceTarget(), '`${parent} &`', '`${parent} &:hover`', '`& ${child}`', '`${parent} &`', '`& h1`', '`${parent} h1`'), {\n        cause: err\n      });\n    }\n  });\n};\n\n/** e.g. @media screen and (min-width: 500px) */\n\nclass ConditionalRuleset {\n  /**\n   * Stores information about where conditions must be in relation to other conditions\n   *\n   * e.g. mobile -> tablet, desktop\n   */\n\n  constructor() {\n    this.ruleset = new Map();\n    this.precedenceLookup = new Map();\n  }\n  findOrCreateCondition(conditionQuery) {\n    var targetCondition = this.ruleset.get(conditionQuery);\n    if (!targetCondition) {\n      // No target condition so create one\n      targetCondition = {\n        query: conditionQuery,\n        rules: [],\n        children: new ConditionalRuleset()\n      };\n      this.ruleset.set(conditionQuery, targetCondition);\n    }\n    return targetCondition;\n  }\n  getConditionalRulesetByPath(conditionPath) {\n    var currRuleset = this;\n    for (var query of conditionPath) {\n      var condition = currRuleset.findOrCreateCondition(query);\n      currRuleset = condition.children;\n    }\n    return currRuleset;\n  }\n  addRule(rule, conditionQuery, conditionPath) {\n    var ruleset = this.getConditionalRulesetByPath(conditionPath);\n    var targetCondition = ruleset.findOrCreateCondition(conditionQuery);\n    if (!targetCondition) {\n      throw new Error('Failed to add conditional rule');\n    }\n    targetCondition.rules.push(rule);\n  }\n  addConditionPrecedence(conditionPath, conditionOrder) {\n    var ruleset = this.getConditionalRulesetByPath(conditionPath);\n    for (var i = 0; i < conditionOrder.length; i++) {\n      var _ruleset$precedenceLo;\n      var query = conditionOrder[i];\n      var conditionPrecedence = (_ruleset$precedenceLo = ruleset.precedenceLookup.get(query)) !== null && _ruleset$precedenceLo !== void 0 ? _ruleset$precedenceLo : new Set();\n      for (var lowerPrecedenceCondition of conditionOrder.slice(i + 1)) {\n        conditionPrecedence.add(lowerPrecedenceCondition);\n      }\n      ruleset.precedenceLookup.set(query, conditionPrecedence);\n    }\n  }\n  isCompatible(incomingRuleset) {\n    for (var [condition, orderPrecedence] of this.precedenceLookup.entries()) {\n      for (var lowerPrecedenceCondition of orderPrecedence) {\n        var _incomingRuleset$prec;\n        if ((_incomingRuleset$prec = incomingRuleset.precedenceLookup.get(lowerPrecedenceCondition)) !== null && _incomingRuleset$prec !== void 0 && _incomingRuleset$prec.has(condition)) {\n          return false;\n        }\n      }\n    }\n\n    // Check that children are compatible\n    for (var {\n      query,\n      children\n    } of incomingRuleset.ruleset.values()) {\n      var matchingCondition = this.ruleset.get(query);\n      if (matchingCondition && !matchingCondition.children.isCompatible(children)) {\n        return false;\n      }\n    }\n    return true;\n  }\n  merge(incomingRuleset) {\n    // Merge rulesets into one array\n    for (var {\n      query,\n      rules,\n      children\n    } of incomingRuleset.ruleset.values()) {\n      var matchingCondition = this.ruleset.get(query);\n      if (matchingCondition) {\n        matchingCondition.rules.push(...rules);\n        matchingCondition.children.merge(children);\n      } else {\n        this.ruleset.set(query, {\n          query,\n          rules,\n          children\n        });\n      }\n    }\n\n    // Merge order precedences\n    for (var [condition, incomingOrderPrecedence] of incomingRuleset.precedenceLookup.entries()) {\n      var _this$precedenceLooku;\n      var orderPrecedence = (_this$precedenceLooku = this.precedenceLookup.get(condition)) !== null && _this$precedenceLooku !== void 0 ? _this$precedenceLooku : new Set();\n      this.precedenceLookup.set(condition, new Set([...orderPrecedence, ...incomingOrderPrecedence]));\n    }\n  }\n\n  /**\n   * Merge another ConditionalRuleset into this one if they are compatible\n   *\n   * @returns true if successful, false if the ruleset is incompatible\n   */\n  mergeIfCompatible(incomingRuleset) {\n    if (!this.isCompatible(incomingRuleset)) {\n      return false;\n    }\n    this.merge(incomingRuleset);\n    return true;\n  }\n  getSortedRuleset() {\n    var _this = this;\n    var sortedRuleset = [];\n\n    // Loop through all queries and add them to the sorted ruleset\n    var _loop = function _loop(dependents) {\n      var conditionForQuery = _this.ruleset.get(query);\n      if (!conditionForQuery) {\n        throw new Error(\"Can't find condition for \".concat(query));\n      }\n\n      // Find the location of the first dependent condition in the sortedRuleset\n      // A dependent condition is a condition that must be placed *after* the current one\n      var firstMatchingDependent = sortedRuleset.findIndex(condition => dependents.has(condition.query));\n      if (firstMatchingDependent > -1) {\n        // Insert the condition before the dependent one\n        sortedRuleset.splice(firstMatchingDependent, 0, conditionForQuery);\n      } else {\n        // No match, just insert at the end\n        sortedRuleset.push(conditionForQuery);\n      }\n    };\n    for (var [query, dependents] of this.precedenceLookup.entries()) {\n      _loop(dependents);\n    }\n    return sortedRuleset;\n  }\n  renderToArray() {\n    var arr = [];\n    for (var {\n      query,\n      rules,\n      children\n    } of this.getSortedRuleset()) {\n      var selectors = {};\n      for (var rule of rules) {\n        selectors[rule.selector] = _objectSpread2(_objectSpread2({}, selectors[rule.selector]), rule.rule);\n      }\n      Object.assign(selectors, ...children.renderToArray());\n      arr.push({\n        [query]: selectors\n      });\n    }\n    return arr;\n  }\n}\n\nvar simplePseudoMap = {\n  ':-moz-any-link': true,\n  ':-moz-full-screen': true,\n  ':-moz-placeholder': true,\n  ':-moz-read-only': true,\n  ':-moz-read-write': true,\n  ':-ms-fullscreen': true,\n  ':-ms-input-placeholder': true,\n  ':-webkit-any-link': true,\n  ':-webkit-full-screen': true,\n  '::-moz-color-swatch': true,\n  '::-moz-list-bullet': true,\n  '::-moz-list-number': true,\n  '::-moz-page-sequence': true,\n  '::-moz-page': true,\n  '::-moz-placeholder': true,\n  '::-moz-progress-bar': true,\n  '::-moz-range-progress': true,\n  '::-moz-range-thumb': true,\n  '::-moz-range-track': true,\n  '::-moz-scrolled-page-sequence': true,\n  '::-moz-selection': true,\n  '::-ms-backdrop': true,\n  '::-ms-browse': true,\n  '::-ms-check': true,\n  '::-ms-clear': true,\n  '::-ms-fill-lower': true,\n  '::-ms-fill-upper': true,\n  '::-ms-fill': true,\n  '::-ms-reveal': true,\n  '::-ms-thumb': true,\n  '::-ms-ticks-after': true,\n  '::-ms-ticks-before': true,\n  '::-ms-tooltip': true,\n  '::-ms-track': true,\n  '::-ms-value': true,\n  '::-webkit-backdrop': true,\n  '::-webkit-calendar-picker-indicator': true,\n  '::-webkit-inner-spin-button': true,\n  '::-webkit-input-placeholder': true,\n  '::-webkit-meter-bar': true,\n  '::-webkit-meter-even-less-good-value': true,\n  '::-webkit-meter-inner-element': true,\n  '::-webkit-meter-optimum-value': true,\n  '::-webkit-meter-suboptimum-value': true,\n  '::-webkit-outer-spin-button': true,\n  '::-webkit-progress-bar': true,\n  '::-webkit-progress-inner-element': true,\n  '::-webkit-progress-inner-value': true,\n  '::-webkit-progress-value': true,\n  '::-webkit-resizer': true,\n  '::-webkit-scrollbar-button': true,\n  '::-webkit-scrollbar-corner': true,\n  '::-webkit-scrollbar-thumb': true,\n  '::-webkit-scrollbar-track-piece': true,\n  '::-webkit-scrollbar-track': true,\n  '::-webkit-scrollbar': true,\n  '::-webkit-search-cancel-button': true,\n  '::-webkit-search-results-button': true,\n  '::-webkit-slider-runnable-track': true,\n  '::-webkit-slider-thumb': true,\n  '::after': true,\n  '::backdrop': true,\n  '::before': true,\n  '::cue': true,\n  '::file-selector-button': true,\n  '::first-letter': true,\n  '::first-line': true,\n  '::grammar-error': true,\n  '::marker': true,\n  '::placeholder': true,\n  '::selection': true,\n  '::spelling-error': true,\n  '::target-text': true,\n  '::view-transition-group': true,\n  '::view-transition-image-pair': true,\n  '::view-transition-new': true,\n  '::view-transition-old': true,\n  '::view-transition': true,\n  ':active': true,\n  ':after': true,\n  ':any-link': true,\n  ':before': true,\n  ':blank': true,\n  ':checked': true,\n  ':default': true,\n  ':defined': true,\n  ':disabled': true,\n  ':empty': true,\n  ':enabled': true,\n  ':first-child': true,\n  ':first-letter': true,\n  ':first-line': true,\n  ':first-of-type': true,\n  ':first': true,\n  ':focus-visible': true,\n  ':focus-within': true,\n  ':focus': true,\n  ':fullscreen': true,\n  ':hover': true,\n  ':in-range': true,\n  ':indeterminate': true,\n  ':invalid': true,\n  ':last-child': true,\n  ':last-of-type': true,\n  ':left': true,\n  ':link': true,\n  ':only-child': true,\n  ':only-of-type': true,\n  ':optional': true,\n  ':out-of-range': true,\n  ':placeholder-shown': true,\n  ':read-only': true,\n  ':read-write': true,\n  ':required': true,\n  ':right': true,\n  ':root': true,\n  ':scope': true,\n  ':target': true,\n  ':valid': true,\n  ':visited': true\n};\nvar simplePseudos = Object.keys(simplePseudoMap);\nvar simplePseudoLookup = simplePseudoMap;\n\nvar _templateObject;\nvar createMediaQueryError = (mediaQuery, msg) => new Error(dedent(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n    Invalid media query: \\\"\", \"\\\"\\n\\n    \", \"\\n\\n    Read more on MDN: https://developer.mozilla.org/en-US/docs/Web/CSS/Media_Queries/Using_media_queries\\n  \"])), mediaQuery, msg));\nvar validateMediaQuery = mediaQuery => {\n  // Empty queries will start with '@media '\n  if (mediaQuery === '@media ') {\n    throw createMediaQueryError(mediaQuery, 'Query is empty');\n  }\n  try {\n    toAST(mediaQuery);\n  } catch (e) {\n    throw createMediaQueryError(mediaQuery, e.message);\n  }\n};\n\nvar _excluded = [\"vars\"],\n  _excluded2 = [\"content\"];\nvar DECLARATION = '__DECLARATION';\nvar UNITLESS = {\n  animationIterationCount: true,\n  borderImage: true,\n  borderImageOutset: true,\n  borderImageSlice: true,\n  borderImageWidth: true,\n  boxFlex: true,\n  boxFlexGroup: true,\n  columnCount: true,\n  columns: true,\n  flex: true,\n  flexGrow: true,\n  flexShrink: true,\n  fontWeight: true,\n  gridArea: true,\n  gridColumn: true,\n  gridColumnEnd: true,\n  gridColumnStart: true,\n  gridRow: true,\n  gridRowEnd: true,\n  gridRowStart: true,\n  initialLetter: true,\n  lineClamp: true,\n  lineHeight: true,\n  maxLines: true,\n  opacity: true,\n  order: true,\n  orphans: true,\n  scale: true,\n  tabSize: true,\n  WebkitLineClamp: true,\n  widows: true,\n  zIndex: true,\n  zoom: true,\n  // svg properties\n  fillOpacity: true,\n  floodOpacity: true,\n  maskBorder: true,\n  maskBorderOutset: true,\n  maskBorderSlice: true,\n  maskBorderWidth: true,\n  shapeImageThreshold: true,\n  stopOpacity: true,\n  strokeDashoffset: true,\n  strokeMiterlimit: true,\n  strokeOpacity: true,\n  strokeWidth: true\n};\nfunction dashify(str) {\n  return str.replace(/([A-Z])/g, '-$1').replace(/^ms-/, '-ms-').toLowerCase();\n}\nfunction replaceBetweenIndexes(target, startIndex, endIndex, replacement) {\n  var start = target.slice(0, startIndex);\n  var end = target.slice(endIndex);\n  return \"\".concat(start).concat(replacement).concat(end);\n}\nvar DOUBLE_SPACE = '  ';\nvar specialKeys = [...simplePseudos, '@layer', '@media', '@supports', '@container', '@starting-style', 'selectors'];\nclass Stylesheet {\n  constructor(localClassNames, composedClassLists) {\n    this.rules = [];\n    this.conditionalRulesets = [new ConditionalRuleset()];\n    this.fontFaceRules = [];\n    this.keyframesRules = [];\n    this.propertyRules = [];\n    this.localClassNamesMap = new Map(localClassNames.map(localClassName => [localClassName, localClassName]));\n    this.localClassNamesSearch = new AhoCorasick(localClassNames);\n    this.layers = new Map();\n\n    // Class list compositions should be priortized by Newer > Older\n    // Therefore we reverse the array as they are added in sequence\n    this.composedClassLists = composedClassLists.map(_ref => {\n      var {\n        identifier,\n        classList\n      } = _ref;\n      return {\n        identifier,\n        regex: RegExp(\"(\".concat(classList, \")\"), 'g')\n      };\n    }).reverse();\n  }\n  processCssObj(root) {\n    if (root.type === 'fontFace') {\n      this.fontFaceRules.push(root.rule);\n      return;\n    }\n    if (root.type === 'property') {\n      this.propertyRules.push(root);\n      return;\n    }\n    if (root.type === 'keyframes') {\n      root.rule = Object.fromEntries(Object.entries(root.rule).map(_ref2 => {\n        var [keyframe, rule] = _ref2;\n        return [keyframe, this.transformVars(this.transformProperties(rule))];\n      }));\n      this.keyframesRules.push(root);\n      return;\n    }\n    this.currConditionalRuleset = new ConditionalRuleset();\n    if (root.type === 'layer') {\n      var layerDefinition = \"@layer \".concat(root.name);\n      this.addLayer([layerDefinition]);\n    } else {\n      // Add main styles\n      var mainRule = omit(root.rule, specialKeys);\n      this.addRule({\n        selector: root.selector,\n        rule: mainRule\n      });\n      this.transformLayer(root, root.rule['@layer']);\n      this.transformMedia(root, root.rule['@media']);\n      this.transformSupports(root, root.rule['@supports']);\n      this.transformContainer(root, root.rule['@container']);\n      this.transformStartingStyle(root, root.rule['@starting-style']);\n      this.transformSimplePseudos(root, root.rule);\n      this.transformSelectors(root, root.rule);\n    }\n    var activeConditionalRuleset = this.conditionalRulesets[this.conditionalRulesets.length - 1];\n    if (!activeConditionalRuleset.mergeIfCompatible(this.currConditionalRuleset)) {\n      // Ruleset merge failed due to incompatibility. We now deopt by starting a fresh ConditionalRuleset\n      this.conditionalRulesets.push(this.currConditionalRuleset);\n    }\n  }\n  addConditionalRule(cssRule, conditions) {\n    // Run `transformProperties` before `transformVars` as we don't want to pixelify CSS Vars\n    var rule = this.transformVars(this.transformProperties(cssRule.rule));\n    var selector = this.transformSelector(cssRule.selector);\n    if (!this.currConditionalRuleset) {\n      throw new Error(\"Couldn't add conditional rule\");\n    }\n    var conditionQuery = conditions[conditions.length - 1];\n    var parentConditions = conditions.slice(0, conditions.length - 1);\n    this.currConditionalRuleset.addRule({\n      selector,\n      rule\n    }, conditionQuery, parentConditions);\n  }\n  addRule(cssRule) {\n    // Run `transformProperties` before `transformVars` as we don't want to pixelify CSS Vars\n    var rule = this.transformVars(this.transformProperties(cssRule.rule));\n    var selector = this.transformSelector(cssRule.selector);\n    this.rules.push({\n      selector,\n      rule\n    });\n  }\n  addLayer(layer) {\n    var uniqueLayerKey = layer.join(' - ');\n    this.layers.set(uniqueLayerKey, layer);\n  }\n  transformProperties(cssRule) {\n    return this.transformContent(this.pixelifyProperties(cssRule));\n  }\n  pixelifyProperties(cssRule) {\n    forEach(cssRule, (value, key) => {\n      if (typeof value === 'number' && value !== 0 && !UNITLESS[key]) {\n        // @ts-expect-error Any ideas?\n        cssRule[key] = \"\".concat(value, \"px\");\n      }\n    });\n    return cssRule;\n  }\n  transformVars(_ref3) {\n    var {\n        vars\n      } = _ref3,\n      rest = _objectWithoutProperties(_ref3, _excluded);\n    if (!vars) {\n      return rest;\n    }\n    return _objectSpread2(_objectSpread2({}, mapKeys(vars, (_value, key) => getVarName(key))), rest);\n  }\n  transformContent(_ref4) {\n    var {\n        content\n      } = _ref4,\n      rest = _objectWithoutProperties(_ref4, _excluded2);\n    if (typeof content === 'undefined') {\n      return rest;\n    }\n\n    // Handle fallback arrays:\n    var contentArray = Array.isArray(content) ? content : [content];\n    return _objectSpread2({\n      content: contentArray.map(value =>\n      // This logic was adapted from Stitches :)\n      value && (value.includes('\"') || value.includes(\"'\") || /^([A-Za-z-]+\\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)(\\s|$)/.test(value)) ? value : \"\\\"\".concat(value, \"\\\"\"))\n    }, rest);\n  }\n  transformClassname(identifier) {\n    return \".\".concat(cssesc(identifier, {\n      isIdentifier: true\n    }));\n  }\n  transformSelector(selector) {\n    // Map class list compositions to single identifiers\n    var transformedSelector = selector;\n    var _loop = function _loop(identifier) {\n      transformedSelector = transformedSelector.replace(regex, () => {\n        markCompositionUsed(identifier);\n        return identifier;\n      });\n    };\n    for (var {\n      identifier,\n      regex\n    } of this.composedClassLists) {\n      _loop(identifier);\n    }\n    if (this.localClassNamesMap.has(transformedSelector)) {\n      return this.transformClassname(transformedSelector);\n    }\n    var results = this.localClassNamesSearch.search(transformedSelector);\n    var lastReplaceIndex = transformedSelector.length;\n\n    // Perform replacements backwards to simplify index handling\n    for (var i = results.length - 1; i >= 0; i--) {\n      var [endIndex, [firstMatch]] = results[i];\n      var startIndex = endIndex - firstMatch.length + 1;\n\n      // Class names can be substrings of other class names\n      // e.g. '_1g1ptzo1' and '_1g1ptzo10'\n      //\n      // Additionally, concatenated classnames can contain substrings equal to other classnames\n      // e.g. '&&' where '&' is 'debugName_hash1' and 'debugName_hash1d' is also a local classname\n      // Before transforming the selector, this would look like `debugName_hash1debugName_hash1`\n      // which contains the substring `debugName_hash1d`.\n      //\n      // In either of these cases, the last replace index will occur either before or within the\n      // current replacement range (from `startIndex` to `endIndex`).\n      // If this occurs, we skip the replacement to avoid transforming the selector incorrectly.\n      var skipReplacement = lastReplaceIndex <= endIndex;\n      if (skipReplacement) {\n        continue;\n      }\n      lastReplaceIndex = startIndex;\n\n      // If class names already starts with a '.' then skip\n      if (transformedSelector[startIndex - 1] !== '.') {\n        transformedSelector = replaceBetweenIndexes(transformedSelector, startIndex, endIndex + 1, this.transformClassname(firstMatch));\n      }\n    }\n    return transformedSelector;\n  }\n  transformSelectors(root, rule, conditions) {\n    forEach(rule.selectors, (selectorRule, selector) => {\n      if (root.type !== 'local') {\n        throw new Error(\"Selectors are not allowed within \".concat(root.type === 'global' ? '\"globalStyle\"' : '\"selectors\"'));\n      }\n      var transformedSelector = this.transformSelector(selector.replace(RegExp('&', 'g'), root.selector));\n      validateSelector(transformedSelector, root.selector);\n      var rule = {\n        selector: transformedSelector,\n        rule: omit(selectorRule, specialKeys)\n      };\n      if (conditions) {\n        this.addConditionalRule(rule, conditions);\n      } else {\n        this.addRule(rule);\n      }\n      var selectorRoot = {\n        type: 'selector',\n        selector: transformedSelector,\n        rule: selectorRule\n      };\n      this.transformLayer(selectorRoot, selectorRule['@layer'], conditions);\n      this.transformSupports(selectorRoot, selectorRule['@supports'], conditions);\n      this.transformMedia(selectorRoot, selectorRule['@media'], conditions);\n      this.transformContainer(selectorRoot, selectorRule['@container'], conditions);\n      this.transformStartingStyle(selectorRoot, selectorRule['@starting-style'], conditions);\n    });\n  }\n  transformMedia(root, rules) {\n    var parentConditions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n    if (rules) {\n      var _this$currConditional;\n      (_this$currConditional = this.currConditionalRuleset) === null || _this$currConditional === void 0 || _this$currConditional.addConditionPrecedence(parentConditions, Object.keys(rules).map(query => \"@media \".concat(query)));\n      for (var [query, mediaRule] of Object.entries(rules)) {\n        var mediaQuery = \"@media \".concat(query);\n        validateMediaQuery(mediaQuery);\n        var conditions = [...parentConditions, mediaQuery];\n        this.addConditionalRule({\n          selector: root.selector,\n          rule: omit(mediaRule, specialKeys)\n        }, conditions);\n        if (root.type === 'local') {\n          this.transformSimplePseudos(root, mediaRule, conditions);\n          this.transformSelectors(root, mediaRule, conditions);\n        }\n        this.transformLayer(root, mediaRule['@layer'], conditions);\n        this.transformSupports(root, mediaRule['@supports'], conditions);\n        this.transformContainer(root, mediaRule['@container'], conditions);\n        this.transformStartingStyle(root, mediaRule['@starting-style'], conditions);\n      }\n    }\n  }\n  transformContainer(root, rules) {\n    var parentConditions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n    if (rules) {\n      var _this$currConditional2;\n      (_this$currConditional2 = this.currConditionalRuleset) === null || _this$currConditional2 === void 0 || _this$currConditional2.addConditionPrecedence(parentConditions, Object.keys(rules).map(query => \"@container \".concat(query)));\n      forEach(rules, (containerRule, query) => {\n        var containerQuery = \"@container \".concat(query);\n        var conditions = [...parentConditions, containerQuery];\n        this.addConditionalRule({\n          selector: root.selector,\n          rule: omit(containerRule, specialKeys)\n        }, conditions);\n        if (root.type === 'local') {\n          this.transformSimplePseudos(root, containerRule, conditions);\n          this.transformSelectors(root, containerRule, conditions);\n        }\n        this.transformLayer(root, containerRule['@layer'], conditions);\n        this.transformSupports(root, containerRule['@supports'], conditions);\n        this.transformMedia(root, containerRule['@media'], conditions);\n        this.transformStartingStyle(root, containerRule['@starting-style'], conditions);\n      });\n    }\n  }\n  transformLayer(root, rules) {\n    var parentConditions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n    if (rules) {\n      var _this$currConditional3;\n      (_this$currConditional3 = this.currConditionalRuleset) === null || _this$currConditional3 === void 0 || _this$currConditional3.addConditionPrecedence(parentConditions, Object.keys(rules).map(name => \"@layer \".concat(name)));\n      forEach(rules, (layerRule, name) => {\n        var conditions = [...parentConditions, \"@layer \".concat(name)];\n        this.addLayer(conditions);\n        this.addConditionalRule({\n          selector: root.selector,\n          rule: omit(layerRule, specialKeys)\n        }, conditions);\n        if (root.type === 'local') {\n          this.transformSimplePseudos(root, layerRule, conditions);\n          this.transformSelectors(root, layerRule, conditions);\n        }\n        this.transformMedia(root, layerRule['@media'], conditions);\n        this.transformSupports(root, layerRule['@supports'], conditions);\n        this.transformContainer(root, layerRule['@container'], conditions);\n        this.transformStartingStyle(root, layerRule['@starting-style'], conditions);\n      });\n    }\n  }\n  transformSupports(root, rules) {\n    var parentConditions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n    if (rules) {\n      var _this$currConditional4;\n      (_this$currConditional4 = this.currConditionalRuleset) === null || _this$currConditional4 === void 0 || _this$currConditional4.addConditionPrecedence(parentConditions, Object.keys(rules).map(query => \"@supports \".concat(query)));\n      forEach(rules, (supportsRule, query) => {\n        var conditions = [...parentConditions, \"@supports \".concat(query)];\n        this.addConditionalRule({\n          selector: root.selector,\n          rule: omit(supportsRule, specialKeys)\n        }, conditions);\n        if (root.type === 'local') {\n          this.transformSimplePseudos(root, supportsRule, conditions);\n          this.transformSelectors(root, supportsRule, conditions);\n        }\n        this.transformLayer(root, supportsRule['@layer'], conditions);\n        this.transformMedia(root, supportsRule['@media'], conditions);\n        this.transformContainer(root, supportsRule['@container'], conditions);\n        this.transformStartingStyle(root, supportsRule['@starting-style'], conditions);\n      });\n    }\n  }\n  transformSimplePseudos(root, rule, conditions) {\n    for (var key of Object.keys(rule)) {\n      // Process simple pseudos\n      if (simplePseudoLookup[key]) {\n        if (root.type !== 'local') {\n          throw new Error(\"Simple pseudos are not valid in \".concat(root.type === 'global' ? '\"globalStyle\"' : '\"selectors\"'));\n        }\n        if (conditions) {\n          this.addConditionalRule({\n            selector: \"\".concat(root.selector).concat(key),\n            rule: rule[key]\n          }, conditions);\n        } else {\n          this.addRule({\n            conditions,\n            selector: \"\".concat(root.selector).concat(key),\n            rule: rule[key]\n          });\n        }\n      }\n    }\n  }\n  transformStartingStyle(root, rules) {\n    var parentConditions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n    if (rules) {\n      var _this$currConditional5;\n      var nestedAtRuleKey = Object.keys(rules).find(key => key.startsWith('@'));\n      if (nestedAtRuleKey) {\n        throw new Error(\"Nested at-rules (e.g. \\\"\".concat(nestedAtRuleKey, \"\\\") are not allowed inside @starting-style.\"));\n      }\n      (_this$currConditional5 = this.currConditionalRuleset) === null || _this$currConditional5 === void 0 || _this$currConditional5.addConditionPrecedence(parentConditions, ['@starting-style']);\n      var conditions = [...parentConditions, '@starting-style'];\n      this.addConditionalRule({\n        selector: root.selector,\n        rule: omit(rules, specialKeys)\n      }, conditions);\n      if (root.type === 'local') {\n        this.transformSimplePseudos(root, rules, conditions);\n        this.transformSelectors(root, rules, conditions);\n      }\n    }\n  }\n  toCss() {\n    var css = [];\n\n    // Render font-face rules\n    for (var fontFaceRule of this.fontFaceRules) {\n      css.push(renderCss({\n        '@font-face': fontFaceRule\n      }));\n    }\n\n    // Render property rules\n    for (var property of this.propertyRules) {\n      css.push(renderCss({\n        [\"@property \".concat(property.name)]: property.rule\n      }));\n    }\n\n    // Render keyframes\n    for (var keyframe of this.keyframesRules) {\n      css.push(renderCss({\n        [\"@keyframes \".concat(keyframe.name)]: keyframe.rule\n      }));\n    }\n\n    // Render layer definitions\n    for (var layer of this.layers.values()) {\n      var [definition, ...nesting] = layer.reverse();\n      var cssObj = {\n        [definition]: DECLARATION\n      };\n      for (var part of nesting) {\n        cssObj = {\n          [part]: cssObj\n        };\n      }\n      css.push(renderCss(cssObj));\n    }\n\n    // Render unconditional rules\n    for (var rule of this.rules) {\n      css.push(renderCss({\n        [rule.selector]: rule.rule\n      }));\n    }\n\n    // Render conditional rules\n    for (var conditionalRuleset of this.conditionalRulesets) {\n      for (var conditionalRule of conditionalRuleset.renderToArray()) {\n        css.push(renderCss(conditionalRule));\n      }\n    }\n    return css.filter(Boolean);\n  }\n}\nfunction renderCss(v) {\n  var indent = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  var rules = [];\n  var _loop2 = function _loop2(key) {\n    var value = v[key];\n    if (value && Array.isArray(value)) {\n      rules.push(...value.map(v => renderCss({\n        [key]: v\n      }, indent)));\n    } else if (value && typeof value === 'object') {\n      var isEmpty = Object.keys(value).length === 0;\n      if (!isEmpty) {\n        rules.push(\"\".concat(indent).concat(key, \" {\\n\").concat(renderCss(value, indent + DOUBLE_SPACE), \"\\n\").concat(indent, \"}\"));\n      }\n    } else if (value === DECLARATION) {\n      rules.push(\"\".concat(indent).concat(key, \";\"));\n    } else {\n      rules.push(\"\".concat(indent).concat(key.startsWith('--') ? key : dashify(key), \": \").concat(value, \";\"));\n    }\n  };\n  for (var key of Object.keys(v)) {\n    _loop2(key);\n  }\n  return rules.join('\\n');\n}\nfunction transformCss(_ref5) {\n  var {\n    localClassNames,\n    cssObjs,\n    composedClassLists\n  } = _ref5;\n  var stylesheet = new Stylesheet(localClassNames, composedClassLists);\n  for (var root of cssObjs) {\n    stylesheet.processCssObj(root);\n  }\n  return stylesheet.toCss();\n}\n\nexport { _objectSpread2 as _, _objectWithoutProperties as a, dedupeAndJoinClassList as d, transformCss as t };\n","/**\n * @module LRUCache\n */\nconst perf = typeof performance === 'object' &&\n    performance &&\n    typeof performance.now === 'function'\n    ? performance\n    : Date;\nconst warned = new Set();\n/* c8 ignore start */\nconst PROCESS = (typeof process === 'object' && !!process ? process : {});\n/* c8 ignore start */\nconst emitWarning = (msg, type, code, fn) => {\n    typeof PROCESS.emitWarning === 'function'\n        ? PROCESS.emitWarning(msg, type, code, fn)\n        : console.error(`[${code}] ${type}: ${msg}`);\n};\nlet AC = globalThis.AbortController;\nlet AS = globalThis.AbortSignal;\n/* c8 ignore start */\nif (typeof AC === 'undefined') {\n    //@ts-ignore\n    AS = class AbortSignal {\n        onabort;\n        _onabort = [];\n        reason;\n        aborted = false;\n        addEventListener(_, fn) {\n            this._onabort.push(fn);\n        }\n    };\n    //@ts-ignore\n    AC = class AbortController {\n        constructor() {\n            warnACPolyfill();\n        }\n        signal = new AS();\n        abort(reason) {\n            if (this.signal.aborted)\n                return;\n            //@ts-ignore\n            this.signal.reason = reason;\n            //@ts-ignore\n            this.signal.aborted = true;\n            //@ts-ignore\n            for (const fn of this.signal._onabort) {\n                fn(reason);\n            }\n            this.signal.onabort?.(reason);\n        }\n    };\n    let printACPolyfillWarning = PROCESS.env?.LRU_CACHE_IGNORE_AC_WARNING !== '1';\n    const warnACPolyfill = () => {\n        if (!printACPolyfillWarning)\n            return;\n        printACPolyfillWarning = false;\n        emitWarning('AbortController is not defined. If using lru-cache in ' +\n            'node 14, load an AbortController polyfill from the ' +\n            '`node-abort-controller` package. A minimal polyfill is ' +\n            'provided for use by LRUCache.fetch(), but it should not be ' +\n            'relied upon in other contexts (eg, passing it to other APIs that ' +\n            'use AbortController/AbortSignal might have undesirable effects). ' +\n            'You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.', 'NO_ABORT_CONTROLLER', 'ENOTSUP', warnACPolyfill);\n    };\n}\n/* c8 ignore stop */\nconst shouldWarn = (code) => !warned.has(code);\nconst TYPE = Symbol('type');\nconst isPosInt = (n) => n && n === Math.floor(n) && n > 0 && isFinite(n);\n/* c8 ignore start */\n// This is a little bit ridiculous, tbh.\n// The maximum array length is 2^32-1 or thereabouts on most JS impls.\n// And well before that point, you're caching the entire world, I mean,\n// that's ~32GB of just integers for the next/prev links, plus whatever\n// else to hold that many keys and values.  Just filling the memory with\n// zeroes at init time is brutal when you get that big.\n// But why not be complete?\n// Maybe in the future, these limits will have expanded.\nconst getUintArray = (max) => !isPosInt(max)\n    ? null\n    : max <= Math.pow(2, 8)\n        ? Uint8Array\n        : max <= Math.pow(2, 16)\n            ? Uint16Array\n            : max <= Math.pow(2, 32)\n                ? Uint32Array\n                : max <= Number.MAX_SAFE_INTEGER\n                    ? ZeroArray\n                    : null;\n/* c8 ignore stop */\nclass ZeroArray extends Array {\n    constructor(size) {\n        super(size);\n        this.fill(0);\n    }\n}\nclass Stack {\n    heap;\n    length;\n    // private constructor\n    static #constructing = false;\n    static create(max) {\n        const HeapCls = getUintArray(max);\n        if (!HeapCls)\n            return [];\n        Stack.#constructing = true;\n        const s = new Stack(max, HeapCls);\n        Stack.#constructing = false;\n        return s;\n    }\n    constructor(max, HeapCls) {\n        /* c8 ignore start */\n        if (!Stack.#constructing) {\n            throw new TypeError('instantiate Stack using Stack.create(n)');\n        }\n        /* c8 ignore stop */\n        this.heap = new HeapCls(max);\n        this.length = 0;\n    }\n    push(n) {\n        this.heap[this.length++] = n;\n    }\n    pop() {\n        return this.heap[--this.length];\n    }\n}\n/**\n * Default export, the thing you're using this module to get.\n *\n * The `K` and `V` types define the key and value types, respectively. The\n * optional `FC` type defines the type of the `context` object passed to\n * `cache.fetch()` and `cache.memo()`.\n *\n * Keys and values **must not** be `null` or `undefined`.\n *\n * All properties from the options object (with the exception of `max`,\n * `maxSize`, `fetchMethod`, `memoMethod`, `dispose` and `disposeAfter`) are\n * added as normal public members. (The listed options are read-only getters.)\n *\n * Changing any of these will alter the defaults for subsequent method calls.\n */\nexport class LRUCache {\n    // options that cannot be changed without disaster\n    #max;\n    #maxSize;\n    #dispose;\n    #disposeAfter;\n    #fetchMethod;\n    #memoMethod;\n    /**\n     * {@link LRUCache.OptionsBase.ttl}\n     */\n    ttl;\n    /**\n     * {@link LRUCache.OptionsBase.ttlResolution}\n     */\n    ttlResolution;\n    /**\n     * {@link LRUCache.OptionsBase.ttlAutopurge}\n     */\n    ttlAutopurge;\n    /**\n     * {@link LRUCache.OptionsBase.updateAgeOnGet}\n     */\n    updateAgeOnGet;\n    /**\n     * {@link LRUCache.OptionsBase.updateAgeOnHas}\n     */\n    updateAgeOnHas;\n    /**\n     * {@link LRUCache.OptionsBase.allowStale}\n     */\n    allowStale;\n    /**\n     * {@link LRUCache.OptionsBase.noDisposeOnSet}\n     */\n    noDisposeOnSet;\n    /**\n     * {@link LRUCache.OptionsBase.noUpdateTTL}\n     */\n    noUpdateTTL;\n    /**\n     * {@link LRUCache.OptionsBase.maxEntrySize}\n     */\n    maxEntrySize;\n    /**\n     * {@link LRUCache.OptionsBase.sizeCalculation}\n     */\n    sizeCalculation;\n    /**\n     * {@link LRUCache.OptionsBase.noDeleteOnFetchRejection}\n     */\n    noDeleteOnFetchRejection;\n    /**\n     * {@link LRUCache.OptionsBase.noDeleteOnStaleGet}\n     */\n    noDeleteOnStaleGet;\n    /**\n     * {@link LRUCache.OptionsBase.allowStaleOnFetchAbort}\n     */\n    allowStaleOnFetchAbort;\n    /**\n     * {@link LRUCache.OptionsBase.allowStaleOnFetchRejection}\n     */\n    allowStaleOnFetchRejection;\n    /**\n     * {@link LRUCache.OptionsBase.ignoreFetchAbort}\n     */\n    ignoreFetchAbort;\n    // computed properties\n    #size;\n    #calculatedSize;\n    #keyMap;\n    #keyList;\n    #valList;\n    #next;\n    #prev;\n    #head;\n    #tail;\n    #free;\n    #disposed;\n    #sizes;\n    #starts;\n    #ttls;\n    #hasDispose;\n    #hasFetchMethod;\n    #hasDisposeAfter;\n    /**\n     * Do not call this method unless you need to inspect the\n     * inner workings of the cache.  If anything returned by this\n     * object is modified in any way, strange breakage may occur.\n     *\n     * These fields are private for a reason!\n     *\n     * @internal\n     */\n    static unsafeExposeInternals(c) {\n        return {\n            // properties\n            starts: c.#starts,\n            ttls: c.#ttls,\n            sizes: c.#sizes,\n            keyMap: c.#keyMap,\n            keyList: c.#keyList,\n            valList: c.#valList,\n            next: c.#next,\n            prev: c.#prev,\n            get head() {\n                return c.#head;\n            },\n            get tail() {\n                return c.#tail;\n            },\n            free: c.#free,\n            // methods\n            isBackgroundFetch: (p) => c.#isBackgroundFetch(p),\n            backgroundFetch: (k, index, options, context) => c.#backgroundFetch(k, index, options, context),\n            moveToTail: (index) => c.#moveToTail(index),\n            indexes: (options) => c.#indexes(options),\n            rindexes: (options) => c.#rindexes(options),\n            isStale: (index) => c.#isStale(index),\n        };\n    }\n    // Protected read-only members\n    /**\n     * {@link LRUCache.OptionsBase.max} (read-only)\n     */\n    get max() {\n        return this.#max;\n    }\n    /**\n     * {@link LRUCache.OptionsBase.maxSize} (read-only)\n     */\n    get maxSize() {\n        return this.#maxSize;\n    }\n    /**\n     * The total computed size of items in the cache (read-only)\n     */\n    get calculatedSize() {\n        return this.#calculatedSize;\n    }\n    /**\n     * The number of items stored in the cache (read-only)\n     */\n    get size() {\n        return this.#size;\n    }\n    /**\n     * {@link LRUCache.OptionsBase.fetchMethod} (read-only)\n     */\n    get fetchMethod() {\n        return this.#fetchMethod;\n    }\n    get memoMethod() {\n        return this.#memoMethod;\n    }\n    /**\n     * {@link LRUCache.OptionsBase.dispose} (read-only)\n     */\n    get dispose() {\n        return this.#dispose;\n    }\n    /**\n     * {@link LRUCache.OptionsBase.disposeAfter} (read-only)\n     */\n    get disposeAfter() {\n        return this.#disposeAfter;\n    }\n    constructor(options) {\n        const { max = 0, ttl, ttlResolution = 1, ttlAutopurge, updateAgeOnGet, updateAgeOnHas, allowStale, dispose, disposeAfter, noDisposeOnSet, noUpdateTTL, maxSize = 0, maxEntrySize = 0, sizeCalculation, fetchMethod, memoMethod, noDeleteOnFetchRejection, noDeleteOnStaleGet, allowStaleOnFetchRejection, allowStaleOnFetchAbort, ignoreFetchAbort, } = options;\n        if (max !== 0 && !isPosInt(max)) {\n            throw new TypeError('max option must be a nonnegative integer');\n        }\n        const UintArray = max ? getUintArray(max) : Array;\n        if (!UintArray) {\n            throw new Error('invalid max value: ' + max);\n        }\n        this.#max = max;\n        this.#maxSize = maxSize;\n        this.maxEntrySize = maxEntrySize || this.#maxSize;\n        this.sizeCalculation = sizeCalculation;\n        if (this.sizeCalculation) {\n            if (!this.#maxSize && !this.maxEntrySize) {\n                throw new TypeError('cannot set sizeCalculation without setting maxSize or maxEntrySize');\n            }\n            if (typeof this.sizeCalculation !== 'function') {\n                throw new TypeError('sizeCalculation set to non-function');\n            }\n        }\n        if (memoMethod !== undefined &&\n            typeof memoMethod !== 'function') {\n            throw new TypeError('memoMethod must be a function if defined');\n        }\n        this.#memoMethod = memoMethod;\n        if (fetchMethod !== undefined &&\n            typeof fetchMethod !== 'function') {\n            throw new TypeError('fetchMethod must be a function if specified');\n        }\n        this.#fetchMethod = fetchMethod;\n        this.#hasFetchMethod = !!fetchMethod;\n        this.#keyMap = new Map();\n        this.#keyList = new Array(max).fill(undefined);\n        this.#valList = new Array(max).fill(undefined);\n        this.#next = new UintArray(max);\n        this.#prev = new UintArray(max);\n        this.#head = 0;\n        this.#tail = 0;\n        this.#free = Stack.create(max);\n        this.#size = 0;\n        this.#calculatedSize = 0;\n        if (typeof dispose === 'function') {\n            this.#dispose = dispose;\n        }\n        if (typeof disposeAfter === 'function') {\n            this.#disposeAfter = disposeAfter;\n            this.#disposed = [];\n        }\n        else {\n            this.#disposeAfter = undefined;\n            this.#disposed = undefined;\n        }\n        this.#hasDispose = !!this.#dispose;\n        this.#hasDisposeAfter = !!this.#disposeAfter;\n        this.noDisposeOnSet = !!noDisposeOnSet;\n        this.noUpdateTTL = !!noUpdateTTL;\n        this.noDeleteOnFetchRejection = !!noDeleteOnFetchRejection;\n        this.allowStaleOnFetchRejection = !!allowStaleOnFetchRejection;\n        this.allowStaleOnFetchAbort = !!allowStaleOnFetchAbort;\n        this.ignoreFetchAbort = !!ignoreFetchAbort;\n        // NB: maxEntrySize is set to maxSize if it's set\n        if (this.maxEntrySize !== 0) {\n            if (this.#maxSize !== 0) {\n                if (!isPosInt(this.#maxSize)) {\n                    throw new TypeError('maxSize must be a positive integer if specified');\n                }\n            }\n            if (!isPosInt(this.maxEntrySize)) {\n                throw new TypeError('maxEntrySize must be a positive integer if specified');\n            }\n            this.#initializeSizeTracking();\n        }\n        this.allowStale = !!allowStale;\n        this.noDeleteOnStaleGet = !!noDeleteOnStaleGet;\n        this.updateAgeOnGet = !!updateAgeOnGet;\n        this.updateAgeOnHas = !!updateAgeOnHas;\n        this.ttlResolution =\n            isPosInt(ttlResolution) || ttlResolution === 0\n                ? ttlResolution\n                : 1;\n        this.ttlAutopurge = !!ttlAutopurge;\n        this.ttl = ttl || 0;\n        if (this.ttl) {\n            if (!isPosInt(this.ttl)) {\n                throw new TypeError('ttl must be a positive integer if specified');\n            }\n            this.#initializeTTLTracking();\n        }\n        // do not allow completely unbounded caches\n        if (this.#max === 0 && this.ttl === 0 && this.#maxSize === 0) {\n            throw new TypeError('At least one of max, maxSize, or ttl is required');\n        }\n        if (!this.ttlAutopurge && !this.#max && !this.#maxSize) {\n            const code = 'LRU_CACHE_UNBOUNDED';\n            if (shouldWarn(code)) {\n                warned.add(code);\n                const msg = 'TTL caching without ttlAutopurge, max, or maxSize can ' +\n                    'result in unbounded memory consumption.';\n                emitWarning(msg, 'UnboundedCacheWarning', code, LRUCache);\n            }\n        }\n    }\n    /**\n     * Return the number of ms left in the item's TTL. If item is not in cache,\n     * returns `0`. Returns `Infinity` if item is in cache without a defined TTL.\n     */\n    getRemainingTTL(key) {\n        return this.#keyMap.has(key) ? Infinity : 0;\n    }\n    #initializeTTLTracking() {\n        const ttls = new ZeroArray(this.#max);\n        const starts = new ZeroArray(this.#max);\n        this.#ttls = ttls;\n        this.#starts = starts;\n        this.#setItemTTL = (index, ttl, start = perf.now()) => {\n            starts[index] = ttl !== 0 ? start : 0;\n            ttls[index] = ttl;\n            if (ttl !== 0 && this.ttlAutopurge) {\n                const t = setTimeout(() => {\n                    if (this.#isStale(index)) {\n                        this.#delete(this.#keyList[index], 'expire');\n                    }\n                }, ttl + 1);\n                // unref() not supported on all platforms\n                /* c8 ignore start */\n                if (t.unref) {\n                    t.unref();\n                }\n                /* c8 ignore stop */\n            }\n        };\n        this.#updateItemAge = index => {\n            starts[index] = ttls[index] !== 0 ? perf.now() : 0;\n        };\n        this.#statusTTL = (status, index) => {\n            if (ttls[index]) {\n                const ttl = ttls[index];\n                const start = starts[index];\n                /* c8 ignore next */\n                if (!ttl || !start)\n                    return;\n                status.ttl = ttl;\n                status.start = start;\n                status.now = cachedNow || getNow();\n                const age = status.now - start;\n                status.remainingTTL = ttl - age;\n            }\n        };\n        // debounce calls to perf.now() to 1s so we're not hitting\n        // that costly call repeatedly.\n        let cachedNow = 0;\n        const getNow = () => {\n            const n = perf.now();\n            if (this.ttlResolution > 0) {\n                cachedNow = n;\n                const t = setTimeout(() => (cachedNow = 0), this.ttlResolution);\n                // not available on all platforms\n                /* c8 ignore start */\n                if (t.unref) {\n                    t.unref();\n                }\n                /* c8 ignore stop */\n            }\n            return n;\n        };\n        this.getRemainingTTL = key => {\n            const index = this.#keyMap.get(key);\n            if (index === undefined) {\n                return 0;\n            }\n            const ttl = ttls[index];\n            const start = starts[index];\n            if (!ttl || !start) {\n                return Infinity;\n            }\n            const age = (cachedNow || getNow()) - start;\n            return ttl - age;\n        };\n        this.#isStale = index => {\n            const s = starts[index];\n            const t = ttls[index];\n            return !!t && !!s && (cachedNow || getNow()) - s > t;\n        };\n    }\n    // conditionally set private methods related to TTL\n    #updateItemAge = () => { };\n    #statusTTL = () => { };\n    #setItemTTL = () => { };\n    /* c8 ignore stop */\n    #isStale = () => false;\n    #initializeSizeTracking() {\n        const sizes = new ZeroArray(this.#max);\n        this.#calculatedSize = 0;\n        this.#sizes = sizes;\n        this.#removeItemSize = index => {\n            this.#calculatedSize -= sizes[index];\n            sizes[index] = 0;\n        };\n        this.#requireSize = (k, v, size, sizeCalculation) => {\n            // provisionally accept background fetches.\n            // actual value size will be checked when they return.\n            if (this.#isBackgroundFetch(v)) {\n                return 0;\n            }\n            if (!isPosInt(size)) {\n                if (sizeCalculation) {\n                    if (typeof sizeCalculation !== 'function') {\n                        throw new TypeError('sizeCalculation must be a function');\n                    }\n                    size = sizeCalculation(v, k);\n                    if (!isPosInt(size)) {\n                        throw new TypeError('sizeCalculation return invalid (expect positive integer)');\n                    }\n                }\n                else {\n                    throw new TypeError('invalid size value (must be positive integer). ' +\n                        'When maxSize or maxEntrySize is used, sizeCalculation ' +\n                        'or size must be set.');\n                }\n            }\n            return size;\n        };\n        this.#addItemSize = (index, size, status) => {\n            sizes[index] = size;\n            if (this.#maxSize) {\n                const maxSize = this.#maxSize - sizes[index];\n                while (this.#calculatedSize > maxSize) {\n                    this.#evict(true);\n                }\n            }\n            this.#calculatedSize += sizes[index];\n            if (status) {\n                status.entrySize = size;\n                status.totalCalculatedSize = this.#calculatedSize;\n            }\n        };\n    }\n    #removeItemSize = _i => { };\n    #addItemSize = (_i, _s, _st) => { };\n    #requireSize = (_k, _v, size, sizeCalculation) => {\n        if (size || sizeCalculation) {\n            throw new TypeError('cannot set size without setting maxSize or maxEntrySize on cache');\n        }\n        return 0;\n    };\n    *#indexes({ allowStale = this.allowStale } = {}) {\n        if (this.#size) {\n            for (let i = this.#tail; true;) {\n                if (!this.#isValidIndex(i)) {\n                    break;\n                }\n                if (allowStale || !this.#isStale(i)) {\n                    yield i;\n                }\n                if (i === this.#head) {\n                    break;\n                }\n                else {\n                    i = this.#prev[i];\n                }\n            }\n        }\n    }\n    *#rindexes({ allowStale = this.allowStale } = {}) {\n        if (this.#size) {\n            for (let i = this.#head; true;) {\n                if (!this.#isValidIndex(i)) {\n                    break;\n                }\n                if (allowStale || !this.#isStale(i)) {\n                    yield i;\n                }\n                if (i === this.#tail) {\n                    break;\n                }\n                else {\n                    i = this.#next[i];\n                }\n            }\n        }\n    }\n    #isValidIndex(index) {\n        return (index !== undefined &&\n            this.#keyMap.get(this.#keyList[index]) === index);\n    }\n    /**\n     * Return a generator yielding `[key, value]` pairs,\n     * in order from most recently used to least recently used.\n     */\n    *entries() {\n        for (const i of this.#indexes()) {\n            if (this.#valList[i] !== undefined &&\n                this.#keyList[i] !== undefined &&\n                !this.#isBackgroundFetch(this.#valList[i])) {\n                yield [this.#keyList[i], this.#valList[i]];\n            }\n        }\n    }\n    /**\n     * Inverse order version of {@link LRUCache.entries}\n     *\n     * Return a generator yielding `[key, value]` pairs,\n     * in order from least recently used to most recently used.\n     */\n    *rentries() {\n        for (const i of this.#rindexes()) {\n            if (this.#valList[i] !== undefined &&\n                this.#keyList[i] !== undefined &&\n                !this.#isBackgroundFetch(this.#valList[i])) {\n                yield [this.#keyList[i], this.#valList[i]];\n            }\n        }\n    }\n    /**\n     * Return a generator yielding the keys in the cache,\n     * in order from most recently used to least recently used.\n     */\n    *keys() {\n        for (const i of this.#indexes()) {\n            const k = this.#keyList[i];\n            if (k !== undefined &&\n                !this.#isBackgroundFetch(this.#valList[i])) {\n                yield k;\n            }\n        }\n    }\n    /**\n     * Inverse order version of {@link LRUCache.keys}\n     *\n     * Return a generator yielding the keys in the cache,\n     * in order from least recently used to most recently used.\n     */\n    *rkeys() {\n        for (const i of this.#rindexes()) {\n            const k = this.#keyList[i];\n            if (k !== undefined &&\n                !this.#isBackgroundFetch(this.#valList[i])) {\n                yield k;\n            }\n        }\n    }\n    /**\n     * Return a generator yielding the values in the cache,\n     * in order from most recently used to least recently used.\n     */\n    *values() {\n        for (const i of this.#indexes()) {\n            const v = this.#valList[i];\n            if (v !== undefined &&\n                !this.#isBackgroundFetch(this.#valList[i])) {\n                yield this.#valList[i];\n            }\n        }\n    }\n    /**\n     * Inverse order version of {@link LRUCache.values}\n     *\n     * Return a generator yielding the values in the cache,\n     * in order from least recently used to most recently used.\n     */\n    *rvalues() {\n        for (const i of this.#rindexes()) {\n            const v = this.#valList[i];\n            if (v !== undefined &&\n                !this.#isBackgroundFetch(this.#valList[i])) {\n                yield this.#valList[i];\n            }\n        }\n    }\n    /**\n     * Iterating over the cache itself yields the same results as\n     * {@link LRUCache.entries}\n     */\n    [Symbol.iterator]() {\n        return this.entries();\n    }\n    /**\n     * A String value that is used in the creation of the default string\n     * description of an object. Called by the built-in method\n     * `Object.prototype.toString`.\n     */\n    [Symbol.toStringTag] = 'LRUCache';\n    /**\n     * Find a value for which the supplied fn method returns a truthy value,\n     * similar to `Array.find()`. fn is called as `fn(value, key, cache)`.\n     */\n    find(fn, getOptions = {}) {\n        for (const i of this.#indexes()) {\n            const v = this.#valList[i];\n            const value = this.#isBackgroundFetch(v)\n                ? v.__staleWhileFetching\n                : v;\n            if (value === undefined)\n                continue;\n            if (fn(value, this.#keyList[i], this)) {\n                return this.get(this.#keyList[i], getOptions);\n            }\n        }\n    }\n    /**\n     * Call the supplied function on each item in the cache, in order from most\n     * recently used to least recently used.\n     *\n     * `fn` is called as `fn(value, key, cache)`.\n     *\n     * If `thisp` is provided, function will be called in the `this`-context of\n     * the provided object, or the cache if no `thisp` object is provided.\n     *\n     * Does not update age or recenty of use, or iterate over stale values.\n     */\n    forEach(fn, thisp = this) {\n        for (const i of this.#indexes()) {\n            const v = this.#valList[i];\n            const value = this.#isBackgroundFetch(v)\n                ? v.__staleWhileFetching\n                : v;\n            if (value === undefined)\n                continue;\n            fn.call(thisp, value, this.#keyList[i], this);\n        }\n    }\n    /**\n     * The same as {@link LRUCache.forEach} but items are iterated over in\n     * reverse order.  (ie, less recently used items are iterated over first.)\n     */\n    rforEach(fn, thisp = this) {\n        for (const i of this.#rindexes()) {\n            const v = this.#valList[i];\n            const value = this.#isBackgroundFetch(v)\n                ? v.__staleWhileFetching\n                : v;\n            if (value === undefined)\n                continue;\n            fn.call(thisp, value, this.#keyList[i], this);\n        }\n    }\n    /**\n     * Delete any stale entries. Returns true if anything was removed,\n     * false otherwise.\n     */\n    purgeStale() {\n        let deleted = false;\n        for (const i of this.#rindexes({ allowStale: true })) {\n            if (this.#isStale(i)) {\n                this.#delete(this.#keyList[i], 'expire');\n                deleted = true;\n            }\n        }\n        return deleted;\n    }\n    /**\n     * Get the extended info about a given entry, to get its value, size, and\n     * TTL info simultaneously. Returns `undefined` if the key is not present.\n     *\n     * Unlike {@link LRUCache#dump}, which is designed to be portable and survive\n     * serialization, the `start` value is always the current timestamp, and the\n     * `ttl` is a calculated remaining time to live (negative if expired).\n     *\n     * Always returns stale values, if their info is found in the cache, so be\n     * sure to check for expirations (ie, a negative {@link LRUCache.Entry#ttl})\n     * if relevant.\n     */\n    info(key) {\n        const i = this.#keyMap.get(key);\n        if (i === undefined)\n            return undefined;\n        const v = this.#valList[i];\n        const value = this.#isBackgroundFetch(v)\n            ? v.__staleWhileFetching\n            : v;\n        if (value === undefined)\n            return undefined;\n        const entry = { value };\n        if (this.#ttls && this.#starts) {\n            const ttl = this.#ttls[i];\n            const start = this.#starts[i];\n            if (ttl && start) {\n                const remain = ttl - (perf.now() - start);\n                entry.ttl = remain;\n                entry.start = Date.now();\n            }\n        }\n        if (this.#sizes) {\n            entry.size = this.#sizes[i];\n        }\n        return entry;\n    }\n    /**\n     * Return an array of [key, {@link LRUCache.Entry}] tuples which can be\n     * passed to {@link LRLUCache#load}.\n     *\n     * The `start` fields are calculated relative to a portable `Date.now()`\n     * timestamp, even if `performance.now()` is available.\n     *\n     * Stale entries are always included in the `dump`, even if\n     * {@link LRUCache.OptionsBase.allowStale} is false.\n     *\n     * Note: this returns an actual array, not a generator, so it can be more\n     * easily passed around.\n     */\n    dump() {\n        const arr = [];\n        for (const i of this.#indexes({ allowStale: true })) {\n            const key = this.#keyList[i];\n            const v = this.#valList[i];\n            const value = this.#isBackgroundFetch(v)\n                ? v.__staleWhileFetching\n                : v;\n            if (value === undefined || key === undefined)\n                continue;\n            const entry = { value };\n            if (this.#ttls && this.#starts) {\n                entry.ttl = this.#ttls[i];\n                // always dump the start relative to a portable timestamp\n                // it's ok for this to be a bit slow, it's a rare operation.\n                const age = perf.now() - this.#starts[i];\n                entry.start = Math.floor(Date.now() - age);\n            }\n            if (this.#sizes) {\n                entry.size = this.#sizes[i];\n            }\n            arr.unshift([key, entry]);\n        }\n        return arr;\n    }\n    /**\n     * Reset the cache and load in the items in entries in the order listed.\n     *\n     * The shape of the resulting cache may be different if the same options are\n     * not used in both caches.\n     *\n     * The `start` fields are assumed to be calculated relative to a portable\n     * `Date.now()` timestamp, even if `performance.now()` is available.\n     */\n    load(arr) {\n        this.clear();\n        for (const [key, entry] of arr) {\n            if (entry.start) {\n                // entry.start is a portable timestamp, but we may be using\n                // node's performance.now(), so calculate the offset, so that\n                // we get the intended remaining TTL, no matter how long it's\n                // been on ice.\n                //\n                // it's ok for this to be a bit slow, it's a rare operation.\n                const age = Date.now() - entry.start;\n                entry.start = perf.now() - age;\n            }\n            this.set(key, entry.value, entry);\n        }\n    }\n    /**\n     * Add a value to the cache.\n     *\n     * Note: if `undefined` is specified as a value, this is an alias for\n     * {@link LRUCache#delete}\n     *\n     * Fields on the {@link LRUCache.SetOptions} options param will override\n     * their corresponding values in the constructor options for the scope\n     * of this single `set()` operation.\n     *\n     * If `start` is provided, then that will set the effective start\n     * time for the TTL calculation. Note that this must be a previous\n     * value of `performance.now()` if supported, or a previous value of\n     * `Date.now()` if not.\n     *\n     * Options object may also include `size`, which will prevent\n     * calling the `sizeCalculation` function and just use the specified\n     * number if it is a positive integer, and `noDisposeOnSet` which\n     * will prevent calling a `dispose` function in the case of\n     * overwrites.\n     *\n     * If the `size` (or return value of `sizeCalculation`) for a given\n     * entry is greater than `maxEntrySize`, then the item will not be\n     * added to the cache.\n     *\n     * Will update the recency of the entry.\n     *\n     * If the value is `undefined`, then this is an alias for\n     * `cache.delete(key)`. `undefined` is never stored in the cache.\n     */\n    set(k, v, setOptions = {}) {\n        if (v === undefined) {\n            this.delete(k);\n            return this;\n        }\n        const { ttl = this.ttl, start, noDisposeOnSet = this.noDisposeOnSet, sizeCalculation = this.sizeCalculation, status, } = setOptions;\n        let { noUpdateTTL = this.noUpdateTTL } = setOptions;\n        const size = this.#requireSize(k, v, setOptions.size || 0, sizeCalculation);\n        // if the item doesn't fit, don't do anything\n        // NB: maxEntrySize set to maxSize by default\n        if (this.maxEntrySize && size > this.maxEntrySize) {\n            if (status) {\n                status.set = 'miss';\n                status.maxEntrySizeExceeded = true;\n            }\n            // have to delete, in case something is there already.\n            this.#delete(k, 'set');\n            return this;\n        }\n        let index = this.#size === 0 ? undefined : this.#keyMap.get(k);\n        if (index === undefined) {\n            // addition\n            index = (this.#size === 0\n                ? this.#tail\n                : this.#free.length !== 0\n                    ? this.#free.pop()\n                    : this.#size === this.#max\n                        ? this.#evict(false)\n                        : this.#size);\n            this.#keyList[index] = k;\n            this.#valList[index] = v;\n            this.#keyMap.set(k, index);\n            this.#next[this.#tail] = index;\n            this.#prev[index] = this.#tail;\n            this.#tail = index;\n            this.#size++;\n            this.#addItemSize(index, size, status);\n            if (status)\n                status.set = 'add';\n            noUpdateTTL = false;\n        }\n        else {\n            // update\n            this.#moveToTail(index);\n            const oldVal = this.#valList[index];\n            if (v !== oldVal) {\n                if (this.#hasFetchMethod && this.#isBackgroundFetch(oldVal)) {\n                    oldVal.__abortController.abort(new Error('replaced'));\n                    const { __staleWhileFetching: s } = oldVal;\n                    if (s !== undefined && !noDisposeOnSet) {\n                        if (this.#hasDispose) {\n                            this.#dispose?.(s, k, 'set');\n                        }\n                        if (this.#hasDisposeAfter) {\n                            this.#disposed?.push([s, k, 'set']);\n                        }\n                    }\n                }\n                else if (!noDisposeOnSet) {\n                    if (this.#hasDispose) {\n                        this.#dispose?.(oldVal, k, 'set');\n                    }\n                    if (this.#hasDisposeAfter) {\n                        this.#disposed?.push([oldVal, k, 'set']);\n                    }\n                }\n                this.#removeItemSize(index);\n                this.#addItemSize(index, size, status);\n                this.#valList[index] = v;\n                if (status) {\n                    status.set = 'replace';\n                    const oldValue = oldVal && this.#isBackgroundFetch(oldVal)\n                        ? oldVal.__staleWhileFetching\n                        : oldVal;\n                    if (oldValue !== undefined)\n                        status.oldValue = oldValue;\n                }\n            }\n            else if (status) {\n                status.set = 'update';\n            }\n        }\n        if (ttl !== 0 && !this.#ttls) {\n            this.#initializeTTLTracking();\n        }\n        if (this.#ttls) {\n            if (!noUpdateTTL) {\n                this.#setItemTTL(index, ttl, start);\n            }\n            if (status)\n                this.#statusTTL(status, index);\n        }\n        if (!noDisposeOnSet && this.#hasDisposeAfter && this.#disposed) {\n            const dt = this.#disposed;\n            let task;\n            while ((task = dt?.shift())) {\n                this.#disposeAfter?.(...task);\n            }\n        }\n        return this;\n    }\n    /**\n     * Evict the least recently used item, returning its value or\n     * `undefined` if cache is empty.\n     */\n    pop() {\n        try {\n            while (this.#size) {\n                const val = this.#valList[this.#head];\n                this.#evict(true);\n                if (this.#isBackgroundFetch(val)) {\n                    if (val.__staleWhileFetching) {\n                        return val.__staleWhileFetching;\n                    }\n                }\n                else if (val !== undefined) {\n                    return val;\n                }\n            }\n        }\n        finally {\n            if (this.#hasDisposeAfter && this.#disposed) {\n                const dt = this.#disposed;\n                let task;\n                while ((task = dt?.shift())) {\n                    this.#disposeAfter?.(...task);\n                }\n            }\n        }\n    }\n    #evict(free) {\n        const head = this.#head;\n        const k = this.#keyList[head];\n        const v = this.#valList[head];\n        if (this.#hasFetchMethod && this.#isBackgroundFetch(v)) {\n            v.__abortController.abort(new Error('evicted'));\n        }\n        else if (this.#hasDispose || this.#hasDisposeAfter) {\n            if (this.#hasDispose) {\n                this.#dispose?.(v, k, 'evict');\n            }\n            if (this.#hasDisposeAfter) {\n                this.#disposed?.push([v, k, 'evict']);\n            }\n        }\n        this.#removeItemSize(head);\n        // if we aren't about to use the index, then null these out\n        if (free) {\n            this.#keyList[head] = undefined;\n            this.#valList[head] = undefined;\n            this.#free.push(head);\n        }\n        if (this.#size === 1) {\n            this.#head = this.#tail = 0;\n            this.#free.length = 0;\n        }\n        else {\n            this.#head = this.#next[head];\n        }\n        this.#keyMap.delete(k);\n        this.#size--;\n        return head;\n    }\n    /**\n     * Check if a key is in the cache, without updating the recency of use.\n     * Will return false if the item is stale, even though it is technically\n     * in the cache.\n     *\n     * Check if a key is in the cache, without updating the recency of\n     * use. Age is updated if {@link LRUCache.OptionsBase.updateAgeOnHas} is set\n     * to `true` in either the options or the constructor.\n     *\n     * Will return `false` if the item is stale, even though it is technically in\n     * the cache. The difference can be determined (if it matters) by using a\n     * `status` argument, and inspecting the `has` field.\n     *\n     * Will not update item age unless\n     * {@link LRUCache.OptionsBase.updateAgeOnHas} is set.\n     */\n    has(k, hasOptions = {}) {\n        const { updateAgeOnHas = this.updateAgeOnHas, status } = hasOptions;\n        const index = this.#keyMap.get(k);\n        if (index !== undefined) {\n            const v = this.#valList[index];\n            if (this.#isBackgroundFetch(v) &&\n                v.__staleWhileFetching === undefined) {\n                return false;\n            }\n            if (!this.#isStale(index)) {\n                if (updateAgeOnHas) {\n                    this.#updateItemAge(index);\n                }\n                if (status) {\n                    status.has = 'hit';\n                    this.#statusTTL(status, index);\n                }\n                return true;\n            }\n            else if (status) {\n                status.has = 'stale';\n                this.#statusTTL(status, index);\n            }\n        }\n        else if (status) {\n            status.has = 'miss';\n        }\n        return false;\n    }\n    /**\n     * Like {@link LRUCache#get} but doesn't update recency or delete stale\n     * items.\n     *\n     * Returns `undefined` if the item is stale, unless\n     * {@link LRUCache.OptionsBase.allowStale} is set.\n     */\n    peek(k, peekOptions = {}) {\n        const { allowStale = this.allowStale } = peekOptions;\n        const index = this.#keyMap.get(k);\n        if (index === undefined ||\n            (!allowStale && this.#isStale(index))) {\n            return;\n        }\n        const v = this.#valList[index];\n        // either stale and allowed, or forcing a refresh of non-stale value\n        return this.#isBackgroundFetch(v) ? v.__staleWhileFetching : v;\n    }\n    #backgroundFetch(k, index, options, context) {\n        const v = index === undefined ? undefined : this.#valList[index];\n        if (this.#isBackgroundFetch(v)) {\n            return v;\n        }\n        const ac = new AC();\n        const { signal } = options;\n        // when/if our AC signals, then stop listening to theirs.\n        signal?.addEventListener('abort', () => ac.abort(signal.reason), {\n            signal: ac.signal,\n        });\n        const fetchOpts = {\n            signal: ac.signal,\n            options,\n            context,\n        };\n        const cb = (v, updateCache = false) => {\n            const { aborted } = ac.signal;\n            const ignoreAbort = options.ignoreFetchAbort && v !== undefined;\n            if (options.status) {\n                if (aborted && !updateCache) {\n                    options.status.fetchAborted = true;\n                    options.status.fetchError = ac.signal.reason;\n                    if (ignoreAbort)\n                        options.status.fetchAbortIgnored = true;\n                }\n                else {\n                    options.status.fetchResolved = true;\n                }\n            }\n            if (aborted && !ignoreAbort && !updateCache) {\n                return fetchFail(ac.signal.reason);\n            }\n            // either we didn't abort, and are still here, or we did, and ignored\n            const bf = p;\n            if (this.#valList[index] === p) {\n                if (v === undefined) {\n                    if (bf.__staleWhileFetching) {\n                        this.#valList[index] = bf.__staleWhileFetching;\n                    }\n                    else {\n                        this.#delete(k, 'fetch');\n                    }\n                }\n                else {\n                    if (options.status)\n                        options.status.fetchUpdated = true;\n                    this.set(k, v, fetchOpts.options);\n                }\n            }\n            return v;\n        };\n        const eb = (er) => {\n            if (options.status) {\n                options.status.fetchRejected = true;\n                options.status.fetchError = er;\n            }\n            return fetchFail(er);\n        };\n        const fetchFail = (er) => {\n            const { aborted } = ac.signal;\n            const allowStaleAborted = aborted && options.allowStaleOnFetchAbort;\n            const allowStale = allowStaleAborted || options.allowStaleOnFetchRejection;\n            const noDelete = allowStale || options.noDeleteOnFetchRejection;\n            const bf = p;\n            if (this.#valList[index] === p) {\n                // if we allow stale on fetch rejections, then we need to ensure that\n                // the stale value is not removed from the cache when the fetch fails.\n                const del = !noDelete || bf.__staleWhileFetching === undefined;\n                if (del) {\n                    this.#delete(k, 'fetch');\n                }\n                else if (!allowStaleAborted) {\n                    // still replace the *promise* with the stale value,\n                    // since we are done with the promise at this point.\n                    // leave it untouched if we're still waiting for an\n                    // aborted background fetch that hasn't yet returned.\n                    this.#valList[index] = bf.__staleWhileFetching;\n                }\n            }\n            if (allowStale) {\n                if (options.status && bf.__staleWhileFetching !== undefined) {\n                    options.status.returnedStale = true;\n                }\n                return bf.__staleWhileFetching;\n            }\n            else if (bf.__returned === bf) {\n                throw er;\n            }\n        };\n        const pcall = (res, rej) => {\n            const fmp = this.#fetchMethod?.(k, v, fetchOpts);\n            if (fmp && fmp instanceof Promise) {\n                fmp.then(v => res(v === undefined ? undefined : v), rej);\n            }\n            // ignored, we go until we finish, regardless.\n            // defer check until we are actually aborting,\n            // so fetchMethod can override.\n            ac.signal.addEventListener('abort', () => {\n                if (!options.ignoreFetchAbort ||\n                    options.allowStaleOnFetchAbort) {\n                    res(undefined);\n                    // when it eventually resolves, update the cache.\n                    if (options.allowStaleOnFetchAbort) {\n                        res = v => cb(v, true);\n                    }\n                }\n            });\n        };\n        if (options.status)\n            options.status.fetchDispatched = true;\n        const p = new Promise(pcall).then(cb, eb);\n        const bf = Object.assign(p, {\n            __abortController: ac,\n            __staleWhileFetching: v,\n            __returned: undefined,\n        });\n        if (index === undefined) {\n            // internal, don't expose status.\n            this.set(k, bf, { ...fetchOpts.options, status: undefined });\n            index = this.#keyMap.get(k);\n        }\n        else {\n            this.#valList[index] = bf;\n        }\n        return bf;\n    }\n    #isBackgroundFetch(p) {\n        if (!this.#hasFetchMethod)\n            return false;\n        const b = p;\n        return (!!b &&\n            b instanceof Promise &&\n            b.hasOwnProperty('__staleWhileFetching') &&\n            b.__abortController instanceof AC);\n    }\n    async fetch(k, fetchOptions = {}) {\n        const { \n        // get options\n        allowStale = this.allowStale, updateAgeOnGet = this.updateAgeOnGet, noDeleteOnStaleGet = this.noDeleteOnStaleGet, \n        // set options\n        ttl = this.ttl, noDisposeOnSet = this.noDisposeOnSet, size = 0, sizeCalculation = this.sizeCalculation, noUpdateTTL = this.noUpdateTTL, \n        // fetch exclusive options\n        noDeleteOnFetchRejection = this.noDeleteOnFetchRejection, allowStaleOnFetchRejection = this.allowStaleOnFetchRejection, ignoreFetchAbort = this.ignoreFetchAbort, allowStaleOnFetchAbort = this.allowStaleOnFetchAbort, context, forceRefresh = false, status, signal, } = fetchOptions;\n        if (!this.#hasFetchMethod) {\n            if (status)\n                status.fetch = 'get';\n            return this.get(k, {\n                allowStale,\n                updateAgeOnGet,\n                noDeleteOnStaleGet,\n                status,\n            });\n        }\n        const options = {\n            allowStale,\n            updateAgeOnGet,\n            noDeleteOnStaleGet,\n            ttl,\n            noDisposeOnSet,\n            size,\n            sizeCalculation,\n            noUpdateTTL,\n            noDeleteOnFetchRejection,\n            allowStaleOnFetchRejection,\n            allowStaleOnFetchAbort,\n            ignoreFetchAbort,\n            status,\n            signal,\n        };\n        let index = this.#keyMap.get(k);\n        if (index === undefined) {\n            if (status)\n                status.fetch = 'miss';\n            const p = this.#backgroundFetch(k, index, options, context);\n            return (p.__returned = p);\n        }\n        else {\n            // in cache, maybe already fetching\n            const v = this.#valList[index];\n            if (this.#isBackgroundFetch(v)) {\n                const stale = allowStale && v.__staleWhileFetching !== undefined;\n                if (status) {\n                    status.fetch = 'inflight';\n                    if (stale)\n                        status.returnedStale = true;\n                }\n                return stale ? v.__staleWhileFetching : (v.__returned = v);\n            }\n            // if we force a refresh, that means do NOT serve the cached value,\n            // unless we are already in the process of refreshing the cache.\n            const isStale = this.#isStale(index);\n            if (!forceRefresh && !isStale) {\n                if (status)\n                    status.fetch = 'hit';\n                this.#moveToTail(index);\n                if (updateAgeOnGet) {\n                    this.#updateItemAge(index);\n                }\n                if (status)\n                    this.#statusTTL(status, index);\n                return v;\n            }\n            // ok, it is stale or a forced refresh, and not already fetching.\n            // refresh the cache.\n            const p = this.#backgroundFetch(k, index, options, context);\n            const hasStale = p.__staleWhileFetching !== undefined;\n            const staleVal = hasStale && allowStale;\n            if (status) {\n                status.fetch = isStale ? 'stale' : 'refresh';\n                if (staleVal && isStale)\n                    status.returnedStale = true;\n            }\n            return staleVal ? p.__staleWhileFetching : (p.__returned = p);\n        }\n    }\n    async forceFetch(k, fetchOptions = {}) {\n        const v = await this.fetch(k, fetchOptions);\n        if (v === undefined)\n            throw new Error('fetch() returned undefined');\n        return v;\n    }\n    memo(k, memoOptions = {}) {\n        const memoMethod = this.#memoMethod;\n        if (!memoMethod) {\n            throw new Error('no memoMethod provided to constructor');\n        }\n        const { context, forceRefresh, ...options } = memoOptions;\n        const v = this.get(k, options);\n        if (!forceRefresh && v !== undefined)\n            return v;\n        const vv = memoMethod(k, v, {\n            options,\n            context,\n        });\n        this.set(k, vv, options);\n        return vv;\n    }\n    /**\n     * Return a value from the cache. Will update the recency of the cache\n     * entry found.\n     *\n     * If the key is not found, get() will return `undefined`.\n     */\n    get(k, getOptions = {}) {\n        const { allowStale = this.allowStale, updateAgeOnGet = this.updateAgeOnGet, noDeleteOnStaleGet = this.noDeleteOnStaleGet, status, } = getOptions;\n        const index = this.#keyMap.get(k);\n        if (index !== undefined) {\n            const value = this.#valList[index];\n            const fetching = this.#isBackgroundFetch(value);\n            if (status)\n                this.#statusTTL(status, index);\n            if (this.#isStale(index)) {\n                if (status)\n                    status.get = 'stale';\n                // delete only if not an in-flight background fetch\n                if (!fetching) {\n                    if (!noDeleteOnStaleGet) {\n                        this.#delete(k, 'expire');\n                    }\n                    if (status && allowStale)\n                        status.returnedStale = true;\n                    return allowStale ? value : undefined;\n                }\n                else {\n                    if (status &&\n                        allowStale &&\n                        value.__staleWhileFetching !== undefined) {\n                        status.returnedStale = true;\n                    }\n                    return allowStale ? value.__staleWhileFetching : undefined;\n                }\n            }\n            else {\n                if (status)\n                    status.get = 'hit';\n                // if we're currently fetching it, we don't actually have it yet\n                // it's not stale, which means this isn't a staleWhileRefetching.\n                // If it's not stale, and fetching, AND has a __staleWhileFetching\n                // value, then that means the user fetched with {forceRefresh:true},\n                // so it's safe to return that value.\n                if (fetching) {\n                    return value.__staleWhileFetching;\n                }\n                this.#moveToTail(index);\n                if (updateAgeOnGet) {\n                    this.#updateItemAge(index);\n                }\n                return value;\n            }\n        }\n        else if (status) {\n            status.get = 'miss';\n        }\n    }\n    #connect(p, n) {\n        this.#prev[n] = p;\n        this.#next[p] = n;\n    }\n    #moveToTail(index) {\n        // if tail already, nothing to do\n        // if head, move head to next[index]\n        // else\n        //   move next[prev[index]] to next[index] (head has no prev)\n        //   move prev[next[index]] to prev[index]\n        // prev[index] = tail\n        // next[tail] = index\n        // tail = index\n        if (index !== this.#tail) {\n            if (index === this.#head) {\n                this.#head = this.#next[index];\n            }\n            else {\n                this.#connect(this.#prev[index], this.#next[index]);\n            }\n            this.#connect(this.#tail, index);\n            this.#tail = index;\n        }\n    }\n    /**\n     * Deletes a key out of the cache.\n     *\n     * Returns true if the key was deleted, false otherwise.\n     */\n    delete(k) {\n        return this.#delete(k, 'delete');\n    }\n    #delete(k, reason) {\n        let deleted = false;\n        if (this.#size !== 0) {\n            const index = this.#keyMap.get(k);\n            if (index !== undefined) {\n                deleted = true;\n                if (this.#size === 1) {\n                    this.#clear(reason);\n                }\n                else {\n                    this.#removeItemSize(index);\n                    const v = this.#valList[index];\n                    if (this.#isBackgroundFetch(v)) {\n                        v.__abortController.abort(new Error('deleted'));\n                    }\n                    else if (this.#hasDispose || this.#hasDisposeAfter) {\n                        if (this.#hasDispose) {\n                            this.#dispose?.(v, k, reason);\n                        }\n                        if (this.#hasDisposeAfter) {\n                            this.#disposed?.push([v, k, reason]);\n                        }\n                    }\n                    this.#keyMap.delete(k);\n                    this.#keyList[index] = undefined;\n                    this.#valList[index] = undefined;\n                    if (index === this.#tail) {\n                        this.#tail = this.#prev[index];\n                    }\n                    else if (index === this.#head) {\n                        this.#head = this.#next[index];\n                    }\n                    else {\n                        const pi = this.#prev[index];\n                        this.#next[pi] = this.#next[index];\n                        const ni = this.#next[index];\n                        this.#prev[ni] = this.#prev[index];\n                    }\n                    this.#size--;\n                    this.#free.push(index);\n                }\n            }\n        }\n        if (this.#hasDisposeAfter && this.#disposed?.length) {\n            const dt = this.#disposed;\n            let task;\n            while ((task = dt?.shift())) {\n                this.#disposeAfter?.(...task);\n            }\n        }\n        return deleted;\n    }\n    /**\n     * Clear the cache entirely, throwing away all values.\n     */\n    clear() {\n        return this.#clear('delete');\n    }\n    #clear(reason) {\n        for (const index of this.#rindexes({ allowStale: true })) {\n            const v = this.#valList[index];\n            if (this.#isBackgroundFetch(v)) {\n                v.__abortController.abort(new Error('deleted'));\n            }\n            else {\n                const k = this.#keyList[index];\n                if (this.#hasDispose) {\n                    this.#dispose?.(v, k, reason);\n                }\n                if (this.#hasDisposeAfter) {\n                    this.#disposed?.push([v, k, reason]);\n                }\n            }\n        }\n        this.#keyMap.clear();\n        this.#valList.fill(undefined);\n        this.#keyList.fill(undefined);\n        if (this.#ttls && this.#starts) {\n            this.#ttls.fill(0);\n            this.#starts.fill(0);\n        }\n        if (this.#sizes) {\n            this.#sizes.fill(0);\n        }\n        this.#head = 0;\n        this.#tail = 0;\n        this.#free.length = 0;\n        this.#calculatedSize = 0;\n        this.#size = 0;\n        if (this.#hasDisposeAfter && this.#disposed) {\n            const dt = this.#disposed;\n            let task;\n            while ((task = dt?.shift())) {\n                this.#disposeAfter?.(...task);\n            }\n        }\n    }\n}\n//# sourceMappingURL=index.js.map","var x=String;\nvar create=function() {return {isColorSupported:false,reset:x,bold:x,dim:x,italic:x,underline:x,inverse:x,hidden:x,strikethrough:x,black:x,red:x,green:x,yellow:x,blue:x,magenta:x,cyan:x,white:x,gray:x,bgBlack:x,bgRed:x,bgGreen:x,bgYellow:x,bgBlue:x,bgMagenta:x,bgCyan:x,bgWhite:x,blackBright:x,redBright:x,greenBright:x,yellowBright:x,blueBright:x,magentaBright:x,cyanBright:x,whiteBright:x,bgBlackBright:x,bgRedBright:x,bgGreenBright:x,bgYellowBright:x,bgBlueBright:x,bgMagentaBright:x,bgCyanBright:x,bgWhiteBright:x}};\nmodule.exports=create();\nmodule.exports.createColors = create;\n","'use strict';\n\nvar isMergeableObject = function isMergeableObject(value) {\n\treturn isNonNullObject(value)\n\t\t&& !isSpecial(value)\n};\n\nfunction isNonNullObject(value) {\n\treturn !!value && typeof value === 'object'\n}\n\nfunction isSpecial(value) {\n\tvar stringValue = Object.prototype.toString.call(value);\n\n\treturn stringValue === '[object RegExp]'\n\t\t|| stringValue === '[object Date]'\n\t\t|| isReactElement(value)\n}\n\n// see https://github.com/facebook/react/blob/b5ac963fb791d1298e7f396236383bc955f916c1/src/isomorphic/classic/element/ReactElement.js#L21-L25\nvar canUseSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = canUseSymbol ? Symbol.for('react.element') : 0xeac7;\n\nfunction isReactElement(value) {\n\treturn value.$$typeof === REACT_ELEMENT_TYPE\n}\n\nfunction emptyTarget(val) {\n\treturn Array.isArray(val) ? [] : {}\n}\n\nfunction cloneUnlessOtherwiseSpecified(value, options) {\n\treturn (options.clone !== false && options.isMergeableObject(value))\n\t\t? deepmerge(emptyTarget(value), value, options)\n\t\t: value\n}\n\nfunction defaultArrayMerge(target, source, options) {\n\treturn target.concat(source).map(function(element) {\n\t\treturn cloneUnlessOtherwiseSpecified(element, options)\n\t})\n}\n\nfunction getMergeFunction(key, options) {\n\tif (!options.customMerge) {\n\t\treturn deepmerge\n\t}\n\tvar customMerge = options.customMerge(key);\n\treturn typeof customMerge === 'function' ? customMerge : deepmerge\n}\n\nfunction getEnumerableOwnPropertySymbols(target) {\n\treturn Object.getOwnPropertySymbols\n\t\t? Object.getOwnPropertySymbols(target).filter(function(symbol) {\n\t\t\treturn Object.propertyIsEnumerable.call(target, symbol)\n\t\t})\n\t\t: []\n}\n\nfunction getKeys(target) {\n\treturn Object.keys(target).concat(getEnumerableOwnPropertySymbols(target))\n}\n\nfunction propertyIsOnObject(object, property) {\n\ttry {\n\t\treturn property in object\n\t} catch(_) {\n\t\treturn false\n\t}\n}\n\n// Protects from prototype poisoning and unexpected merging up the prototype chain.\nfunction propertyIsUnsafe(target, key) {\n\treturn propertyIsOnObject(target, key) // Properties are safe to merge if they don't exist in the target yet,\n\t\t&& !(Object.hasOwnProperty.call(target, key) // unsafe if they exist up the prototype chain,\n\t\t\t&& Object.propertyIsEnumerable.call(target, key)) // and also unsafe if they're nonenumerable.\n}\n\nfunction mergeObject(target, source, options) {\n\tvar destination = {};\n\tif (options.isMergeableObject(target)) {\n\t\tgetKeys(target).forEach(function(key) {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(target[key], options);\n\t\t});\n\t}\n\tgetKeys(source).forEach(function(key) {\n\t\tif (propertyIsUnsafe(target, key)) {\n\t\t\treturn\n\t\t}\n\n\t\tif (propertyIsOnObject(target, key) && options.isMergeableObject(source[key])) {\n\t\t\tdestination[key] = getMergeFunction(key, options)(target[key], source[key], options);\n\t\t} else {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(source[key], options);\n\t\t}\n\t});\n\treturn destination\n}\n\nfunction deepmerge(target, source, options) {\n\toptions = options || {};\n\toptions.arrayMerge = options.arrayMerge || defaultArrayMerge;\n\toptions.isMergeableObject = options.isMergeableObject || isMergeableObject;\n\t// cloneUnlessOtherwiseSpecified is added to `options` so that custom arrayMerge()\n\t// implementations can use it. The caller may not replace it.\n\toptions.cloneUnlessOtherwiseSpecified = cloneUnlessOtherwiseSpecified;\n\n\tvar sourceIsArray = Array.isArray(source);\n\tvar targetIsArray = Array.isArray(target);\n\tvar sourceAndTargetTypesMatch = sourceIsArray === targetIsArray;\n\n\tif (!sourceAndTargetTypesMatch) {\n\t\treturn cloneUnlessOtherwiseSpecified(source, options)\n\t} else if (sourceIsArray) {\n\t\treturn options.arrayMerge(target, source, options)\n\t} else {\n\t\treturn mergeObject(target, source, options)\n\t}\n}\n\ndeepmerge.all = function deepmergeAll(array, options) {\n\tif (!Array.isArray(array)) {\n\t\tthrow new Error('first argument should be an array')\n\t}\n\n\treturn array.reduce(function(prev, next) {\n\t\treturn deepmerge(prev, next, options)\n\t}, {})\n};\n\nvar deepmerge_1 = deepmerge;\n\nmodule.exports = deepmerge_1;\n","import { injectStyles } from '../injectStyles/dist/vanilla-extract-css-injectStyles.browser.esm.js';\nimport { t as transformCss, _ as _objectSpread2, a as _objectWithoutProperties, d as dedupeAndJoinClassList } from './transformCss-20240126.browser.esm.js';\nimport { setAdapterIfNotSet, getIdentOption, appendCss, registerClassName, registerComposition, markCompositionUsed } from '../adapter/dist/vanilla-extract-css-adapter.browser.esm.js';\nimport hash from '@emotion/hash';\nimport { getAndIncrementRefCounter, getFileScope, hasFileScope } from '../fileScope/dist/vanilla-extract-css-fileScope.browser.esm.js';\nimport { LRUCache } from 'lru-cache';\nimport { walkObject, get } from '@vanilla-extract/private';\nimport cssesc from 'cssesc';\nimport { diff } from 'deep-object-diff';\nimport pc from 'picocolors';\nimport { _ as _taggedTemplateLiteral } from './taggedTemplateLiteral-8e47dbd7.browser.esm.js';\nimport dedent from 'dedent';\nimport deepmerge from 'deepmerge';\nimport 'modern-ahocorasick';\nimport 'css-what';\nimport 'media-query-parser';\n\nvar localClassNames = new Set();\nvar composedClassLists = [];\nvar bufferedCSSObjs = [];\nvar browserRuntimeAdapter = {\n  appendCss: cssObj => {\n    bufferedCSSObjs.push(cssObj);\n  },\n  registerClassName: className => {\n    localClassNames.add(className);\n  },\n  registerComposition: composition => {\n    composedClassLists.push(composition);\n  },\n  markCompositionUsed: () => {},\n  onEndFileScope: fileScope => {\n    var css = transformCss({\n      localClassNames: Array.from(localClassNames),\n      composedClassLists,\n      cssObjs: bufferedCSSObjs\n    }).join('\\n');\n    injectStyles({\n      fileScope,\n      css\n    });\n    bufferedCSSObjs = [];\n  },\n  getIdentOption: () => process.env.NODE_ENV === 'production' ? 'short' : 'debug'\n};\n{\n  setAdapterIfNotSet(browserRuntimeAdapter);\n}\n\nvar getLastSlashBeforeIndex = (path, index) => {\n  var pathIndex = index - 1;\n  while (pathIndex >= 0) {\n    if (path[pathIndex] === '/') {\n      return pathIndex;\n    }\n    pathIndex--;\n  }\n  return -1;\n};\n\n/**\n * Assumptions:\n * - The path is always normalized to use posix file separators (/) (see `addFileScope`)\n * - The path is always relative to the project root, i.e. there will never be a leading slash (see `addFileScope`)\n * - As long as `.css` is there, we have a valid `.css.*` file path, because otherwise there wouldn't\n *   be a file scope to begin with\n *\n * The LRU cache we use can't cache undefined/null values, so we opt to return an empty string,\n * rather than using a custom Symbol or something similar.\n */\nvar _getDebugFileName = path => {\n  var file;\n  var lastIndexOfDotCss = path.lastIndexOf('.css');\n  if (lastIndexOfDotCss === -1) {\n    return '';\n  }\n  var lastSlashIndex = getLastSlashBeforeIndex(path, lastIndexOfDotCss);\n  file = path.slice(lastSlashIndex + 1, lastIndexOfDotCss);\n\n  // There are no slashes, therefore theres no directory to extract\n  if (lastSlashIndex === -1) {\n    return file;\n  }\n  var secondLastSlashIndex = getLastSlashBeforeIndex(path, lastSlashIndex - 1);\n  // If secondLastSlashIndex is -1, it means that the path looks like `directory/file.css.ts`,\n  // in which case dir will still be sliced starting at 0, which is what we want\n  var dir = path.slice(secondLastSlashIndex + 1, lastSlashIndex);\n  var debugFileName = file !== 'index' ? file : dir;\n  return debugFileName;\n};\nvar memoizedGetDebugFileName = () => {\n  var cache = new LRUCache({\n    max: 500\n  });\n  return path => {\n    var cachedResult = cache.get(path);\n    if (cachedResult) {\n      return cachedResult;\n    }\n    var result = _getDebugFileName(path);\n    cache.set(path, result);\n    return result;\n  };\n};\nvar getDebugFileName = memoizedGetDebugFileName();\n\nfunction getDevPrefix(_ref) {\n  var {\n    debugId,\n    debugFileName\n  } = _ref;\n  var parts = debugId ? [debugId.replace(/\\s/g, '_')] : [];\n  if (debugFileName) {\n    var {\n      filePath\n    } = getFileScope();\n    var _debugFileName = getDebugFileName(filePath);\n\n    // debugFileName could be an empty string\n    if (_debugFileName) {\n      parts.unshift(_debugFileName);\n    }\n  }\n  return parts.join('_');\n}\nfunction normalizeIdentifier(identifier) {\n  return identifier.match(/^[0-9]/) ? \"_\".concat(identifier) : identifier;\n}\nfunction generateIdentifier(arg) {\n  var identOption = getIdentOption();\n  var {\n    debugId,\n    debugFileName = true\n  } = _objectSpread2(_objectSpread2({}, typeof arg === 'string' ? {\n    debugId: arg\n  } : null), typeof arg === 'object' ? arg : null);\n\n  // Convert ref count to base 36 for optimal hash lengths\n  var refCount = getAndIncrementRefCounter().toString(36);\n  var {\n    filePath,\n    packageName\n  } = getFileScope();\n  var fileScopeHash = hash(packageName ? \"\".concat(packageName).concat(filePath) : filePath);\n  var identifier = \"\".concat(fileScopeHash).concat(refCount);\n  if (identOption === 'debug') {\n    var devPrefix = getDevPrefix({\n      debugId,\n      debugFileName\n    });\n    if (devPrefix) {\n      identifier = \"\".concat(devPrefix, \"__\").concat(identifier);\n    }\n    return normalizeIdentifier(identifier);\n  }\n  if (typeof identOption === 'function') {\n    identifier = identOption({\n      hash: identifier,\n      debugId,\n      filePath,\n      packageName\n    });\n    if (!identifier.match(/^[A-Z_][0-9A-Z_-]+$/i)) {\n      throw new Error(\"Identifier function returned invalid indentifier: \\\"\".concat(identifier, \"\\\"\"));\n    }\n    return identifier;\n  }\n  return normalizeIdentifier(identifier);\n}\n\nvar normaliseObject = obj => walkObject(obj, () => '');\nfunction validateContract(contract, tokens) {\n  var theDiff = diff(normaliseObject(contract), normaliseObject(tokens));\n  var valid = Object.keys(theDiff).length === 0;\n  return {\n    valid,\n    diffString: valid ? '' : renderDiff(contract, theDiff)\n  };\n}\nfunction diffLine(value, nesting, type) {\n  var whitespace = [...Array(nesting).keys()].map(() => '  ').join('');\n  var line = \"\".concat(type ? type : ' ').concat(whitespace).concat(value);\n  if (process.env.NODE_ENV !== 'test') {\n    if (type === '-') {\n      return pc.red(line);\n    }\n    if (type === '+') {\n      return pc.green(line);\n    }\n  }\n  return line;\n}\nfunction renderDiff(orig, diff) {\n  var nesting = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n  var lines = [];\n  if (nesting === 0) {\n    lines.push(diffLine('{', 0));\n  }\n  var innerNesting = nesting + 1;\n  var keys = Object.keys(diff).sort();\n  for (var key of keys) {\n    var value = diff[key];\n    if (!(key in orig)) {\n      lines.push(diffLine(\"\".concat(key, \": ...,\"), innerNesting, '+'));\n    } else if (typeof value === 'object') {\n      lines.push(diffLine(\"\".concat(key, \": {\"), innerNesting));\n      lines.push(renderDiff(orig[key], diff[key], innerNesting));\n      lines.push(diffLine('}', innerNesting));\n    } else {\n      lines.push(diffLine(\"\".concat(key, \": ...,\"), innerNesting, '-'));\n    }\n  }\n  if (nesting === 0) {\n    lines.push(diffLine('}', 0));\n  }\n  return lines.join('\\n');\n}\n\nvar buildPropertyRule = _ref => {\n  var {\n    syntax,\n    inherits,\n    initialValue\n  } = _ref;\n  return _objectSpread2({\n    syntax: \"\\\"\".concat(Array.isArray(syntax) ? syntax.join(' | ') : syntax, \"\\\"\"),\n    inherits: inherits ? 'true' : 'false'\n  }, initialValue != null ? {\n    initialValue\n  } : {});\n};\nfunction createVar(debugIdOrDeclaration, debugId) {\n  var cssVarName = cssesc(generateIdentifier({\n    debugId: typeof debugIdOrDeclaration === 'string' ? debugIdOrDeclaration : debugId,\n    debugFileName: false\n  }), {\n    isIdentifier: true\n  });\n  if (debugIdOrDeclaration && typeof debugIdOrDeclaration === 'object') {\n    appendCss({\n      type: 'property',\n      name: \"--\".concat(cssVarName),\n      rule: buildPropertyRule(debugIdOrDeclaration)\n    }, getFileScope());\n  }\n  return \"var(--\".concat(cssVarName, \")\");\n}\nfunction createGlobalVar(name, declaration) {\n  if (declaration && typeof declaration === 'object') {\n    appendCss({\n      type: 'property',\n      name: \"--\".concat(name),\n      rule: buildPropertyRule(declaration)\n    }, getFileScope());\n  }\n  return \"var(--\".concat(name, \")\");\n}\nfunction assertVarName(value) {\n  if (typeof value !== 'string' || !/^var\\(--.*\\)$/.test(value)) {\n    throw new Error(\"Invalid variable name: \".concat(value));\n  }\n}\nfunction fallbackVar() {\n  var finalValue = '';\n  for (var _len = arguments.length, values = new Array(_len), _key = 0; _key < _len; _key++) {\n    values[_key] = arguments[_key];\n  }\n  values.reverse().forEach(value => {\n    if (finalValue === '') {\n      finalValue = String(value);\n    } else {\n      assertVarName(value);\n      finalValue = value.replace(/\\)$/, \", \".concat(finalValue, \")\"));\n    }\n  });\n  return finalValue;\n}\nfunction assignVars(varContract, tokens) {\n  var varSetters = {};\n  var {\n    valid,\n    diffString\n  } = validateContract(varContract, tokens);\n  if (!valid) {\n    throw new Error(\"Tokens don't match contract.\\n\".concat(diffString));\n  }\n  walkObject(tokens, (value, path) => {\n    varSetters[get(varContract, path)] = String(value);\n  });\n  return varSetters;\n}\nfunction createThemeContract(tokens) {\n  return walkObject(tokens, (_value, path) => {\n    return createVar(path.join('-'));\n  });\n}\nfunction createGlobalThemeContract(tokens, mapFn) {\n  return walkObject(tokens, (value, path) => {\n    var rawVarName = typeof mapFn === 'function' ? mapFn(value, path) : value;\n    var varName = typeof rawVarName === 'string' ? rawVarName.replace(/^--/, '') : null;\n    if (typeof varName !== 'string' || varName !== cssesc(varName, {\n      isIdentifier: true\n    })) {\n      throw new Error(\"Invalid variable name for \\\"\".concat(path.join('.'), \"\\\": \").concat(varName));\n    }\n    return \"var(--\".concat(varName, \")\");\n  });\n}\n\nvar _excluded = [\"@layer\"];\nfunction createGlobalTheme(selector, arg2, arg3) {\n  var themeContractProvided = Boolean(arg3);\n  var tokenArg = themeContractProvided ? arg3 : arg2;\n  var {\n    layerName,\n    tokens\n  } = extractLayerFromTokens(tokenArg);\n  var themeContract = themeContractProvided ? arg2 : createThemeContract(tokens);\n  var rule = {\n    vars: assignVars(themeContract, tokens)\n  };\n  if (layerName) {\n    rule = {\n      '@layer': {\n        [layerName]: rule\n      }\n    };\n  }\n  appendCss({\n    type: 'global',\n    selector: selector,\n    rule\n  }, getFileScope());\n  if (!themeContractProvided) {\n    return themeContract;\n  }\n}\nfunction createTheme(arg1, arg2, arg3) {\n  var themeClassName = generateIdentifier(typeof arg2 === 'object' ? arg3 : arg2);\n  registerClassName(themeClassName, getFileScope());\n  var vars = typeof arg2 === 'object' ? createGlobalTheme(themeClassName, arg1, arg2) : createGlobalTheme(themeClassName, arg1);\n  return vars ? [themeClassName, vars] : themeClassName;\n}\nfunction extractLayerFromTokens(tokens) {\n  if ('@layer' in tokens) {\n    var {\n        '@layer': layerName\n      } = tokens,\n      rest = _objectWithoutProperties(tokens, _excluded);\n    return {\n      layerName,\n      tokens: rest\n    };\n  }\n  return {\n    tokens\n  };\n}\n\nvar _templateObject;\nfunction composedStyle(rules, debugId) {\n  var className = generateIdentifier(debugId);\n  registerClassName(className, getFileScope());\n  var classList = [];\n  var styleRules = [];\n  for (var rule of rules) {\n    if (typeof rule === 'string') {\n      classList.push(rule);\n    } else {\n      styleRules.push(rule);\n    }\n  }\n  var result = className;\n  if (classList.length > 0) {\n    result = \"\".concat(className, \" \").concat(dedupeAndJoinClassList(classList));\n    registerComposition({\n      identifier: className,\n      classList: result\n    }, getFileScope());\n    if (styleRules.length > 0) {\n      // If there are styles attached to this composition then it is\n      // always used and should never be removed\n      markCompositionUsed(className);\n    }\n  }\n  if (styleRules.length > 0) {\n    var _rule = deepmerge.all(styleRules, {\n      // Replace arrays rather than merging\n      arrayMerge: (_, sourceArray) => sourceArray\n    });\n    appendCss({\n      type: 'local',\n      selector: className,\n      rule: _rule\n    }, getFileScope());\n  }\n  return result;\n}\nfunction style(rule, debugId) {\n  if (Array.isArray(rule)) {\n    return composedStyle(rule, debugId);\n  }\n  var className = generateIdentifier(debugId);\n  registerClassName(className, getFileScope());\n  appendCss({\n    type: 'local',\n    selector: className,\n    rule\n  }, getFileScope());\n  return className;\n}\n\n/**\n * @deprecated The same functionality is now provided by the 'style' function when you pass it an array\n */\nfunction composeStyles() {\n  var compose = hasFileScope() ? composedStyle : dedupeAndJoinClassList;\n  for (var _len = arguments.length, classNames = new Array(_len), _key = 0; _key < _len; _key++) {\n    classNames[_key] = arguments[_key];\n  }\n  return compose(classNames);\n}\nfunction globalStyle(selector, rule) {\n  appendCss({\n    type: 'global',\n    selector,\n    rule\n  }, getFileScope());\n}\nfunction fontFace(rule, debugId) {\n  var fontFamily = \"\\\"\".concat(cssesc(generateIdentifier(debugId), {\n    quotes: 'double'\n  }), \"\\\"\");\n  var rules = Array.isArray(rule) ? rule : [rule];\n  for (var singleRule of rules) {\n    if ('fontFamily' in singleRule) {\n      throw new Error(dedent(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n      This function creates and returns a hashed font-family name, so the \\\"fontFamily\\\" property should not be provided.\\n    \\n      If you'd like to define a globally scoped custom font, you can use the \\\"globalFontFace\\\" function instead.\\n    \"]))));\n    }\n    appendCss({\n      type: 'fontFace',\n      rule: _objectSpread2(_objectSpread2({}, singleRule), {}, {\n        fontFamily\n      })\n    }, getFileScope());\n  }\n  return fontFamily;\n}\nfunction globalFontFace(fontFamily, rule) {\n  var rules = Array.isArray(rule) ? rule : [rule];\n  for (var singleRule of rules) {\n    appendCss({\n      type: 'fontFace',\n      rule: _objectSpread2(_objectSpread2({}, singleRule), {}, {\n        fontFamily\n      })\n    }, getFileScope());\n  }\n}\nfunction keyframes(rule, debugId) {\n  var name = cssesc(generateIdentifier(debugId), {\n    isIdentifier: true\n  });\n  appendCss({\n    type: 'keyframes',\n    name,\n    rule\n  }, getFileScope());\n  return name;\n}\nfunction globalKeyframes(name, rule) {\n  appendCss({\n    type: 'keyframes',\n    name,\n    rule\n  }, getFileScope());\n}\nfunction styleVariants() {\n  if (typeof (arguments.length <= 1 ? undefined : arguments[1]) === 'function') {\n    var _data = arguments.length <= 0 ? undefined : arguments[0];\n    var _mapData = arguments.length <= 1 ? undefined : arguments[1];\n    var _debugId = arguments.length <= 2 ? undefined : arguments[2];\n    var _classMap = {};\n    for (var _key2 in _data) {\n      _classMap[_key2] = style(_mapData(_data[_key2], _key2), _debugId ? \"\".concat(_debugId, \"_\").concat(_key2) : _key2);\n    }\n    return _classMap;\n  }\n  var styleMap = arguments.length <= 0 ? undefined : arguments[0];\n  var debugId = arguments.length <= 1 ? undefined : arguments[1];\n  var classMap = {};\n  for (var _key3 in styleMap) {\n    classMap[_key3] = style(styleMap[_key3], debugId ? \"\".concat(debugId, \"_\").concat(_key3) : _key3);\n  }\n  return classMap;\n}\n\n// createContainer is used for local scoping of CSS containers\n// For now it is mostly just an alias of generateIdentifier\nvar createContainer = debugId => generateIdentifier(debugId);\n\n// createViewTransition is used for locally scoping CSS view transitions\n// For now it is mostly just an alias of generateIdentifier\nvar createViewTransition = debugId => generateIdentifier(debugId);\n\nvar defaultLayerOptions = {};\nvar merge = (obj1, obj2) => _objectSpread2(_objectSpread2({}, obj1), obj2);\nvar getLayerArgs = function getLayerArgs() {\n  var options = defaultLayerOptions;\n  var debugId = arguments.length <= 0 ? undefined : arguments[0];\n  if (typeof (arguments.length <= 0 ? undefined : arguments[0]) === 'object') {\n    options = merge(defaultLayerOptions, arguments.length <= 0 ? undefined : arguments[0]);\n    debugId = arguments.length <= 1 ? undefined : arguments[1];\n  }\n  return [options, debugId];\n};\nfunction layer() {\n  var [options, debugId] = getLayerArgs(...arguments);\n  var name = generateIdentifier(debugId);\n  if (options.parent) {\n    name = \"\".concat(options.parent, \".\").concat(name);\n  }\n  appendCss({\n    type: 'layer',\n    name\n  }, getFileScope());\n  return name;\n}\nfunction globalLayer() {\n  var [options, name] = getLayerArgs(...arguments);\n  if (options.parent) {\n    name = \"\".concat(options.parent, \".\").concat(name);\n  }\n  appendCss({\n    type: 'layer',\n    name\n  }, getFileScope());\n  return name;\n}\n\nexport { assertVarName, assignVars, composeStyles, createContainer, createGlobalTheme, createGlobalThemeContract, createGlobalVar, createTheme, createThemeContract, createVar, createViewTransition, fallbackVar, fontFace, generateIdentifier, globalFontFace, globalKeyframes, globalLayer, globalStyle, keyframes, layer, style, styleVariants };\n","var __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __typeError = (msg) => {\n  throw TypeError(msg);\n};\nvar __esm = (fn, res) => function __init() {\n  return fn && (res = (0, fn[__getOwnPropNames(fn)[0]])(fn = 0)), res;\n};\nvar __commonJS = (cb, mod) => function __require() {\n  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(\n  // If the importer is in node compatibility mode or this is not an ESM\n  // file that has been converted to a CommonJS file using a Babel-\n  // compatible transform (i.e. \"__esModule\" has not been set), then set\n  // \"default\" to the CommonJS \"module.exports\" for node compatibility.\n  isNodeMode || !mod || !mod.__esModule ? __defProp(target, \"default\", { value: mod, enumerable: true }) : target,\n  mod\n));\nvar __accessCheck = (obj, member, msg) => member.has(obj) || __typeError(\"Cannot \" + msg);\nvar __privateGet = (obj, member, getter) => (__accessCheck(obj, member, \"read from private field\"), getter ? getter.call(obj) : member.get(obj));\nvar __privateAdd = (obj, member, value) => member.has(obj) ? __typeError(\"Cannot add the same private member more than once\") : member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n\n// vanilla-extract-css-ns:src/components/styling/StyleMarker.css.ts.vanilla.css?source=OndoZXJlKCopIHsKICBib3gtc2l6aW5nOiBib3JkZXItYm94OwogIGNvbG9yOiB2YXIoLS1kYXBwLWtpdC1jb2xvcnMtYm9keSk7CiAgZm9udC1mYW1pbHk6IHZhcigtLWRhcHAta2l0LXR5cG9ncmFwaHktZm9udEZhbWlseSk7CiAgZm9udC1zaXplOiB2YXIoLS1kYXBwLWtpdC1mb250V2VpZ2h0cy1ub3JtYWwpOwogIGZvbnQtc3R5bGU6IHZhcigtLWRhcHAta2l0LXR5cG9ncmFwaHktZm9udFN0eWxlKTsKICBmb250LXdlaWdodDogdmFyKC0tZGFwcC1raXQtZm9udFdlaWdodHMtbm9ybWFsKTsKICBsaW5lLWhlaWdodDogdmFyKC0tZGFwcC1raXQtdHlwb2dyYXBoeS1saW5lSGVpZ2h0KTsKICBsZXR0ZXItc3BhY2luZzogdmFyKC0tZGFwcC1raXQtdHlwb2dyYXBoeS1sZXR0ZXJTcGFjaW5nKTsKfQo6d2hlcmUoYnV0dG9uKSB7CiAgYXBwZWFyYW5jZTogbm9uZTsKICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDsKICBmb250LXNpemU6IGluaGVyaXQ7CiAgZm9udC1mYW1pbHk6IGluaGVyaXQ7CiAgbGluZS1oZWlnaHQ6IGluaGVyaXQ7CiAgbGV0dGVyLXNwYWNpbmc6IGluaGVyaXQ7CiAgY29sb3I6IGluaGVyaXQ7CiAgYm9yZGVyOiAwOwogIHBhZGRpbmc6IDA7CiAgbWFyZ2luOiAwOwp9Cjp3aGVyZShhKSB7CiAgdGV4dC1kZWNvcmF0aW9uOiBub25lOwogIGNvbG9yOiBpbmhlcml0OwogIG91dGxpbmU6IG5vbmU7Cn0KOndoZXJlKG9sLCB1bCkgewogIGxpc3Qtc3R5bGU6IG5vbmU7CiAgbWFyZ2luOiAwOwogIHBhZGRpbmc6IDA7Cn0KOndoZXJlKGgxLCBoMiwgaDMsIGg0LCBoNSwgaDYpIHsKICBmb250LXNpemU6IGluaGVyaXQ7CiAgZm9udC13ZWlnaHQ6IGluaGVyaXQ7CiAgbWFyZ2luOiAwOwp9\nvar init_StyleMarker_css_ts_vanilla = __esm({\n  \"vanilla-extract-css-ns:src/components/styling/StyleMarker.css.ts.vanilla.css?source=OndoZXJlKCopIHsKICBib3gtc2l6aW5nOiBib3JkZXItYm94OwogIGNvbG9yOiB2YXIoLS1kYXBwLWtpdC1jb2xvcnMtYm9keSk7CiAgZm9udC1mYW1pbHk6IHZhcigtLWRhcHAta2l0LXR5cG9ncmFwaHktZm9udEZhbWlseSk7CiAgZm9udC1zaXplOiB2YXIoLS1kYXBwLWtpdC1mb250V2VpZ2h0cy1ub3JtYWwpOwogIGZvbnQtc3R5bGU6IHZhcigtLWRhcHAta2l0LXR5cG9ncmFwaHktZm9udFN0eWxlKTsKICBmb250LXdlaWdodDogdmFyKC0tZGFwcC1raXQtZm9udFdlaWdodHMtbm9ybWFsKTsKICBsaW5lLWhlaWdodDogdmFyKC0tZGFwcC1raXQtdHlwb2dyYXBoeS1saW5lSGVpZ2h0KTsKICBsZXR0ZXItc3BhY2luZzogdmFyKC0tZGFwcC1raXQtdHlwb2dyYXBoeS1sZXR0ZXJTcGFjaW5nKTsKfQo6d2hlcmUoYnV0dG9uKSB7CiAgYXBwZWFyYW5jZTogbm9uZTsKICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDsKICBmb250LXNpemU6IGluaGVyaXQ7CiAgZm9udC1mYW1pbHk6IGluaGVyaXQ7CiAgbGluZS1oZWlnaHQ6IGluaGVyaXQ7CiAgbGV0dGVyLXNwYWNpbmc6IGluaGVyaXQ7CiAgY29sb3I6IGluaGVyaXQ7CiAgYm9yZGVyOiAwOwogIHBhZGRpbmc6IDA7CiAgbWFyZ2luOiAwOwp9Cjp3aGVyZShhKSB7CiAgdGV4dC1kZWNvcmF0aW9uOiBub25lOwogIGNvbG9yOiBpbmhlcml0OwogIG91dGxpbmU6IG5vbmU7Cn0KOndoZXJlKG9sLCB1bCkgewogIGxpc3Qtc3R5bGU6IG5vbmU7CiAgbWFyZ2luOiAwOwogIHBhZGRpbmc6IDA7Cn0KOndoZXJlKGgxLCBoMiwgaDMsIGg0LCBoNSwgaDYpIHsKICBmb250LXNpemU6IGluaGVyaXQ7CiAgZm9udC13ZWlnaHQ6IGluaGVyaXQ7CiAgbWFyZ2luOiAwOwp9\"() {\n  }\n});\n\n// src/components/styling/StyleMarker.css.ts\nvar require_StyleMarker_css = __commonJS({\n  \"src/components/styling/StyleMarker.css.ts\"() {\n    \"use strict\";\n    init_StyleMarker_css_ts_vanilla();\n  }\n});\n\n// src/components/connect-modal/ConnectModal.tsx\nimport * as Dialog from \"@radix-ui/react-dialog\";\nimport clsx6 from \"clsx\";\nimport { useState } from \"react\";\n\n// src/constants/walletDefaults.ts\nimport { SLUSH_WALLET_NAME } from \"@mysten/slush-wallet\";\n\n// src/utils/stateStorage.ts\nfunction createInMemoryStore() {\n  const store = /* @__PURE__ */ new Map();\n  return {\n    getItem(key) {\n      return store.get(key);\n    },\n    setItem(key, value) {\n      store.set(key, value);\n    },\n    removeItem(key) {\n      store.delete(key);\n    }\n  };\n}\n\n// src/constants/walletDefaults.ts\nvar SUI_WALLET_NAME = \"Sui Wallet\";\nvar DEFAULT_STORAGE = typeof window !== \"undefined\" && window.localStorage ? localStorage : createInMemoryStore();\nvar DEFAULT_STORAGE_KEY = \"sui-dapp-kit:wallet-connection-info\";\nvar SIGN_FEATURES = [\n  \"sui:signTransaction\",\n  \"sui:signTransactionBlock\"\n];\nvar DEFAULT_WALLET_FILTER = (wallet) => SIGN_FEATURES.some((feature) => wallet.features[feature]);\nvar DEFAULT_PREFERRED_WALLETS = [SUI_WALLET_NAME, SLUSH_WALLET_NAME];\n\n// src/hooks/wallet/useConnectWallet.ts\nimport { useMutation } from \"@tanstack/react-query\";\n\n// src/constants/walletMutationKeys.ts\nvar walletMutationKeys = {\n  all: { baseScope: \"wallet\" },\n  connectWallet: formMutationKeyFn(\"connect-wallet\"),\n  autoconnectWallet: formMutationKeyFn(\"autoconnect-wallet\"),\n  disconnectWallet: formMutationKeyFn(\"disconnect-wallet\"),\n  signPersonalMessage: formMutationKeyFn(\"sign-personal-message\"),\n  signTransaction: formMutationKeyFn(\"sign-transaction\"),\n  signAndExecuteTransaction: formMutationKeyFn(\"sign-and-execute-transaction\"),\n  switchAccount: formMutationKeyFn(\"switch-account\"),\n  reportTransactionEffects: formMutationKeyFn(\"report-transaction-effects\")\n};\nfunction formMutationKeyFn(baseEntity) {\n  return function mutationKeyFn(additionalKeys = []) {\n    return [{ ...walletMutationKeys.all, baseEntity }, ...additionalKeys];\n  };\n}\n\n// src/hooks/wallet/useWalletStore.ts\nimport { useContext } from \"react\";\nimport { useStore } from \"zustand\";\n\n// src/contexts/walletContext.ts\nimport { createContext } from \"react\";\nvar WalletContext = createContext(null);\n\n// src/hooks/wallet/useWalletStore.ts\nfunction useWalletStore(selector) {\n  const store = useContext(WalletContext);\n  if (!store) {\n    throw new Error(\n      \"Could not find WalletContext. Ensure that you have set up the WalletProvider.\"\n    );\n  }\n  return useStore(store, selector);\n}\n\n// src/hooks/wallet/useConnectWallet.ts\nfunction useConnectWallet({\n  mutationKey,\n  ...mutationOptions\n} = {}) {\n  const setWalletConnected = useWalletStore((state) => state.setWalletConnected);\n  const setConnectionStatus = useWalletStore((state) => state.setConnectionStatus);\n  return useMutation({\n    mutationKey: walletMutationKeys.connectWallet(mutationKey),\n    mutationFn: async ({ wallet, accountAddress, ...connectArgs }) => {\n      try {\n        setConnectionStatus(\"connecting\");\n        const connectResult = await wallet.features[\"standard:connect\"].connect(connectArgs);\n        let supportedIntents = connectResult.supportedIntents;\n        if (!supportedIntents && wallet.features[\"sui:getCapabilities\"]) {\n          supportedIntents = (await wallet.features[\"sui:getCapabilities\"].getCapabilities()).supportedIntents ?? [];\n        }\n        const connectedSuiAccounts = connectResult.accounts.filter(\n          (account) => account.chains.some((chain) => chain.split(\":\")[0] === \"sui\")\n        );\n        const selectedAccount = getSelectedAccount(connectedSuiAccounts, accountAddress);\n        setWalletConnected(wallet, connectedSuiAccounts, selectedAccount, supportedIntents);\n        return { accounts: connectedSuiAccounts };\n      } catch (error) {\n        setConnectionStatus(\"disconnected\");\n        throw error;\n      }\n    },\n    ...mutationOptions\n  });\n}\nfunction getSelectedAccount(connectedAccounts, accountAddress) {\n  if (connectedAccounts.length === 0) {\n    return null;\n  }\n  if (accountAddress) {\n    const selectedAccount = connectedAccounts.find((account) => account.address === accountAddress);\n    return selectedAccount ?? connectedAccounts[0];\n  }\n  return connectedAccounts[0];\n}\n\n// src/hooks/wallet/useWallets.ts\nfunction useWallets() {\n  return useWalletStore((state) => state.wallets);\n}\n\n// src/utils/walletUtils.ts\nimport { getWallets, isWalletWithRequiredFeatureSet } from \"@mysten/wallet-standard\";\nfunction getRegisteredWallets(preferredWallets, walletFilter) {\n  const walletsApi = getWallets();\n  const wallets = walletsApi.get();\n  const suiWallets = wallets.filter(\n    (wallet) => isWalletWithRequiredFeatureSet(wallet) && (!walletFilter || walletFilter(wallet))\n  );\n  return [\n    // Preferred wallets, in order:\n    ...preferredWallets.map((name) => suiWallets.find((wallet) => wallet.name === name)).filter(Boolean),\n    // Wallets in default order:\n    ...suiWallets.filter((wallet) => !preferredWallets.includes(wallet.name))\n  ];\n}\nfunction getWalletUniqueIdentifier(wallet) {\n  return wallet?.id ?? wallet?.name;\n}\n\n// src/components/icons/BackIcon.tsx\nimport { jsx } from \"react/jsx-runtime\";\nfunction BackIcon(props) {\n  return /* @__PURE__ */ jsx(\"svg\", { width: 24, height: 24, fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", ...props, children: /* @__PURE__ */ jsx(\n    \"path\",\n    {\n      d: \"M7.57 12.262c0 .341.13.629.403.895l5.175 5.059c.204.205.45.307.751.307.609 0 1.101-.485 1.101-1.087 0-.293-.123-.574-.349-.8L10.14 12.27l4.511-4.375A1.13 1.13 0 0 0 15 7.087C15 6.485 14.508 6 13.9 6c-.295 0-.54.103-.752.308l-5.175 5.058c-.28.28-.404.56-.404.896Z\",\n      fill: \"currentColor\"\n    }\n  ) });\n}\n\n// src/components/icons/CloseIcon.tsx\nimport { jsx as jsx2 } from \"react/jsx-runtime\";\nfunction CloseIcon(props) {\n  return /* @__PURE__ */ jsx2(\"svg\", { width: 10, height: 10, fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", ...props, children: /* @__PURE__ */ jsx2(\n    \"path\",\n    {\n      d: \"M9.708.292a.999.999 0 0 0-1.413 0l-3.289 3.29L1.717.291A.999.999 0 0 0 .305 1.705l3.289 3.289-3.29 3.289a.999.999 0 1 0 1.413 1.412l3.29-3.289 3.288 3.29a.999.999 0 0 0 1.413-1.413l-3.29-3.29 3.29-3.288a.999.999 0 0 0 0-1.413Z\",\n      fill: \"currentColor\"\n    }\n  ) });\n}\n\n// src/components/styling/StyleMarker.tsx\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { forwardRef } from \"react\";\n\n// src/constants/styleDataAttribute.ts\nvar styleDataAttributeName = \"data-dapp-kit\";\nvar styleDataAttributeSelector = `[${styleDataAttributeName}]`;\nvar styleDataAttribute = { [styleDataAttributeName]: \"\" };\n\n// src/components/styling/StyleMarker.tsx\nvar import_StyleMarker_css = __toESM(require_StyleMarker_css());\nimport { jsx as jsx3 } from \"react/jsx-runtime\";\nvar StyleMarker = forwardRef(({ children, ...props }, forwardedRef) => /* @__PURE__ */ jsx3(Slot, { ref: forwardedRef, ...props, ...styleDataAttribute, children }));\nStyleMarker.displayName = \"StyleMarker\";\n\n// src/components/ui/Heading.tsx\nimport { Slot as Slot2 } from \"@radix-ui/react-slot\";\nimport clsx from \"clsx\";\nimport { forwardRef as forwardRef2 } from \"react\";\n\n// src/components/ui/Heading.css.ts\nimport { createRuntimeFn as _7a468 } from \"@vanilla-extract/recipes/createRuntimeFn\";\nvar headingVariants = _7a468({ defaultClassName: \"Heading__1aa835k0\", variantClassNames: { size: { sm: \"Heading_headingVariants_size_sm__1aa835k1\", md: \"Heading_headingVariants_size_md__1aa835k2\", lg: \"Heading_headingVariants_size_lg__1aa835k3\", xl: \"Heading_headingVariants_size_xl__1aa835k4\" }, weight: { normal: \"Heading_headingVariants_weight_normal__1aa835k5\", bold: \"Heading_headingVariants_weight_bold__1aa835k6\" }, truncate: { true: \"Heading_headingVariants_truncate_true__1aa835k7\" } }, defaultVariants: { size: \"lg\", weight: \"bold\" }, compoundVariants: [] });\n\n// src/components/ui/Heading.tsx\nimport { jsx as jsx4 } from \"react/jsx-runtime\";\nvar Heading = forwardRef2(\n  ({\n    children,\n    className,\n    asChild = false,\n    as: Tag = \"h1\",\n    size,\n    weight,\n    truncate,\n    ...headingProps\n  }, forwardedRef) => {\n    return /* @__PURE__ */ jsx4(\n      Slot2,\n      {\n        ...headingProps,\n        ref: forwardedRef,\n        className: clsx(headingVariants({ size, weight, truncate }), className),\n        children: asChild ? children : /* @__PURE__ */ jsx4(Tag, { children })\n      }\n    );\n  }\n);\nHeading.displayName = \"Heading\";\n\n// src/components/ui/IconButton.tsx\nimport { Slot as Slot3 } from \"@radix-ui/react-slot\";\nimport clsx2 from \"clsx\";\nimport { forwardRef as forwardRef3 } from \"react\";\n\n// src/components/ui/IconButton.css.ts\nvar container = \"IconButton_container__s6n7bq0\";\n\n// src/components/ui/IconButton.tsx\nimport { jsx as jsx5 } from \"react/jsx-runtime\";\nvar IconButton = forwardRef3(\n  ({ className, asChild = false, ...props }, forwardedRef) => {\n    const Comp = asChild ? Slot3 : \"button\";\n    return /* @__PURE__ */ jsx5(Comp, { ...props, className: clsx2(container, className), ref: forwardedRef });\n  }\n);\nIconButton.displayName = \"Button\";\n\n// src/components/connect-modal/ConnectModal.css.ts\nvar backButtonContainer = \"ConnectModal_backButtonContainer__gz8z96\";\nvar closeButtonContainer = \"ConnectModal_closeButtonContainer__gz8z97\";\nvar content = \"ConnectModal_content__gz8z92\";\nvar overlay = \"ConnectModal_overlay__gz8z90\";\nvar selectedViewContainer = \"ConnectModal_selectedViewContainer__gz8z95\";\nvar title = \"ConnectModal_title__gz8z91\";\nvar viewContainer = \"ConnectModal_viewContainer__gz8z94\";\nvar walletListContainer = \"ConnectModal_walletListContainer__gz8z99\";\nvar walletListContainerWithViewSelected = \"ConnectModal_walletListContainerWithViewSelected__gz8z9a\";\nvar walletListContent = \"ConnectModal_walletListContent__gz8z98\";\nvar whatIsAWalletButton = \"ConnectModal_whatIsAWalletButton__gz8z93\";\n\n// src/components/ui/Button.tsx\nimport { Slot as Slot4 } from \"@radix-ui/react-slot\";\nimport clsx3 from \"clsx\";\nimport { forwardRef as forwardRef4 } from \"react\";\n\n// src/components/ui/Button.css.ts\nimport { createRuntimeFn as _7a4682 } from \"@vanilla-extract/recipes/createRuntimeFn\";\nvar buttonVariants = _7a4682({ defaultClassName: \"Button_buttonVariants__x1s81q0\", variantClassNames: { variant: { primary: \"Button_buttonVariants_variant_primary__x1s81q1\", outline: \"Button_buttonVariants_variant_outline__x1s81q2\" }, size: { md: \"Button_buttonVariants_size_md__x1s81q3\", lg: \"Button_buttonVariants_size_lg__x1s81q4\" } }, defaultVariants: { variant: \"primary\", size: \"md\" }, compoundVariants: [] });\n\n// src/components/ui/Button.tsx\nimport { jsx as jsx6 } from \"react/jsx-runtime\";\nvar Button = forwardRef4(\n  ({ className, variant, size, asChild = false, ...props }, forwardedRef) => {\n    const Comp = asChild ? Slot4 : \"button\";\n    return /* @__PURE__ */ jsx6(\n      Comp,\n      {\n        ...props,\n        className: clsx3(buttonVariants({ variant, size }), className),\n        ref: forwardedRef\n      }\n    );\n  }\n);\nButton.displayName = \"Button\";\n\n// src/components/ui/Text.tsx\nimport { Slot as Slot5 } from \"@radix-ui/react-slot\";\nimport clsx4 from \"clsx\";\nimport { forwardRef as forwardRef5 } from \"react\";\n\n// src/components/ui/Text.css.ts\nimport { createRuntimeFn as _7a4683 } from \"@vanilla-extract/recipes/createRuntimeFn\";\nvar textVariants = _7a4683({ defaultClassName: \"Text__2bv1ur0\", variantClassNames: { size: { sm: \"Text_textVariants_size_sm__2bv1ur1\" }, weight: { normal: \"Text_textVariants_weight_normal__2bv1ur2\", medium: \"Text_textVariants_weight_medium__2bv1ur3\", bold: \"Text_textVariants_weight_bold__2bv1ur4\" }, color: { muted: \"Text_textVariants_color_muted__2bv1ur5\", danger: \"Text_textVariants_color_danger__2bv1ur6\" }, mono: { true: \"Text_textVariants_mono_true__2bv1ur7\" } }, defaultVariants: { size: \"sm\", weight: \"normal\" }, compoundVariants: [] });\n\n// src/components/ui/Text.tsx\nimport { jsx as jsx7 } from \"react/jsx-runtime\";\nvar Text = forwardRef5(\n  ({\n    children,\n    className,\n    asChild = false,\n    as: Tag = \"div\",\n    size,\n    weight,\n    color,\n    mono,\n    ...textProps\n  }, forwardedRef) => {\n    return /* @__PURE__ */ jsx7(\n      Slot5,\n      {\n        ...textProps,\n        ref: forwardedRef,\n        className: clsx4(textVariants({ size, weight, color, mono }), className),\n        children: asChild ? children : /* @__PURE__ */ jsx7(Tag, { children })\n      }\n    );\n  }\n);\nText.displayName = \"Text\";\n\n// src/components/connect-modal/views/ConnectionStatus.css.ts\nvar connectionStatus = \"ConnectionStatus_connectionStatus__nckm2d3\";\nvar container2 = \"ConnectionStatus_container__nckm2d0\";\nvar retryButtonContainer = \"ConnectionStatus_retryButtonContainer__nckm2d4\";\nvar title2 = \"ConnectionStatus_title__nckm2d2\";\nvar walletIcon = \"ConnectionStatus_walletIcon__nckm2d1\";\n\n// src/components/connect-modal/views/ConnectionStatus.tsx\nimport { jsx as jsx8, jsxs } from \"react/jsx-runtime\";\nfunction ConnectionStatus({\n  selectedWallet,\n  hadConnectionError,\n  onRetryConnection\n}) {\n  return /* @__PURE__ */ jsxs(\"div\", { className: container2, children: [\n    selectedWallet.icon && /* @__PURE__ */ jsx8(\n      \"img\",\n      {\n        className: walletIcon,\n        src: selectedWallet.icon,\n        alt: `${selectedWallet.name} logo`\n      }\n    ),\n    /* @__PURE__ */ jsx8(\"div\", { className: title2, children: /* @__PURE__ */ jsxs(Heading, { as: \"h2\", size: \"xl\", children: [\n      \"Opening \",\n      selectedWallet.name\n    ] }) }),\n    /* @__PURE__ */ jsx8(\"div\", { className: connectionStatus, children: hadConnectionError ? /* @__PURE__ */ jsx8(Text, { color: \"danger\", children: \"Connection failed\" }) : /* @__PURE__ */ jsx8(Text, { color: \"muted\", children: \"Confirm connection in the wallet...\" }) }),\n    hadConnectionError ? /* @__PURE__ */ jsx8(\"div\", { className: retryButtonContainer, children: /* @__PURE__ */ jsx8(Button, { type: \"button\", variant: \"outline\", onClick: () => onRetryConnection(selectedWallet), children: \"Retry Connection\" }) }) : null\n  ] });\n}\n\n// src/components/connect-modal/InfoSection.css.ts\nvar container3 = \"InfoSection_container__1wtioi70\";\n\n// src/components/connect-modal/InfoSection.tsx\nimport { jsx as jsx9, jsxs as jsxs2 } from \"react/jsx-runtime\";\nfunction InfoSection({ title: title3, children }) {\n  return /* @__PURE__ */ jsxs2(\"section\", { className: container3, children: [\n    /* @__PURE__ */ jsx9(Heading, { as: \"h3\", size: \"sm\", weight: \"normal\", children: title3 }),\n    /* @__PURE__ */ jsx9(Text, { weight: \"medium\", color: \"muted\", children })\n  ] });\n}\n\n// src/components/connect-modal/views/GettingStarted.css.ts\nvar container4 = \"GettingStarted_container__1fp07e10\";\nvar content2 = \"GettingStarted_content__1fp07e11\";\nvar installButtonContainer = \"GettingStarted_installButtonContainer__1fp07e12\";\n\n// src/components/connect-modal/views/GettingStarted.tsx\nimport { jsx as jsx10, jsxs as jsxs3 } from \"react/jsx-runtime\";\nfunction GettingStarted() {\n  return /* @__PURE__ */ jsxs3(\"div\", { className: container4, children: [\n    /* @__PURE__ */ jsx10(Heading, { as: \"h2\", children: \"Get Started with Sui\" }),\n    /* @__PURE__ */ jsxs3(\"div\", { className: content2, children: [\n      /* @__PURE__ */ jsx10(InfoSection, { title: \"Install the Sui Wallet Extension\", children: \"We recommend pinning Sui Wallet to your taskbar for quicker access.\" }),\n      /* @__PURE__ */ jsx10(InfoSection, { title: \"Create or Import a Wallet\", children: \"Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.\" }),\n      /* @__PURE__ */ jsx10(InfoSection, { title: \"Refresh Your Browser\", children: \"Once you set up your wallet, refresh this window browser to load up the extension.\" }),\n      /* @__PURE__ */ jsx10(\"div\", { className: installButtonContainer, children: /* @__PURE__ */ jsx10(Button, { variant: \"outline\", asChild: true, children: /* @__PURE__ */ jsx10(\n        \"a\",\n        {\n          href: \"https://chrome.google.com/webstore/detail/sui-wallet/opcgpfmipidbgpenhmajoajpbobppdil\",\n          target: \"_blank\",\n          rel: \"noreferrer\",\n          children: \"Install Wallet Extension\"\n        }\n      ) }) })\n    ] })\n  ] });\n}\n\n// src/components/connect-modal/views/WhatIsAWallet.css.ts\nvar container5 = \"WhatIsAWallet_container__1ktpkq90\";\nvar content3 = \"WhatIsAWallet_content__1ktpkq91\";\n\n// src/components/connect-modal/views/WhatIsAWallet.tsx\nimport { jsx as jsx11, jsxs as jsxs4 } from \"react/jsx-runtime\";\nfunction WhatIsAWallet() {\n  return /* @__PURE__ */ jsxs4(\"div\", { className: container5, children: [\n    /* @__PURE__ */ jsx11(Heading, { as: \"h2\", children: \"What is a Wallet\" }),\n    /* @__PURE__ */ jsxs4(\"div\", { className: content3, children: [\n      /* @__PURE__ */ jsx11(InfoSection, { title: \"Easy Login\", children: \"No need to create new accounts and passwords for every website. Just connect your wallet and get going.\" }),\n      /* @__PURE__ */ jsx11(InfoSection, { title: \"Store your Digital Assets\", children: \"Send, receive, store, and display your digital assets like NFTs & coins.\" })\n    ] })\n  ] });\n}\n\n// src/components/icons/SuiIcon.tsx\nimport { jsx as jsx12, jsxs as jsxs5 } from \"react/jsx-runtime\";\nfunction SuiIcon(props) {\n  return /* @__PURE__ */ jsxs5(\"svg\", { width: 28, height: 28, fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", ...props, children: [\n    /* @__PURE__ */ jsx12(\"rect\", { width: 28, height: 28, rx: 6, fill: \"#6FBCF0\" }),\n    /* @__PURE__ */ jsx12(\n      \"path\",\n      {\n        fillRule: \"evenodd\",\n        clipRule: \"evenodd\",\n        d: \"M7.942 20.527A6.875 6.875 0 0 0 13.957 24c2.51 0 4.759-1.298 6.015-3.473a6.875 6.875 0 0 0 0-6.945l-5.29-9.164a.837.837 0 0 0-1.45 0l-5.29 9.164a6.875 6.875 0 0 0 0 6.945Zm4.524-11.75 1.128-1.953a.418.418 0 0 1 .725 0l4.34 7.516a5.365 5.365 0 0 1 .449 4.442 4.675 4.675 0 0 0-.223-.73c-.599-1.512-1.954-2.68-4.029-3.47-1.426-.54-2.336-1.336-2.706-2.364-.476-1.326.021-2.77.316-3.44Zm-1.923 3.332L9.255 14.34a5.373 5.373 0 0 0 0 5.43 5.373 5.373 0 0 0 4.702 2.714 5.38 5.38 0 0 0 3.472-1.247c.125-.314.51-1.462.034-2.646-.44-1.093-1.5-1.965-3.15-2.594-1.864-.707-3.076-1.811-3.6-3.28a4.601 4.601 0 0 1-.17-.608Z\",\n        fill: \"#fff\"\n      }\n    )\n  ] });\n}\n\n// src/components/connect-modal/wallet-list/WalletList.css.ts\nvar container6 = \"WalletList_container__1v2s6cz0\";\n\n// src/components/connect-modal/wallet-list/WalletListItem.tsx\nimport { clsx as clsx5 } from \"clsx\";\n\n// src/components/connect-modal/wallet-list/WalletListItem.css.ts\nvar container7 = \"WalletListItem_container__1dqqtqs0\";\nvar selectedWalletItem = \"WalletListItem_selectedWalletItem__1dqqtqs2\";\nvar walletIcon2 = \"WalletListItem_walletIcon__1dqqtqs3\";\nvar walletItem = \"WalletListItem_walletItem__1dqqtqs1\";\n\n// src/components/connect-modal/wallet-list/WalletListItem.tsx\nimport { jsx as jsx13, jsxs as jsxs6 } from \"react/jsx-runtime\";\nfunction WalletListItem({ name, icon, onClick, isSelected = false }) {\n  return /* @__PURE__ */ jsx13(\"li\", { className: container7, children: /* @__PURE__ */ jsxs6(\n    \"button\",\n    {\n      className: clsx5(walletItem, { [selectedWalletItem]: isSelected }),\n      type: \"button\",\n      onClick,\n      children: [\n        icon && typeof icon === \"string\" ? /* @__PURE__ */ jsx13(\"img\", { className: walletIcon2, src: icon, alt: `${name} logo` }) : icon,\n        /* @__PURE__ */ jsx13(Heading, { size: \"md\", truncate: true, asChild: true, children: /* @__PURE__ */ jsx13(\"div\", { children: name }) })\n      ]\n    }\n  ) });\n}\n\n// src/components/connect-modal/wallet-list/WalletList.tsx\nimport { jsx as jsx14 } from \"react/jsx-runtime\";\nfunction WalletList({\n  selectedWalletName,\n  onPlaceholderClick,\n  onSelect,\n  wallets\n}) {\n  return /* @__PURE__ */ jsx14(\"ul\", { className: container6, children: wallets.length > 0 ? wallets.map((wallet) => /* @__PURE__ */ jsx14(\n    WalletListItem,\n    {\n      name: wallet.name,\n      icon: wallet.icon,\n      isSelected: getWalletUniqueIdentifier(wallet) === selectedWalletName,\n      onClick: () => onSelect(wallet)\n    },\n    getWalletUniqueIdentifier(wallet)\n  )) : /* @__PURE__ */ jsx14(\n    WalletListItem,\n    {\n      name: \"Sui Wallet\",\n      icon: /* @__PURE__ */ jsx14(SuiIcon, {}),\n      onClick: onPlaceholderClick,\n      isSelected: true\n    }\n  ) });\n}\n\n// src/components/connect-modal/ConnectModal.tsx\nimport { jsx as jsx15, jsxs as jsxs7 } from \"react/jsx-runtime\";\nfunction ConnectModal({\n  trigger,\n  open,\n  defaultOpen,\n  onOpenChange,\n  walletFilter = DEFAULT_WALLET_FILTER\n}) {\n  const [isModalOpen, setModalOpen] = useState(open ?? defaultOpen);\n  const [currentView, setCurrentView] = useState();\n  const [selectedWallet, setSelectedWallet] = useState();\n  const wallets = useWallets().filter(walletFilter);\n  const { mutate, isError } = useConnectWallet();\n  const resetSelection = () => {\n    setSelectedWallet(void 0);\n    setCurrentView(void 0);\n  };\n  const handleOpenChange = (open2) => {\n    if (!open2) {\n      resetSelection();\n    }\n    setModalOpen(open2);\n    onOpenChange?.(open2);\n  };\n  const connectWallet = (wallet) => {\n    setCurrentView(\"connection-status\");\n    mutate(\n      { wallet },\n      {\n        onSuccess: () => handleOpenChange(false)\n      }\n    );\n  };\n  let modalContent;\n  switch (currentView) {\n    case \"what-is-a-wallet\":\n      modalContent = /* @__PURE__ */ jsx15(WhatIsAWallet, {});\n      break;\n    case \"getting-started\":\n      modalContent = /* @__PURE__ */ jsx15(GettingStarted, {});\n      break;\n    case \"connection-status\":\n      modalContent = /* @__PURE__ */ jsx15(\n        ConnectionStatus,\n        {\n          selectedWallet,\n          hadConnectionError: isError,\n          onRetryConnection: connectWallet\n        }\n      );\n      break;\n    default:\n      modalContent = /* @__PURE__ */ jsx15(WhatIsAWallet, {});\n  }\n  return /* @__PURE__ */ jsxs7(Dialog.Root, { open: open ?? isModalOpen, onOpenChange: handleOpenChange, children: [\n    /* @__PURE__ */ jsx15(Dialog.Trigger, { asChild: true, children: trigger }),\n    /* @__PURE__ */ jsx15(Dialog.Portal, { children: /* @__PURE__ */ jsx15(StyleMarker, { children: /* @__PURE__ */ jsx15(Dialog.Overlay, { className: overlay, children: /* @__PURE__ */ jsxs7(Dialog.Content, { className: content, \"aria-describedby\": void 0, children: [\n      /* @__PURE__ */ jsxs7(\n        \"div\",\n        {\n          className: clsx6(walletListContainer, {\n            [walletListContainerWithViewSelected]: !!currentView\n          }),\n          children: [\n            /* @__PURE__ */ jsxs7(\"div\", { className: walletListContent, children: [\n              /* @__PURE__ */ jsx15(Dialog.Title, { className: title, asChild: true, children: /* @__PURE__ */ jsx15(Heading, { as: \"h2\", children: \"Connect a Wallet\" }) }),\n              /* @__PURE__ */ jsx15(\n                WalletList,\n                {\n                  wallets,\n                  selectedWalletName: getWalletUniqueIdentifier(selectedWallet),\n                  onPlaceholderClick: () => setCurrentView(\"getting-started\"),\n                  onSelect: (wallet) => {\n                    if (getWalletUniqueIdentifier(selectedWallet) !== getWalletUniqueIdentifier(wallet)) {\n                      setSelectedWallet(wallet);\n                      connectWallet(wallet);\n                    }\n                  }\n                }\n              )\n            ] }),\n            /* @__PURE__ */ jsx15(\n              \"button\",\n              {\n                className: whatIsAWalletButton,\n                onClick: () => setCurrentView(\"what-is-a-wallet\"),\n                type: \"button\",\n                children: \"What is a Wallet?\"\n              }\n            )\n          ]\n        }\n      ),\n      /* @__PURE__ */ jsxs7(\n        \"div\",\n        {\n          className: clsx6(viewContainer, {\n            [selectedViewContainer]: !!currentView\n          }),\n          children: [\n            /* @__PURE__ */ jsx15(\"div\", { className: backButtonContainer, children: /* @__PURE__ */ jsx15(IconButton, { type: \"button\", \"aria-label\": \"Back\", onClick: () => resetSelection(), children: /* @__PURE__ */ jsx15(BackIcon, {}) }) }),\n            modalContent\n          ]\n        }\n      ),\n      /* @__PURE__ */ jsx15(Dialog.Close, { className: closeButtonContainer, asChild: true, children: /* @__PURE__ */ jsx15(IconButton, { type: \"button\", \"aria-label\": \"Close\", children: /* @__PURE__ */ jsx15(CloseIcon, {}) }) })\n    ] }) }) }) })\n  ] });\n}\n\n// src/hooks/wallet/useCurrentAccount.ts\nfunction useCurrentAccount() {\n  return useWalletStore((state) => state.currentAccount);\n}\n\n// src/components/AccountDropdownMenu.tsx\nimport { formatAddress } from \"@mysten/sui/utils\";\nimport * as DropdownMenu from \"@radix-ui/react-dropdown-menu\";\nimport clsx7 from \"clsx\";\n\n// src/hooks/useSuiClientQuery.ts\nimport { queryOptions, useQuery, useSuspenseQuery } from \"@tanstack/react-query\";\nimport { useMemo as useMemo2 } from \"react\";\n\n// src/hooks/useSuiClient.ts\nimport { useContext as useContext2 } from \"react\";\n\n// src/components/SuiClientProvider.tsx\nimport { getFullnodeUrl, isSuiClient, SuiClient } from \"@mysten/sui/client\";\nimport { createContext as createContext2, useMemo, useState as useState2 } from \"react\";\nimport { jsx as jsx16 } from \"react/jsx-runtime\";\nvar SuiClientContext = createContext2(null);\nvar DEFAULT_NETWORKS = {\n  localnet: { url: getFullnodeUrl(\"localnet\") }\n};\nvar DEFAULT_CREATE_CLIENT = function createClient(_name, config) {\n  if (isSuiClient(config)) {\n    return config;\n  }\n  return new SuiClient(config);\n};\nfunction SuiClientProvider(props) {\n  const { onNetworkChange, network, children } = props;\n  const networks = props.networks ?? DEFAULT_NETWORKS;\n  const createClient2 = props.createClient ?? DEFAULT_CREATE_CLIENT;\n  const [selectedNetwork, setSelectedNetwork] = useState2(\n    props.network ?? props.defaultNetwork ?? Object.keys(networks)[0]\n  );\n  const currentNetwork = props.network ?? selectedNetwork;\n  const client = useMemo(() => {\n    return createClient2(currentNetwork, networks[currentNetwork]);\n  }, [createClient2, currentNetwork, networks]);\n  const ctx = useMemo(() => {\n    return {\n      client,\n      networks,\n      network: currentNetwork,\n      config: networks[currentNetwork] instanceof SuiClient ? null : networks[currentNetwork],\n      selectNetwork: (newNetwork) => {\n        if (currentNetwork === newNetwork) {\n          return;\n        }\n        if (!network && newNetwork !== selectedNetwork) {\n          setSelectedNetwork(newNetwork);\n        }\n        onNetworkChange?.(newNetwork);\n      }\n    };\n  }, [client, networks, selectedNetwork, currentNetwork, network, onNetworkChange]);\n  return /* @__PURE__ */ jsx16(SuiClientContext.Provider, { value: ctx, children });\n}\n\n// src/hooks/useSuiClient.ts\nfunction useSuiClientContext() {\n  const suiClient = useContext2(SuiClientContext);\n  if (!suiClient) {\n    throw new Error(\n      \"Could not find SuiClientContext. Ensure that you have set up the SuiClientProvider\"\n    );\n  }\n  return suiClient;\n}\nfunction useSuiClient() {\n  return useSuiClientContext().client;\n}\n\n// src/hooks/useSuiClientQuery.ts\nfunction getSuiClientQuery({\n  client,\n  network,\n  method,\n  params,\n  options\n}) {\n  return queryOptions({\n    ...options,\n    queryKey: [network, method, params],\n    queryFn: async () => {\n      return await client[method](params);\n    }\n  });\n}\nfunction useSuiClientQuery(...args) {\n  const [method, params, { queryKey = [], ...options } = {}] = args;\n  const suiContext = useSuiClientContext();\n  return useQuery({\n    ...options,\n    queryKey: [suiContext.network, method, params, ...queryKey],\n    queryFn: async () => {\n      return await suiContext.client[method](params);\n    }\n  });\n}\nfunction useSuiClientSuspenseQuery(...args) {\n  const [method, params, options = {}] = args;\n  const suiContext = useSuiClientContext();\n  const query = useMemo2(() => {\n    return getSuiClientQuery({\n      client: suiContext.client,\n      network: suiContext.network,\n      method,\n      params,\n      options\n    });\n  }, [suiContext.client, suiContext.network, method, params, options]);\n  return useSuspenseQuery(query);\n}\n\n// src/hooks/useResolveSuiNSNames.ts\nfunction useResolveSuiNSName(address, options) {\n  return useSuiClientQuery(\n    \"resolveNameServiceNames\",\n    {\n      address,\n      limit: 1\n    },\n    {\n      ...options,\n      refetchOnWindowFocus: false,\n      retry: false,\n      select: (data) => data.data.length > 0 ? data.data[0] : null,\n      enabled: !!address && options?.enabled !== false\n    }\n  );\n}\n\n// src/hooks/wallet/useAccounts.ts\nfunction useAccounts() {\n  return useWalletStore((state) => state.accounts);\n}\n\n// src/hooks/wallet/useDisconnectWallet.ts\nimport { useMutation as useMutation2 } from \"@tanstack/react-query\";\n\n// src/errors/walletErrors.ts\nvar WalletNotConnectedError = class extends Error {\n};\nvar WalletNoAccountSelectedError = class extends Error {\n};\nvar WalletFeatureNotSupportedError = class extends Error {\n};\nvar WalletAccountNotFoundError = class extends Error {\n};\n\n// src/hooks/wallet/useCurrentWallet.ts\nfunction useCurrentWallet() {\n  const currentWallet = useWalletStore((state) => state.currentWallet);\n  const connectionStatus2 = useWalletStore((state) => state.connectionStatus);\n  const supportedIntents = useWalletStore((state) => state.supportedIntents);\n  switch (connectionStatus2) {\n    case \"connecting\":\n      return {\n        connectionStatus: connectionStatus2,\n        currentWallet: null,\n        isDisconnected: false,\n        isConnecting: true,\n        isConnected: false,\n        supportedIntents: []\n      };\n    case \"disconnected\":\n      return {\n        connectionStatus: connectionStatus2,\n        currentWallet: null,\n        isDisconnected: true,\n        isConnecting: false,\n        isConnected: false,\n        supportedIntents: []\n      };\n    case \"connected\": {\n      return {\n        connectionStatus: connectionStatus2,\n        currentWallet,\n        isDisconnected: false,\n        isConnecting: false,\n        isConnected: true,\n        supportedIntents\n      };\n    }\n  }\n}\n\n// src/hooks/wallet/useDisconnectWallet.ts\nfunction useDisconnectWallet({\n  mutationKey,\n  ...mutationOptions\n} = {}) {\n  const { currentWallet } = useCurrentWallet();\n  const setWalletDisconnected = useWalletStore((state) => state.setWalletDisconnected);\n  return useMutation2({\n    mutationKey: walletMutationKeys.disconnectWallet(mutationKey),\n    mutationFn: async () => {\n      if (!currentWallet) {\n        throw new WalletNotConnectedError(\"No wallet is connected.\");\n      }\n      try {\n        await currentWallet.features[\"standard:disconnect\"]?.disconnect();\n      } catch (error) {\n        console.error(\"Failed to disconnect the application from the current wallet.\", error);\n      }\n      setWalletDisconnected();\n    },\n    ...mutationOptions\n  });\n}\n\n// src/hooks/wallet/useSwitchAccount.ts\nimport { useMutation as useMutation3 } from \"@tanstack/react-query\";\nfunction useSwitchAccount({\n  mutationKey,\n  ...mutationOptions\n} = {}) {\n  const { currentWallet } = useCurrentWallet();\n  const setAccountSwitched = useWalletStore((state) => state.setAccountSwitched);\n  return useMutation3({\n    mutationKey: walletMutationKeys.switchAccount(mutationKey),\n    mutationFn: async ({ account }) => {\n      if (!currentWallet) {\n        throw new WalletNotConnectedError(\"No wallet is connected.\");\n      }\n      const accountToSelect = currentWallet.accounts.find(\n        (walletAccount) => walletAccount.address === account.address\n      );\n      if (!accountToSelect) {\n        throw new WalletAccountNotFoundError(\n          `No account with address ${account.address} is connected to ${currentWallet.name}.`\n        );\n      }\n      setAccountSwitched(accountToSelect);\n    },\n    ...mutationOptions\n  });\n}\n\n// src/components/AccountDropdownMenu.css.ts\nvar connectedAccount = \"AccountDropdownMenu_connectedAccount__div2ql0\";\nvar menuContainer = \"AccountDropdownMenu_menuContainer__div2ql1\";\nvar menuContent = \"AccountDropdownMenu_menuContent__div2ql2\";\nvar menuItem = \"AccountDropdownMenu_menuItem__div2ql3\";\nvar separator = \"AccountDropdownMenu_separator__div2ql5\";\nvar switchAccountMenuItem = \"AccountDropdownMenu_switchAccountMenuItem__div2ql4\";\n\n// src/components/icons/CheckIcon.tsx\nimport { jsx as jsx17 } from \"react/jsx-runtime\";\nfunction CheckIcon(props) {\n  return /* @__PURE__ */ jsx17(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", width: 16, height: 16, fill: \"none\", ...props, children: /* @__PURE__ */ jsx17(\n    \"path\",\n    {\n      fill: \"currentColor\",\n      d: \"m11.726 5.048-4.73 5.156-1.722-1.879a.72.72 0 0 0-.529-.23.722.722 0 0 0-.525.24.858.858 0 0 0-.22.573.86.86 0 0 0 .211.576l2.255 2.458c.14.153.332.24.53.24.2 0 .391-.087.532-.24l5.261-5.735A.86.86 0 0 0 13 5.63a.858.858 0 0 0-.22-.572.722.722 0 0 0-.525-.24.72.72 0 0 0-.529.23Z\"\n    }\n  ) });\n}\n\n// src/components/icons/ChevronIcon.tsx\nimport { jsx as jsx18 } from \"react/jsx-runtime\";\nfunction ChevronIcon(props) {\n  return /* @__PURE__ */ jsx18(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", width: 16, height: 16, fill: \"none\", ...props, children: /* @__PURE__ */ jsx18(\n    \"path\",\n    {\n      stroke: \"#A0B6C3\",\n      strokeLinecap: \"round\",\n      strokeLinejoin: \"round\",\n      strokeWidth: 1.5,\n      d: \"m4 6 4 4 4-4\"\n    }\n  ) });\n}\n\n// src/components/AccountDropdownMenu.tsx\nimport { jsx as jsx19, jsxs as jsxs8 } from \"react/jsx-runtime\";\nfunction AccountDropdownMenu({ currentAccount }) {\n  const { mutate: disconnectWallet } = useDisconnectWallet();\n  const { data: domain } = useResolveSuiNSName(\n    currentAccount.label ? null : currentAccount.address\n  );\n  const accounts = useAccounts();\n  return /* @__PURE__ */ jsxs8(DropdownMenu.Root, { modal: false, children: [\n    /* @__PURE__ */ jsx19(StyleMarker, { children: /* @__PURE__ */ jsx19(DropdownMenu.Trigger, { asChild: true, children: /* @__PURE__ */ jsxs8(Button, { size: \"lg\", className: connectedAccount, children: [\n      /* @__PURE__ */ jsx19(Text, { mono: true, weight: \"bold\", children: currentAccount.label ?? domain ?? formatAddress(currentAccount.address) }),\n      /* @__PURE__ */ jsx19(ChevronIcon, {})\n    ] }) }) }),\n    /* @__PURE__ */ jsx19(DropdownMenu.Portal, { children: /* @__PURE__ */ jsx19(StyleMarker, { className: menuContainer, children: /* @__PURE__ */ jsxs8(DropdownMenu.Content, { className: menuContent, children: [\n      accounts.map((account) => /* @__PURE__ */ jsx19(\n        AccountDropdownMenuItem,\n        {\n          account,\n          active: currentAccount.address === account.address\n        },\n        account.address\n      )),\n      /* @__PURE__ */ jsx19(DropdownMenu.Separator, { className: separator }),\n      /* @__PURE__ */ jsx19(\n        DropdownMenu.Item,\n        {\n          className: clsx7(menuItem),\n          onSelect: () => disconnectWallet(),\n          children: \"Disconnect\"\n        }\n      )\n    ] }) }) })\n  ] });\n}\nfunction AccountDropdownMenuItem({\n  account,\n  active\n}) {\n  const { mutate: switchAccount } = useSwitchAccount();\n  const { data: domain } = useResolveSuiNSName(account.label ? null : account.address);\n  return /* @__PURE__ */ jsxs8(\n    DropdownMenu.Item,\n    {\n      className: clsx7(menuItem, switchAccountMenuItem),\n      onSelect: () => switchAccount({ account }),\n      children: [\n        /* @__PURE__ */ jsx19(Text, { mono: true, children: account.label ?? domain ?? formatAddress(account.address) }),\n        active ? /* @__PURE__ */ jsx19(CheckIcon, {}) : null\n      ]\n    }\n  );\n}\n\n// src/components/ConnectButton.tsx\nimport { jsx as jsx20 } from \"react/jsx-runtime\";\nfunction ConnectButton({\n  connectText = \"Connect Wallet\",\n  walletFilter,\n  ...buttonProps\n}) {\n  const currentAccount = useCurrentAccount();\n  return currentAccount ? /* @__PURE__ */ jsx20(AccountDropdownMenu, { currentAccount }) : /* @__PURE__ */ jsx20(\n    ConnectModal,\n    {\n      walletFilter,\n      trigger: /* @__PURE__ */ jsx20(StyleMarker, { children: /* @__PURE__ */ jsx20(Button, { ...buttonProps, children: connectText }) })\n    }\n  );\n}\n\n// src/components/WalletProvider.tsx\nimport { useRef } from \"react\";\n\n// src/hooks/wallet/useAutoConnectWallet.ts\nimport { useQuery as useQuery2 } from \"@tanstack/react-query\";\nimport { useLayoutEffect, useState as useState3 } from \"react\";\nfunction useAutoConnectWallet() {\n  const { mutateAsync: connectWallet } = useConnectWallet();\n  const autoConnectEnabled = useWalletStore((state) => state.autoConnectEnabled);\n  const lastConnectedWalletName = useWalletStore((state) => state.lastConnectedWalletName);\n  const lastConnectedAccountAddress = useWalletStore((state) => state.lastConnectedAccountAddress);\n  const wallets = useWallets();\n  const { isConnected } = useCurrentWallet();\n  const [clientOnly, setClientOnly] = useState3(false);\n  useLayoutEffect(() => {\n    setClientOnly(true);\n  }, []);\n  const { data, isError } = useQuery2({\n    queryKey: [\n      \"@mysten/dapp-kit\",\n      \"autoconnect\",\n      {\n        isConnected,\n        autoConnectEnabled,\n        lastConnectedWalletName,\n        lastConnectedAccountAddress,\n        walletCount: wallets.length\n      }\n    ],\n    queryFn: async () => {\n      if (!autoConnectEnabled) {\n        return \"disabled\";\n      }\n      if (!lastConnectedWalletName || !lastConnectedAccountAddress || isConnected) {\n        return \"attempted\";\n      }\n      const wallet = wallets.find(\n        (wallet2) => getWalletUniqueIdentifier(wallet2) === lastConnectedWalletName\n      );\n      if (wallet) {\n        await connectWallet({\n          wallet,\n          accountAddress: lastConnectedAccountAddress,\n          silent: true\n        });\n      }\n      return \"attempted\";\n    },\n    enabled: autoConnectEnabled,\n    persister: void 0,\n    gcTime: 0,\n    staleTime: 0,\n    networkMode: \"always\",\n    retry: false,\n    retryOnMount: false,\n    refetchInterval: false,\n    refetchIntervalInBackground: false,\n    refetchOnMount: false,\n    refetchOnReconnect: false,\n    refetchOnWindowFocus: false\n  });\n  if (!autoConnectEnabled) {\n    return \"disabled\";\n  }\n  if (!clientOnly) {\n    return \"idle\";\n  }\n  if (isConnected) {\n    return \"attempted\";\n  }\n  if (!lastConnectedWalletName) {\n    return \"attempted\";\n  }\n  return isError ? \"attempted\" : data ?? \"idle\";\n}\n\n// src/hooks/wallet/useSlushWallet.ts\nimport { registerSlushWallet } from \"@mysten/slush-wallet\";\nimport { useLayoutEffect as useLayoutEffect2 } from \"react\";\nfunction useSlushWallet(config) {\n  useLayoutEffect2(() => {\n    if (!config?.name) {\n      return;\n    }\n    let cleanup;\n    let isMounted = true;\n    try {\n      const result = registerSlushWallet(config.name, {\n        origin: config.origin\n      });\n      if (isMounted && result) {\n        cleanup = result.unregister;\n      } else if (result) {\n        result.unregister();\n      }\n    } catch (error) {\n      console.error(\"Failed to register Slush wallet:\", error);\n    }\n    return () => {\n      isMounted = false;\n      if (cleanup) cleanup();\n    };\n  }, [config?.name, config?.origin]);\n}\n\n// src/hooks/wallet/useUnsafeBurnerWallet.ts\nimport { Ed25519Keypair } from \"@mysten/sui/keypairs/ed25519\";\nimport { Transaction } from \"@mysten/sui/transactions\";\nimport { toBase64 } from \"@mysten/sui/utils\";\nimport { getWallets as getWallets2, ReadonlyWalletAccount, SUI_CHAINS } from \"@mysten/wallet-standard\";\nimport { useEffect } from \"react\";\nvar WALLET_NAME = \"Unsafe Burner Wallet\";\nfunction useUnsafeBurnerWallet(enabled) {\n  const suiClient = useSuiClient();\n  useEffect(() => {\n    if (!enabled) {\n      return;\n    }\n    const unregister = registerUnsafeBurnerWallet(suiClient);\n    return unregister;\n  }, [enabled, suiClient]);\n}\nfunction registerUnsafeBurnerWallet(suiClient) {\n  var _on, _connect, _signPersonalMessage, _signTransactionBlock, _signTransaction, _signAndExecuteTransactionBlock, _signAndExecuteTransaction;\n  const walletsApi = getWallets2();\n  const registeredWallets = walletsApi.get();\n  if (registeredWallets.find((wallet) => wallet.name === WALLET_NAME)) {\n    console.warn(\n      \"registerUnsafeBurnerWallet: Unsafe Burner Wallet already registered, skipping duplicate registration.\"\n    );\n    return;\n  }\n  console.warn(\n    \"Your application is currently using the unsafe burner wallet. Make sure that this wallet is disabled in production.\"\n  );\n  const keypair = new Ed25519Keypair();\n  const account = new ReadonlyWalletAccount({\n    address: keypair.getPublicKey().toSuiAddress(),\n    publicKey: keypair.getPublicKey().toSuiBytes(),\n    chains: [\"sui:unknown\"],\n    features: [\n      \"sui:signAndExecuteTransactionBlock\",\n      \"sui:signTransactionBlock\",\n      \"sui:signTransaction\",\n      \"sui:signAndExecuteTransaction\"\n    ]\n  });\n  class UnsafeBurnerWallet {\n    constructor() {\n      __privateAdd(this, _on, () => {\n        return () => {\n        };\n      });\n      __privateAdd(this, _connect, async () => {\n        return { accounts: this.accounts };\n      });\n      __privateAdd(this, _signPersonalMessage, async (messageInput) => {\n        const { bytes, signature } = await keypair.signPersonalMessage(messageInput.message);\n        return { bytes, signature };\n      });\n      __privateAdd(this, _signTransactionBlock, async (transactionInput) => {\n        const { bytes, signature } = await transactionInput.transactionBlock.sign({\n          client: suiClient,\n          signer: keypair\n        });\n        return {\n          transactionBlockBytes: bytes,\n          signature\n        };\n      });\n      __privateAdd(this, _signTransaction, async (transactionInput) => {\n        const { bytes, signature } = await Transaction.from(\n          await transactionInput.transaction.toJSON()\n        ).sign({\n          client: suiClient,\n          signer: keypair\n        });\n        transactionInput.signal?.throwIfAborted();\n        return {\n          bytes,\n          signature\n        };\n      });\n      __privateAdd(this, _signAndExecuteTransactionBlock, async (transactionInput) => {\n        const { bytes, signature } = await transactionInput.transactionBlock.sign({\n          client: suiClient,\n          signer: keypair\n        });\n        return suiClient.executeTransactionBlock({\n          signature,\n          transactionBlock: bytes,\n          options: transactionInput.options\n        });\n      });\n      __privateAdd(this, _signAndExecuteTransaction, async (transactionInput) => {\n        const { bytes, signature } = await Transaction.from(\n          await transactionInput.transaction.toJSON()\n        ).sign({\n          client: suiClient,\n          signer: keypair\n        });\n        transactionInput.signal?.throwIfAborted();\n        const { rawEffects, digest } = await suiClient.executeTransactionBlock({\n          signature,\n          transactionBlock: bytes,\n          options: {\n            showRawEffects: true\n          }\n        });\n        return {\n          bytes,\n          signature,\n          digest,\n          effects: toBase64(new Uint8Array(rawEffects))\n        };\n      });\n    }\n    get version() {\n      return \"1.0.0\";\n    }\n    get name() {\n      return WALLET_NAME;\n    }\n    get icon() {\n      return \"data:image/png;base64,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\";\n    }\n    // Return the Sui chains that your wallet supports.\n    get chains() {\n      return SUI_CHAINS;\n    }\n    get accounts() {\n      return [account];\n    }\n    get features() {\n      return {\n        \"standard:connect\": {\n          version: \"1.0.0\",\n          connect: __privateGet(this, _connect)\n        },\n        \"standard:events\": {\n          version: \"1.0.0\",\n          on: __privateGet(this, _on)\n        },\n        \"sui:signPersonalMessage\": {\n          version: \"1.1.0\",\n          signPersonalMessage: __privateGet(this, _signPersonalMessage)\n        },\n        \"sui:signTransactionBlock\": {\n          version: \"1.0.0\",\n          signTransactionBlock: __privateGet(this, _signTransactionBlock)\n        },\n        \"sui:signAndExecuteTransactionBlock\": {\n          version: \"1.0.0\",\n          signAndExecuteTransactionBlock: __privateGet(this, _signAndExecuteTransactionBlock)\n        },\n        \"sui:signTransaction\": {\n          version: \"2.0.0\",\n          signTransaction: __privateGet(this, _signTransaction)\n        },\n        \"sui:signAndExecuteTransaction\": {\n          version: \"2.0.0\",\n          signAndExecuteTransaction: __privateGet(this, _signAndExecuteTransaction)\n        }\n      };\n    }\n  }\n  _on = new WeakMap();\n  _connect = new WeakMap();\n  _signPersonalMessage = new WeakMap();\n  _signTransactionBlock = new WeakMap();\n  _signTransaction = new WeakMap();\n  _signAndExecuteTransactionBlock = new WeakMap();\n  _signAndExecuteTransaction = new WeakMap();\n  return walletsApi.register(new UnsafeBurnerWallet());\n}\n\n// src/hooks/wallet/useWalletPropertiesChanged.ts\nimport { useEffect as useEffect2 } from \"react\";\nfunction useWalletPropertiesChanged() {\n  const { currentWallet } = useCurrentWallet();\n  const updateWalletAccounts = useWalletStore((state) => state.updateWalletAccounts);\n  useEffect2(() => {\n    const unsubscribeFromEvents = currentWallet?.features[\"standard:events\"].on(\n      \"change\",\n      ({ accounts }) => {\n        if (accounts) {\n          updateWalletAccounts(accounts);\n        }\n      }\n    );\n    return unsubscribeFromEvents;\n  }, [currentWallet?.features, updateWalletAccounts]);\n}\n\n// src/hooks/wallet/useWalletsChanged.ts\nimport { getWallets as getWallets3 } from \"@mysten/wallet-standard\";\nimport { useEffect as useEffect3 } from \"react\";\nfunction useWalletsChanged(preferredWallets, walletFilter) {\n  const setWalletRegistered = useWalletStore((state) => state.setWalletRegistered);\n  const setWalletUnregistered = useWalletStore((state) => state.setWalletUnregistered);\n  useEffect3(() => {\n    const walletsApi = getWallets3();\n    setWalletRegistered(getRegisteredWallets(preferredWallets, walletFilter));\n    const unsubscribeFromRegister = walletsApi.on(\"register\", () => {\n      setWalletRegistered(getRegisteredWallets(preferredWallets, walletFilter));\n    });\n    const unsubscribeFromUnregister = walletsApi.on(\"unregister\", (unregisteredWallet) => {\n      setWalletUnregistered(\n        getRegisteredWallets(preferredWallets, walletFilter),\n        unregisteredWallet\n      );\n    });\n    return () => {\n      unsubscribeFromRegister();\n      unsubscribeFromUnregister();\n    };\n  }, [preferredWallets, walletFilter, setWalletRegistered, setWalletUnregistered]);\n}\n\n// src/themes/lightTheme.ts\nvar lightTheme = {\n  blurs: {\n    modalOverlay: \"blur(0)\"\n  },\n  backgroundColors: {\n    primaryButton: \"#F6F7F9\",\n    primaryButtonHover: \"#F0F2F5\",\n    outlineButtonHover: \"#F4F4F5\",\n    modalOverlay: \"rgba(24 36 53 / 20%)\",\n    modalPrimary: \"white\",\n    modalSecondary: \"#F7F8F8\",\n    iconButton: \"transparent\",\n    iconButtonHover: \"#F0F1F2\",\n    dropdownMenu: \"#FFFFFF\",\n    dropdownMenuSeparator: \"#F3F6F8\",\n    walletItemSelected: \"white\",\n    walletItemHover: \"#3C424226\"\n  },\n  borderColors: {\n    outlineButton: \"#E4E4E7\"\n  },\n  colors: {\n    primaryButton: \"#373737\",\n    outlineButton: \"#373737\",\n    iconButton: \"#000000\",\n    body: \"#182435\",\n    bodyMuted: \"#767A81\",\n    bodyDanger: \"#FF794B\"\n  },\n  radii: {\n    small: \"6px\",\n    medium: \"8px\",\n    large: \"12px\",\n    xlarge: \"16px\"\n  },\n  shadows: {\n    primaryButton: \"0px 4px 12px rgba(0, 0, 0, 0.1)\",\n    walletItemSelected: \"0px 2px 6px rgba(0, 0, 0, 0.05)\"\n  },\n  fontWeights: {\n    normal: \"400\",\n    medium: \"500\",\n    bold: \"600\"\n  },\n  fontSizes: {\n    small: \"14px\",\n    medium: \"16px\",\n    large: \"18px\",\n    xlarge: \"20px\"\n  },\n  typography: {\n    fontFamily: 'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, \"Noto Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\"',\n    fontStyle: \"normal\",\n    lineHeight: \"1.3\",\n    letterSpacing: \"1\"\n  }\n};\n\n// src/walletStore.ts\nimport { createStore } from \"zustand\";\nimport { createJSONStorage, persist } from \"zustand/middleware\";\nfunction createWalletStore({\n  wallets,\n  storage,\n  storageKey,\n  autoConnectEnabled\n}) {\n  return createStore()(\n    persist(\n      (set, get) => ({\n        autoConnectEnabled,\n        wallets,\n        accounts: [],\n        currentWallet: null,\n        currentAccount: null,\n        lastConnectedAccountAddress: null,\n        lastConnectedWalletName: null,\n        connectionStatus: \"disconnected\",\n        supportedIntents: [],\n        setConnectionStatus(connectionStatus2) {\n          set(() => ({\n            connectionStatus: connectionStatus2\n          }));\n        },\n        setWalletConnected(wallet, connectedAccounts, selectedAccount, supportedIntents = []) {\n          set(() => ({\n            accounts: connectedAccounts,\n            currentWallet: wallet,\n            currentAccount: selectedAccount,\n            lastConnectedWalletName: getWalletUniqueIdentifier(wallet),\n            lastConnectedAccountAddress: selectedAccount?.address,\n            connectionStatus: \"connected\",\n            supportedIntents\n          }));\n        },\n        setWalletDisconnected() {\n          set(() => ({\n            accounts: [],\n            currentWallet: null,\n            currentAccount: null,\n            lastConnectedWalletName: null,\n            lastConnectedAccountAddress: null,\n            connectionStatus: \"disconnected\",\n            supportedIntents: []\n          }));\n        },\n        setAccountSwitched(selectedAccount) {\n          set(() => ({\n            currentAccount: selectedAccount,\n            lastConnectedAccountAddress: selectedAccount.address\n          }));\n        },\n        setWalletRegistered(updatedWallets) {\n          set(() => ({ wallets: updatedWallets }));\n        },\n        setWalletUnregistered(updatedWallets, unregisteredWallet) {\n          if (unregisteredWallet === get().currentWallet) {\n            set(() => ({\n              wallets: updatedWallets,\n              accounts: [],\n              currentWallet: null,\n              currentAccount: null,\n              lastConnectedWalletName: null,\n              lastConnectedAccountAddress: null,\n              connectionStatus: \"disconnected\",\n              supportedIntents: []\n            }));\n          } else {\n            set(() => ({ wallets: updatedWallets }));\n          }\n        },\n        updateWalletAccounts(accounts) {\n          const currentAccount = get().currentAccount;\n          set(() => ({\n            accounts,\n            currentAccount: currentAccount && accounts.find(({ address }) => address === currentAccount.address) || accounts[0]\n          }));\n        }\n      }),\n      {\n        name: storageKey,\n        storage: createJSONStorage(() => storage),\n        partialize: ({ lastConnectedWalletName, lastConnectedAccountAddress }) => ({\n          lastConnectedWalletName,\n          lastConnectedAccountAddress\n        })\n      }\n    )\n  );\n}\n\n// src/components/styling/InjectedThemeStyles.tsx\nimport { assignInlineVars } from \"@vanilla-extract/dynamic\";\n\n// src/themes/themeContract.ts\nimport { createGlobalThemeContract } from \"@vanilla-extract/css\";\nvar themeContractValues = {\n  blurs: {\n    modalOverlay: \"\"\n  },\n  backgroundColors: {\n    primaryButton: \"\",\n    primaryButtonHover: \"\",\n    outlineButtonHover: \"\",\n    walletItemHover: \"\",\n    walletItemSelected: \"\",\n    modalOverlay: \"\",\n    modalPrimary: \"\",\n    modalSecondary: \"\",\n    iconButton: \"\",\n    iconButtonHover: \"\",\n    dropdownMenu: \"\",\n    dropdownMenuSeparator: \"\"\n  },\n  borderColors: {\n    outlineButton: \"\"\n  },\n  colors: {\n    primaryButton: \"\",\n    outlineButton: \"\",\n    body: \"\",\n    bodyMuted: \"\",\n    bodyDanger: \"\",\n    iconButton: \"\"\n  },\n  radii: {\n    small: \"\",\n    medium: \"\",\n    large: \"\",\n    xlarge: \"\"\n  },\n  shadows: {\n    primaryButton: \"\",\n    walletItemSelected: \"\"\n  },\n  fontWeights: {\n    normal: \"\",\n    medium: \"\",\n    bold: \"\"\n  },\n  fontSizes: {\n    small: \"\",\n    medium: \"\",\n    large: \"\",\n    xlarge: \"\"\n  },\n  typography: {\n    fontFamily: \"\",\n    fontStyle: \"\",\n    lineHeight: \"\",\n    letterSpacing: \"\"\n  }\n};\nvar themeVars = createGlobalThemeContract(\n  themeContractValues,\n  (_, path) => `dapp-kit-${path.join(\"-\")}`\n);\n\n// src/components/styling/InjectedThemeStyles.tsx\nimport { jsx as jsx21 } from \"react/jsx-runtime\";\nfunction InjectedThemeStyles({ theme }) {\n  const themeStyles = Array.isArray(theme) ? getDynamicThemeStyles(theme) : getStaticThemeStyles(theme);\n  return /* @__PURE__ */ jsx21(\n    \"style\",\n    {\n      precedence: \"default\",\n      href: \"mysten-dapp-kit-theme\",\n      dangerouslySetInnerHTML: {\n        __html: themeStyles\n      }\n    }\n  );\n}\nfunction getDynamicThemeStyles(themes) {\n  return themes.map(({ mediaQuery, selector, variables }) => {\n    const themeStyles = getStaticThemeStyles(variables);\n    const themeStylesWithSelectorPrefix = selector ? `${selector} ${themeStyles}` : themeStyles;\n    return mediaQuery ? `@media ${mediaQuery}{${themeStylesWithSelectorPrefix}}` : themeStylesWithSelectorPrefix;\n  }).join(\" \");\n}\nfunction getStaticThemeStyles(theme) {\n  return `${styleDataAttributeSelector} {${cssStringFromTheme(theme)}}`;\n}\nfunction cssStringFromTheme(theme) {\n  return Object.entries(assignInlineVars(themeVars, theme)).map(([key, value]) => `${key}:${value};`).join(\"\");\n}\n\n// src/components/WalletProvider.tsx\nimport { jsx as jsx22, jsxs as jsxs9 } from \"react/jsx-runtime\";\nfunction WalletProvider({\n  preferredWallets = DEFAULT_PREFERRED_WALLETS,\n  walletFilter = DEFAULT_WALLET_FILTER,\n  storage = DEFAULT_STORAGE,\n  storageKey = DEFAULT_STORAGE_KEY,\n  enableUnsafeBurner = false,\n  autoConnect = false,\n  slushWallet,\n  theme = lightTheme,\n  children\n}) {\n  const storeRef = useRef(\n    createWalletStore({\n      autoConnectEnabled: autoConnect,\n      wallets: getRegisteredWallets(preferredWallets, walletFilter),\n      storage: storage || createInMemoryStore(),\n      storageKey\n    })\n  );\n  return /* @__PURE__ */ jsx22(WalletContext.Provider, { value: storeRef.current, children: /* @__PURE__ */ jsxs9(\n    WalletConnectionManager,\n    {\n      preferredWallets,\n      walletFilter,\n      enableUnsafeBurner,\n      slushWallet,\n      children: [\n        theme ? /* @__PURE__ */ jsx22(InjectedThemeStyles, { theme }) : null,\n        children\n      ]\n    }\n  ) });\n}\nfunction WalletConnectionManager({\n  preferredWallets = DEFAULT_PREFERRED_WALLETS,\n  walletFilter = DEFAULT_WALLET_FILTER,\n  enableUnsafeBurner = false,\n  slushWallet,\n  children\n}) {\n  useWalletsChanged(preferredWallets, walletFilter);\n  useWalletPropertiesChanged();\n  useSlushWallet(slushWallet);\n  useUnsafeBurnerWallet(enableUnsafeBurner);\n  useAutoConnectWallet();\n  return children;\n}\n\n// src/hooks/networkConfig.ts\nfunction createNetworkConfig(networkConfig) {\n  function useNetworkConfig() {\n    const { config } = useSuiClientContext();\n    if (!config) {\n      throw new Error(\"No network config found\");\n    }\n    return config;\n  }\n  function useNetworkVariables() {\n    const { variables } = useNetworkConfig();\n    return variables ?? {};\n  }\n  function useNetworkVariable(name) {\n    const variables = useNetworkVariables();\n    return variables[name];\n  }\n  return {\n    networkConfig,\n    useNetworkConfig,\n    useNetworkVariables,\n    useNetworkVariable\n  };\n}\n\n// src/hooks/useSuiClientInfiniteQuery.ts\nimport { useInfiniteQuery } from \"@tanstack/react-query\";\nfunction useSuiClientInfiniteQuery(method, params, {\n  queryKey = [],\n  enabled = !!params,\n  ...options\n} = {}) {\n  const suiContext = useSuiClientContext();\n  return useInfiniteQuery({\n    ...options,\n    initialPageParam: null,\n    queryKey: [suiContext.network, method, params, ...queryKey],\n    enabled,\n    queryFn: ({ pageParam }) => suiContext.client[method]({\n      // oxlint-disable-next-line no-useless-fallback-in-spread\n      ...params ?? {},\n      cursor: pageParam\n    }),\n    getNextPageParam: (lastPage) => lastPage.hasNextPage ? lastPage.nextCursor ?? null : null\n  });\n}\n\n// src/hooks/useSuiClientMutation.ts\nimport { useMutation as useMutation4 } from \"@tanstack/react-query\";\nfunction useSuiClientMutation(method, options = {}) {\n  const suiContext = useSuiClientContext();\n  return useMutation4({\n    ...options,\n    mutationFn: async (params) => {\n      return await suiContext.client[method](params);\n    }\n  });\n}\n\n// src/hooks/useSuiClientQueries.ts\nimport { useQueries } from \"@tanstack/react-query\";\nfunction useSuiClientQueries({\n  queries,\n  combine\n}) {\n  const suiContext = useSuiClientContext();\n  return useQueries({\n    combine,\n    queries: queries.map((query) => {\n      const { method, params, options: { queryKey = [], ...restOptions } = {} } = query;\n      return {\n        ...restOptions,\n        queryKey: [suiContext.network, method, params, ...queryKey],\n        queryFn: async () => {\n          return await suiContext.client[method](params);\n        }\n      };\n    })\n  });\n}\n\n// src/hooks/wallet/useSignAndExecuteTransaction.ts\nimport { toBase64 as toBase643 } from \"@mysten/sui/utils\";\nimport { signTransaction } from \"@mysten/wallet-standard\";\nimport { useMutation as useMutation6 } from \"@tanstack/react-query\";\n\n// src/hooks/wallet/useReportTransactionEffects.ts\nimport { toBase64 as toBase642 } from \"@mysten/sui/utils\";\nimport { useMutation as useMutation5 } from \"@tanstack/react-query\";\nfunction useReportTransactionEffects({\n  mutationKey,\n  ...mutationOptions\n} = {}) {\n  const { currentWallet } = useCurrentWallet();\n  const currentAccount = useCurrentAccount();\n  return useMutation5({\n    mutationKey: walletMutationKeys.reportTransactionEffects(mutationKey),\n    mutationFn: async ({ effects, chain = currentWallet?.chains[0], account = currentAccount }) => {\n      if (!currentWallet) {\n        throw new WalletNotConnectedError(\"No wallet is connected.\");\n      }\n      if (!account) {\n        throw new WalletNoAccountSelectedError(\n          \"No wallet account is selected to report transaction effects for\"\n        );\n      }\n      const reportTransactionEffectsFeature = currentWallet.features[\"sui:reportTransactionEffects\"];\n      if (reportTransactionEffectsFeature) {\n        return await reportTransactionEffectsFeature.reportTransactionEffects({\n          effects: Array.isArray(effects) ? toBase642(new Uint8Array(effects)) : effects,\n          account,\n          chain: chain ?? currentWallet?.chains[0]\n        });\n      }\n    },\n    ...mutationOptions\n  });\n}\n\n// src/hooks/wallet/useSignAndExecuteTransaction.ts\nfunction useSignAndExecuteTransaction({\n  mutationKey,\n  execute,\n  ...mutationOptions\n} = {}) {\n  const { currentWallet, supportedIntents } = useCurrentWallet();\n  const currentAccount = useCurrentAccount();\n  const { client, network } = useSuiClientContext();\n  const { mutate: reportTransactionEffects } = useReportTransactionEffects();\n  const executeTransaction = execute ?? (async ({ bytes, signature }) => {\n    const { digest, rawEffects } = await client.executeTransactionBlock({\n      transactionBlock: bytes,\n      signature,\n      options: {\n        showRawEffects: true\n      }\n    });\n    return {\n      digest,\n      rawEffects,\n      effects: toBase643(new Uint8Array(rawEffects)),\n      bytes,\n      signature\n    };\n  });\n  return useMutation6({\n    mutationKey: walletMutationKeys.signAndExecuteTransaction(mutationKey),\n    mutationFn: async ({ transaction, ...signTransactionArgs }) => {\n      if (!currentWallet) {\n        throw new WalletNotConnectedError(\"No wallet is connected.\");\n      }\n      const signerAccount = signTransactionArgs.account ?? currentAccount;\n      if (!signerAccount) {\n        throw new WalletNoAccountSelectedError(\n          \"No wallet account is selected to sign the transaction with.\"\n        );\n      }\n      if (!currentWallet.features[\"sui:signTransaction\"] && !currentWallet.features[\"sui:signTransactionBlock\"]) {\n        throw new WalletFeatureNotSupportedError(\n          \"This wallet doesn't support the `signTransaction` feature.\"\n        );\n      }\n      if (typeof transaction !== \"string\" && \"setSenderIfNotSet\" in transaction) {\n        transaction.setSenderIfNotSet(signerAccount.address);\n      }\n      const chain = signTransactionArgs.chain ?? `sui:${network}`;\n      const { signature, bytes } = await signTransaction(currentWallet, {\n        ...signTransactionArgs,\n        transaction: {\n          async toJSON() {\n            return typeof transaction === \"string\" ? transaction : await transaction.toJSON({\n              supportedIntents,\n              client\n            });\n          }\n        },\n        account: signerAccount,\n        chain\n      });\n      const result = await executeTransaction({ bytes, signature });\n      let effects;\n      if (\"effects\" in result && result.effects?.bcs) {\n        effects = result.effects.bcs;\n      } else if (\"rawEffects\" in result) {\n        effects = toBase643(new Uint8Array(result.rawEffects));\n      } else {\n        throw new Error(\"Could not parse effects from transaction result.\");\n      }\n      reportTransactionEffects({ effects, account: signerAccount, chain });\n      return result;\n    },\n    ...mutationOptions\n  });\n}\n\n// src/hooks/wallet/useSignPersonalMessage.ts\nimport { useMutation as useMutation7 } from \"@tanstack/react-query\";\nfunction useSignPersonalMessage({\n  mutationKey,\n  ...mutationOptions\n} = {}) {\n  const { currentWallet } = useCurrentWallet();\n  const currentAccount = useCurrentAccount();\n  const { network } = useSuiClientContext();\n  return useMutation7({\n    mutationKey: walletMutationKeys.signPersonalMessage(mutationKey),\n    mutationFn: async (signPersonalMessageArgs) => {\n      if (!currentWallet) {\n        throw new WalletNotConnectedError(\"No wallet is connected.\");\n      }\n      const signerAccount = signPersonalMessageArgs.account ?? currentAccount;\n      if (!signerAccount) {\n        throw new WalletNoAccountSelectedError(\n          \"No wallet account is selected to sign the personal message with.\"\n        );\n      }\n      const signPersonalMessageFeature = currentWallet.features[\"sui:signPersonalMessage\"];\n      if (signPersonalMessageFeature) {\n        return await signPersonalMessageFeature.signPersonalMessage({\n          ...signPersonalMessageArgs,\n          account: signerAccount,\n          chain: signPersonalMessageArgs.chain ?? `sui:${network}`\n        });\n      }\n      const signMessageFeature = currentWallet.features[\"sui:signMessage\"];\n      if (signMessageFeature) {\n        console.warn(\n          \"This wallet doesn't support the `signPersonalMessage` feature... falling back to `signMessage`.\"\n        );\n        const { messageBytes, signature } = await signMessageFeature.signMessage({\n          ...signPersonalMessageArgs,\n          account: signerAccount\n        });\n        return { bytes: messageBytes, signature };\n      }\n      throw new WalletFeatureNotSupportedError(\n        \"This wallet doesn't support the `signPersonalMessage` feature.\"\n      );\n    },\n    ...mutationOptions\n  });\n}\n\n// src/hooks/wallet/useSignTransaction.ts\nimport { signTransaction as signTransaction2 } from \"@mysten/wallet-standard\";\nimport { useMutation as useMutation8 } from \"@tanstack/react-query\";\nfunction useSignTransaction({\n  mutationKey,\n  ...mutationOptions\n} = {}) {\n  const { currentWallet } = useCurrentWallet();\n  const currentAccount = useCurrentAccount();\n  const { client, network } = useSuiClientContext();\n  const { mutate: reportTransactionEffects } = useReportTransactionEffects();\n  return useMutation8({\n    mutationKey: walletMutationKeys.signTransaction(mutationKey),\n    mutationFn: async ({ transaction, ...signTransactionArgs }) => {\n      if (!currentWallet) {\n        throw new WalletNotConnectedError(\"No wallet is connected.\");\n      }\n      const signerAccount = signTransactionArgs.account ?? currentAccount;\n      if (!signerAccount) {\n        throw new WalletNoAccountSelectedError(\n          \"No wallet account is selected to sign the transaction with.\"\n        );\n      }\n      if (!currentWallet.features[\"sui:signTransaction\"] && !currentWallet.features[\"sui:signTransactionBlock\"]) {\n        throw new WalletFeatureNotSupportedError(\n          \"This wallet doesn't support the `signTransaction` feature.\"\n        );\n      }\n      if (typeof transaction !== \"string\" && \"setSenderIfNotSet\" in transaction) {\n        transaction.setSenderIfNotSet(signerAccount.address);\n      }\n      const chain = signTransactionArgs.chain ?? `sui:${network}`;\n      const { bytes, signature } = await signTransaction2(currentWallet, {\n        ...signTransactionArgs,\n        transaction: {\n          toJSON: async () => {\n            return typeof transaction === \"string\" ? transaction : await transaction.toJSON({\n              supportedIntents: [],\n              client\n            });\n          }\n        },\n        account: signerAccount,\n        chain\n      });\n      return {\n        bytes,\n        signature,\n        reportTransactionEffects: (effects) => {\n          reportTransactionEffects({\n            effects,\n            account: signerAccount,\n            chain\n          });\n        }\n      };\n    },\n    ...mutationOptions\n  });\n}\nexport {\n  ConnectButton,\n  ConnectModal,\n  SuiClientContext,\n  SuiClientProvider,\n  WalletProvider,\n  createNetworkConfig,\n  getSuiClientQuery,\n  lightTheme,\n  useAccounts,\n  useAutoConnectWallet,\n  useConnectWallet,\n  useCurrentAccount,\n  useCurrentWallet,\n  useDisconnectWallet,\n  useReportTransactionEffects,\n  useResolveSuiNSName,\n  useSignAndExecuteTransaction,\n  useSignPersonalMessage,\n  useSignTransaction,\n  useSuiClient,\n  useSuiClientContext,\n  useSuiClientInfiniteQuery,\n  useSuiClientMutation,\n  useSuiClientQueries,\n  useSuiClientQuery,\n  useSuiClientSuspenseQuery,\n  useSwitchAccount,\n  useWallets\n};\n//# sourceMappingURL=index.js.map\n"],"x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63],"mappings":"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"}